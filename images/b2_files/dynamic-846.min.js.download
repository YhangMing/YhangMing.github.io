/*
 * Copyright 1999-2020 FlamingText.com Pty Ltd
 * All rights are reserved.
 */
/*
 Rangy Inputs, a jQuery plug-in for selection and caret manipulation within textareas and text inputs.

 https://github.com/timdown/rangyinputs

 For range and selection features for contenteditable, see Rangy.

 http://code.google.com/p/rangy/

 Depends on jQuery 1.0 or later.

 Copyright 2014, Tim Down
 Licensed under the MIT license.
 Version: 1.2.0
 Build date: 30 November 2014
 Hammer.JS - v2.0.8 - 2016-04-23
 http://hammerjs.github.io/

 Copyright (c) 2016 Jorik Tangelder;
 Licensed under the MIT license */
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(e,f,a){e instanceof String&&(e=String(e));for(var g=e.length,h=0;h<g;h++){var l=e[h];if(f.call(a,l,h,e))return{i:h,v:l}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,f,a){e!=Array.prototype&&e!=Object.prototype&&(e[f]=a.value)};
$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(e,f,a,g){if(f){a=$jscomp.global;e=e.split(".");for(g=0;g<e.length-1;g++){var h=e[g];h in a||(a[h]={});a=a[h]}e=e[e.length-1];g=a[e];f=f(g);f!=g&&null!=f&&$jscomp.defineProperty(a,e,{configurable:!0,writable:!0,value:f})}};
$jscomp.polyfill("Array.prototype.find",function(e){return e?e:function(e,a){return $jscomp.findInternal(this,e,a).v}},"es6","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var e=0;return function(f){return $jscomp.SYMBOL_PREFIX+(f||"")+e++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var e=$jscomp.global.Symbol.iterator;e||(e=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[e]&&$jscomp.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(e){var f=0;return $jscomp.iteratorPrototype(function(){return f<e.length?{done:!1,value:e[f++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(e){$jscomp.initSymbolIterator();e={next:e};e[$jscomp.global.Symbol.iterator]=function(){return this};return e};$jscomp.iteratorFromArray=function(e,f){$jscomp.initSymbolIterator();e instanceof String&&(e+="");var a=0,g={next:function(){if(a<e.length){var h=a++;return{value:f(h,e[h]),done:!1}}g.next=function(){return{done:!0,value:void 0}};return g.next()}};g[Symbol.iterator]=function(){return g};return g};
$jscomp.polyfill("Array.prototype.values",function(e){return e?e:function(){return $jscomp.iteratorFromArray(this,function(e,a){return a})}},"es8","es3");$jscomp.checkStringArgs=function(e,f,a){if(null==e)throw new TypeError("The 'this' value for String.prototype."+a+" must not be null or undefined");if(f instanceof RegExp)throw new TypeError("First argument to String.prototype."+a+" must not be a regular expression");return e+""};
$jscomp.polyfill("String.prototype.endsWith",function(e){return e?e:function(e,a){var g=$jscomp.checkStringArgs(this,e,"endsWith");e+="";void 0===a&&(a=g.length);a=Math.max(0,Math.min(a|0,g.length));for(var f=e.length;0<f&&0<a;)if(g[--a]!=e[--f])return!1;return 0>=f}},"es6","es3");$jscomp.polyfill("Array.prototype.keys",function(e){return e?e:function(){return $jscomp.iteratorFromArray(this,function(e){return e})}},"es6","es3");
(function(e){"function"===typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports&&"object"==typeof module?module.exports=e(require("jquery")):e(jQuery)})(function(e,f){function a(a,g,f,h){for(var k=[],l=0;l<a.length;l++){var m=a[l];if(m){var p=tinycolor(m),u=.5>p.toHsl().l?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";u+=tinycolor.equals(g,m)?" sp-thumb-active":"";m=p.toString(h.preferredFormat||"rgb");var Y=K?"background-color:"+p.toRgbString():"filter:"+p.toFilter();
k.push('<span title="'+m+'" data-color="'+p.toRgbString()+'" class="'+u+'"><span class="sp-thumb-inner" style="'+Y+';" /></span>')}else k.push(e("<div />").append(e('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",h.noColorSelectedText)).html())}return"<div class='sp-cf "+f+"'>"+k.join("")+"</div>"}function g(a,g){a=e.extend({},C,a);a.callbacks={move:p(a.move,g),change:p(a.change,g),show:p(a.show,g),hide:p(a.hide,g),beforeShow:p(a.beforeShow,
g)};return a}function h(h,k){function p(){z.showPaletteOnly&&(z.showPalette=!0);bb.text(z.showPaletteOnly?z.togglePaletteMoreText:z.togglePaletteLessText);if(z.palette){Da=z.palette.slice(0);wa=e.isArray(Da[0])?Da:[Da];La={};for(var a=0;a<wa.length;a++)for(var g=0;g<wa[a].length;g++){var f=tinycolor(wa[a][g]).toRgbString();La[f]=!0}}F.toggleClass("sp-flat",R);F.toggleClass("sp-input-disabled",!z.showInput);F.toggleClass("sp-alpha-enabled",z.showAlpha);F.toggleClass("sp-clear-enabled",Pa);F.toggleClass("sp-buttons-disabled",
!z.showButtons);F.toggleClass("sp-palette-buttons-disabled",!z.togglePaletteOnly);F.toggleClass("sp-palette-disabled",!z.showPalette);F.toggleClass("sp-palette-only",z.showPaletteOnly);F.toggleClass("sp-initial-disabled",!z.showInitial);F.addClass(z.className).addClass(z.containerClassName);da()}function ca(){if(A&&window.localStorage){try{var a=window.localStorage[A].split(",#");1<a.length&&(delete window.localStorage[A],e.each(a,function(a,e){P(e)}))}catch(eb){}try{Z=window.localStorage[A].split(";")}catch(eb){}}}
function P(a){if(pa){a=tinycolor(a).toRgbString();if(!La[a]&&-1===e.inArray(a,Z))for(Z.push(a);Z.length>xa;)Z.shift();if(A&&window.localStorage)try{window.localStorage[A]=Z.join(";")}catch(eb){}}}function C(){var a=[];if(z.showPalette)for(var e=0;e<Z.length;e++){var g=tinycolor(Z[e]).toRgbString();La[g]||a.push(Z[e])}return a.reverse().slice(0,z.maxSelectionSize)}function fa(){var g=Q(),f=e.map(wa,function(e,f){return a(e,g,"sp-palette-row sp-palette-row-"+f,z)});ca();Z&&f.push(a(C(),g,"sp-palette-row sp-palette-row-selection",
z));Va.html(f.join(""))}function M(){if(z.showInitial){var e=Qa,g=Q();Ra.html(a([e,g],g,"sp-palette-row-initial",z))}}function Ha(){(0>=aa||0>=S||0>=ya)&&da();y=!0;F.addClass("sp-dragging");qa=null;H.trigger("dragstart.spectrum",[Q()])}function Y(){y=!1;F.removeClass("sp-dragging");H.trigger("dragstop.spectrum",[Q()])}function ra(){var a=za.val();null!==a&&""!==a||!Pa?(a=tinycolor(a),a.isValid()?(sa(a),T(),J()):za.addClass("sp-validation-error")):(sa(null),T(),J())}function Ea(){ha?ia():Ba()}function Ba(){var a=
e.Event("beforeShow.spectrum");if(ha)da();else if(H.trigger(a,[Q()]),!1!==L.beforeShow(Q())&&!a.isDefaultPrevented()){for(a=0;a<G.length;a++)G[a]&&G[a].hide();ha=!0;e(la).on("keydown.spectrum",Fa);e(la).on("click.spectrum",Ia);e(window).on("resize.spectrum",U);Sa.addClass("sp-active");F.removeClass("sp-hidden");da();D();Qa=Q();M();L.show(Qa);H.trigger("show.spectrum",[Qa])}}function Fa(a){27===a.keyCode&&ia()}function Ia(a){2==a.button||y||(gb||sa(Qa,!0),J(!0),ia())}function ia(){ha&&!R&&(ha=!1,e(la).off("keydown.spectrum",
Fa),e(la).off("click.spectrum",Ia),e(window).off("resize.spectrum",U),Sa.removeClass("sp-active"),F.addClass("sp-hidden"),L.hide(Q()),H.trigger("hide.spectrum",[Q()]))}function sa(a,e){if(tinycolor.equals(a,Q()))D();else{if(!a&&Pa)Ma=!0;else{Ma=!1;var g=tinycolor(a);a=g.toHsv();ea=a.h%360/360;va=a.s;ba=a.v;ma=a.a}D();g&&g.isValid()&&!e&&(Ta=z.preferredFormat||g.getFormat())}}function Q(a){a=a||{};return Pa&&Ma?null:tinycolor.fromRatio({h:ea,s:va,v:ba,a:Math.round(1E3*ma)/1E3},{format:a.format||Ta})}
function T(){D();L.move(Q());H.trigger("move.spectrum",[Q()])}function D(){za.removeClass("sp-validation-error");I();var a=tinycolor.fromRatio({h:ea,s:1,v:1});E.css("background-color",a.toHexString());a=Ta;!(1>ma)||0===ma&&"name"===a||"hex"!==a&&"hex3"!==a&&"hex6"!==a&&"name"!==a||(a="rgb");var e=Q({format:a}),g="";Ua.removeClass("sp-clear-display");Ua.css("background-color","transparent");if(!e&&Pa)Ua.addClass("sp-clear-display");else{g=e.toHexString();var f=e.toRgbString();K||1===e.alpha?Ua.css("background-color",
f):(Ua.css("background-color","transparent"),Ua.css("filter",e.toFilter()));if(z.showAlpha){f=e.toRgb();f.a=0;f=tinycolor(f).toRgbString();var h="linear-gradient(left, "+f+", "+g+")";N?ta.css("filter",tinycolor(f).toFilter({gradientType:1},g)):(ta.css("background","-webkit-"+h),ta.css("background","-moz-"+h),ta.css("background","-ms-"+h),ta.css("background","linear-gradient(to right, "+f+", "+g+")"))}g=e.toString(a)}z.showInput&&za.val(g);z.showPalette&&fa();M()}function I(){var a=va,e=ba;Pa&&Ma?
(Na.hide(),w.hide(),Ga.hide()):(Na.show(),w.show(),Ga.show(),a*=S,e=aa-e*aa,a=Math.max(-V,Math.min(S-V,a-V)),e=Math.max(-V,Math.min(aa-V,e-V)),Ga.css({top:e+"px",left:a+"px"}),Na.css({left:ma*Ja-Oa/2-2+"px"}),w.css({top:ea*ya-Aa+"px"}))}function J(a){var e=Q(),g="",f=!tinycolor.equals(e,Qa);e&&(g=e.toString(Ta),P(e));Za&&H.val(g);a&&f&&(L.change(e),H.trigger("change",[e]))}function da(){ha&&(S=E.width(),aa=E.height(),V=Ga.height(),ja.width(),ya=ja.height(),Aa=w.height(),Ja=$a.width(),Oa=Na.width(),
R||(F.css("position","absolute"),z.offset?F.offset(z.offset):F.offset(l(F,Wa))),I(),z.showPalette&&fa(),H.trigger("reflow.spectrum"))}function Ka(){ia();Ca=!0;H.attr("disabled",!0);Wa.addClass("sp-disabled")}var z=g(k,h),R=z.flat,pa=z.showSelectionPalette,A=z.localStorageKey;k=z.theme;var L=z.callbacks,U=B(da,10),ha=!1,y=!1,S=0,aa=0,V=0,ya=0,Ja=0,Oa=0,Aa=0,ea=0,va=0,ba=0,ma=1,Da=[],wa=[],La={},Z=z.selectionPalette.slice(0),xa=z.maxSelectionSize,qa=null,la=h.ownerDocument,H=e(h),Ca=!1,F=e(O,la).addClass(k),
Xa=F.find(".sp-picker-container"),E=F.find(".sp-color"),Ga=F.find(".sp-dragger"),ja=F.find(".sp-hue"),w=F.find(".sp-slider"),ta=F.find(".sp-alpha-inner"),$a=F.find(".sp-alpha"),Na=F.find(".sp-alpha-handle"),za=F.find(".sp-input"),Va=F.find(".sp-palette"),Ra=F.find(".sp-initial"),na=F.find(".sp-cancel"),cb=F.find(".sp-clear"),fb=F.find(".sp-choose"),bb=F.find(".sp-palette-toggle"),Za=H.is("input");h=Za&&"color"===H.attr("type")&&e.fn.spectrum.inputTypeColorSupport();var db=Za&&!R,Sa=db?e("<div class='sp-replacer'><div class='sp-preview'><div class='sp-preview-inner'></div></div><div class='sp-dd'>&#9660;</div></div>").addClass(k).addClass(z.className).addClass(z.replacerClassName):
e([]),Wa=db?Sa:H,Ua=Sa.find(".sp-preview-inner"),Ya=z.color||Za&&H.val(),Qa=!1,Ta=z.preferredFormat,gb=!z.showButtons||z.clickoutFiresChange,Ma=!Ya,Pa=z.allowEmpty&&!h;(function(){function a(a){a.data&&a.data.ignore?(sa(e(a.target).closest(".sp-thumb-el").data("color")),T()):(sa(e(a.target).closest(".sp-thumb-el").data("color")),T(),z.hideAfterPaletteSelect?(J(!0),ia()):J());return!1}N&&F.find("*:not(input)").attr("unselectable","on");p();db&&H.after(Sa).hide();Pa||cb.hide();if(R)H.after(F).hide();
else{var g="parent"===z.appendTo?H.parent():e(z.appendTo);1!==g.length&&(g=e("body"));g.append(F)}ca();Wa.on("click.spectrum touchstart.spectrum",function(a){Ca||Ea();a.stopPropagation();e(a.target).is("input")||a.preventDefault()});(H.is(":disabled")||!0===z.disabled)&&Ka();F.click(m);za.change(ra);za.on("paste",function(){setTimeout(ra,1)});za.keydown(function(a){13==a.keyCode&&ra()});na.text(z.cancelText);na.on("click.spectrum",function(a){a.stopPropagation();a.preventDefault();sa(Qa,!0);J(!0);
ia();T()});cb.attr("title",z.clearText);cb.on("click.spectrum",function(a){a.stopPropagation();a.preventDefault();Ma=!0;T();R&&J(!0)});fb.text(z.chooseText);fb.on("click.spectrum",function(a){a.stopPropagation();a.preventDefault();N&&za.is(":focus")&&za.trigger("change");za.hasClass("sp-validation-error")||(J(!0),ia())});bb.text(z.showPaletteOnly?z.togglePaletteMoreText:z.togglePaletteLessText);bb.on("click.spectrum",function(a){a.stopPropagation();a.preventDefault();z.showPaletteOnly=!z.showPaletteOnly;
z.showPaletteOnly||R||F.css("left","-="+(Xa.outerWidth(!0)+5));p()});u($a,function(a,e,g){ma=a/Ja;Ma=!1;g.shiftKey&&(ma=Math.round(10*ma)/10);T()},Ha,Y);u(ja,function(a,e){if(0==va||0==ba)ba=va=1;ea=parseFloat(e/ya);Ma=!1;z.showAlpha||(ma=1);T()},Ha,Y);u(E,function(a,e,g){g.shiftKey?qa||(qa=Math.abs(a-va*S)>Math.abs(e-(aa-ba*aa))?"x":"y"):qa=null;g=!qa||"y"===qa;qa&&"x"!==qa||(va=parseFloat(a/S));g&&(ba=parseFloat((aa-e)/aa));Ma=!1;z.showAlpha||(ma=1);T()},Ha,Y);Ya?(sa(Ya),D(),Ta=z.preferredFormat||
tinycolor(Ya).format,P(Ya)):D();R&&Ba();g=N?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Va.on(g,".sp-thumb-el",a);Ra.on(g,".sp-thumb-el:nth-child(1)",{ignore:!0},a)})();var ab={show:Ba,hide:ia,toggle:Ea,reflow:da,option:function(a,g){if(a===f)return e.extend({},z);if(g===f)return z[a];z[a]=g;"preferredFormat"===a&&(Ta=z.preferredFormat);p()},enable:function(){Ca=!1;H.attr("disabled",!1);Wa.removeClass("sp-disabled")},disable:Ka,offset:function(a){z.offset=a;da()},set:function(a){sa(a);
J()},get:Q,destroy:function(){H.show();Wa.off("click.spectrum touchstart.spectrum");F.remove();Sa.remove();G[ab.id]=null},container:F};ab.id=G.push(ab)-1;return ab}function l(a,g){var f=a.outerWidth(),h=a.outerHeight(),k=g.outerHeight(),l=a[0].ownerDocument,m=l.documentElement;a=m.clientWidth+e(l).scrollLeft();l=m.clientHeight+e(l).scrollTop();g=g.offset();m=g.left;var p=g.top;p+=k;m-=Math.min(m,m+f>a&&a>f?Math.abs(m+f-a):0);p-=Math.min(p,p+h>l&&l>h?Math.abs(h+k-0):0);return{top:p,bottom:g.bottom,
left:m,right:g.right,width:g.width,height:g.height}}function k(){}function m(a){a.stopPropagation()}function p(a,e){var g=Array.prototype.slice,f=g.call(arguments,2);return function(){return a.apply(e,f.concat(g.call(arguments)))}}function u(a,g,f,h){function k(a){a.stopPropagation&&a.stopPropagation();a.preventDefault&&a.preventDefault();a.returnValue=!1}function l(e){if(u){if(N&&9>p.documentMode&&!e.button)return m();var f=e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches[0],h=Math.max(0,
Math.min((f&&f.pageX||e.pageX)-Y.left,B));f=Math.max(0,Math.min((f&&f.pageY||e.pageY)-Y.top,ra));K&&k(e);g.apply(a,[h,f,e])}}function m(){u&&(e(p).off(O),e(p.body).removeClass("sp-dragging"),setTimeout(function(){h.apply(a,arguments)},0));u=!1}g=g||function(){};f=f||function(){};h=h||function(){};var p=document,u=!1,Y={},ra=0,B=0,K="ontouchstart"in window,O={};O.selectstart=k;O.dragstart=k;O["touchmove mousemove"]=l;O["touchend mouseup"]=m;e(a).on("touchstart mousedown",function(g){(g.which?3==g.which:
2==g.button)||u||!1===f.apply(a,arguments)||(u=!0,ra=e(a).height(),B=e(a).width(),Y=e(a).offset(),e(p).on(O),e(p.body).addClass("sp-dragging"),l(g),k(g))})}function B(a,e,g){var f;return function(){var h=this,k=arguments,l=function(){f=null;a.apply(h,k)};g&&clearTimeout(f);if(g||!f)f=setTimeout(l,e)}}var C={beforeShow:k,move:k,change:k,show:k,hide:k,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,
togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"Okay",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:["#ffffff #000000 #ff0000 #ff8000 #ffff00 #008000 #0000ff #4b0082 #9400d3".split(" ")],selectionPalette:[],disabled:!1,
offset:null},G=[],N=!!/msie/i.exec(window.navigator.userAgent),K=function(){var a=document.createElement("div").style;a.cssText="background-color:rgba(0,0,0,.5)";return!!~(""+a.backgroundColor).indexOf("rgba")||!!~(""+a.backgroundColor).indexOf("hsla")}(),O=function(){var a="";if(N)for(var e=1;6>=e;e++)a+="<div class='sp-"+e+"'></div>";return["<div class='sp-container sp-hidden'><div class='sp-palette-container'><div class='sp-palette sp-thumb sp-cf'></div><div class='sp-palette-button-container sp-cf'><button type='button' class='sp-palette-toggle'></button></div></div><div class='sp-picker-container'><div class='sp-top sp-cf'><div class='sp-fill'></div><div class='sp-top-inner'><div class='sp-color'><div class='sp-sat'><div class='sp-val'><div class='sp-dragger'><div class='sp-dragger-inner'></div></div></div></div></div><div class='sp-clear sp-clear-display'></div><div class='sp-hue'><div class='sp-slider'></div>",
a,"</div></div><div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div></div><div class='sp-input-container sp-cf'><input class='sp-input' type='text' spellcheck='false'  /></div><div class='sp-initial sp-thumb sp-cf'></div><div class='sp-button-container sp-cf'><a class='sp-cancel' href='#'></a><button type='button' class='sp-choose'></button></div></div></div>"].join("")}();e.fn.spectrum=function(a,g){if("string"==typeof a){var f=this,k=Array.prototype.slice.call(arguments,
1);this.each(function(){var g=G[e(this).data("spectrum.id")];if(g){var h=g[a];if(!h)throw Error("Spectrum: no such method: '"+a+"'");"get"==a?f=g.get():"container"==a?f=g.container:"option"==a?f=g.option.apply(g,k):"destroy"==a?(g.destroy(),e(this).removeData("spectrum.id")):h.apply(g,k)}});return f}return this.spectrum("destroy").each(function(){var g=e.extend({},e(this).data(),a);g=h(this,g);e(this).data("spectrum.id",g.id)})};e.fn.spectrum.load=!0;e.fn.spectrum.loadOpts={};e.fn.spectrum.draggable=
u;e.fn.spectrum.defaults=C;e.fn.spectrum.inputTypeColorSupport=function P(){if("undefined"===typeof P._cachedResult){var a=e("<input type='color'/>")[0];P._cachedResult="color"===a.type&&""!==a.value}return P._cachedResult};e.spectrum={};e.spectrum.localization={};e.spectrum.palettes={};e.fn.spectrum.processNativeColorInputs=function(){var a=e("input[type=color]");a.length&&!e.fn.spectrum.inputTypeColorSupport()&&a.spectrum({preferredFormat:"hex6"})};(function(){function a(a,e,g){a=I(a,255);e=I(e,
255);g=I(g,255);var f=U(a,e,g),h=L(a,e,g),k=(f+h)/2;if(f==h)var l=h=0;else{var m=f-h;h=.5<k?m/(2-f-h):m/(f+h);switch(f){case a:l=(e-g)/m+(e<g?6:0);break;case e:l=(g-a)/m+2;break;case g:l=(a-e)/m+4}l/=6}return{h:l,s:h,l:k}}function e(a,e,g){function f(a,e,g){0>g&&(g+=1);1<g&&--g;return g<1/6?a+6*(e-a)*g:.5>g?e:g<2/3?a+(e-a)*(2/3-g)*6:a}a=I(a,360);e=I(e,100);g=I(g,100);if(0===e)g=e=a=g;else{var h=.5>g?g*(1+e):g+e-g*e,k=2*g-h;g=f(k,h,a+1/3);e=f(k,h,a);a=f(k,h,a-1/3)}return{r:255*g,g:255*e,b:255*a}}function g(a,
e,g){a=I(a,255);e=I(e,255);g=I(g,255);var f=U(a,e,g),h=L(a,e,g),k=f-h;if(f==h)var l=0;else{switch(f){case a:l=(e-g)/k+(e<g?6:0);break;case e:l=(g-a)/k+2;break;case g:l=(a-e)/k+4}l/=6}return{h:l,s:0===f?0:k/f,v:f}}function f(a,e,g,f){a=[J(A(a).toString(16)),J(A(e).toString(16)),J(A(g).toString(16))];return f&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function h(a,e,g,f){return[J(Math.round(255*
parseFloat(f)).toString(16)),J(A(a).toString(16)),J(A(e).toString(16)),J(A(g).toString(16))].join("")}function k(a,e){e=0===e?0:e||10;a=y(a).toHsl();a.s-=e/100;a.s=L(1,U(0,a.s));return y(a)}function l(a,e){e=0===e?0:e||10;a=y(a).toHsl();a.s+=e/100;a.s=L(1,U(0,a.s));return y(a)}function m(a){return y(a).desaturate(100)}function p(a,e){e=0===e?0:e||10;a=y(a).toHsl();a.l+=e/100;a.l=L(1,U(0,a.l));return y(a)}function u(a,e){e=0===e?0:e||10;a=y(a).toRgb();a.r=U(0,L(255,a.r-A(255*-(e/100))));a.g=U(0,L(255,
a.g-A(255*-(e/100))));a.b=U(0,L(255,a.b-A(255*-(e/100))));return y(a)}function B(a,e){e=0===e?0:e||10;a=y(a).toHsl();a.l-=e/100;a.l=L(1,U(0,a.l));return y(a)}function O(a,e){a=y(a).toHsl();e=(A(a.h)+e)%360;a.h=0>e?360+e:e;return y(a)}function K(a){a=y(a).toHsl();a.h=(a.h+180)%360;return y(a)}function C(a){var e=y(a).toHsl(),g=e.h;return[y(a),y({h:(g+120)%360,s:e.s,l:e.l}),y({h:(g+240)%360,s:e.s,l:e.l})]}function G(a){var e=y(a).toHsl(),g=e.h;return[y(a),y({h:(g+90)%360,s:e.s,l:e.l}),y({h:(g+180)%
360,s:e.s,l:e.l}),y({h:(g+270)%360,s:e.s,l:e.l})]}function N(a){var e=y(a).toHsl(),g=e.h;return[y(a),y({h:(g+72)%360,s:e.s,l:e.l}),y({h:(g+216)%360,s:e.s,l:e.l})]}function Q(a,e,g){e=e||6;g=g||30;var f=y(a).toHsl();g=360/g;a=[y(a)];for(f.h=(f.h-(g*e>>1)+720)%360;--e;)f.h=(f.h+g)%360,a.push(y(f));return a}function T(a,e){e=e||6;var g=y(a).toHsv();a=g.h;var f=g.s;g=g.v;for(var h=[],k=1/e;e--;)h.push(y({h:a,s:f,v:g})),g=(g+k)%1;return h}function D(a){a=parseFloat(a);if(isNaN(a)||0>a||1<a)a=1;return a}
function I(a,e){var g=a;"string"==typeof g&&-1!=g.indexOf(".")&&1===parseFloat(g)&&(a="100%");g="string"===typeof a&&-1!=a.indexOf("%");a=L(e,U(0,parseFloat(a)));g&&(a=parseInt(a*e,10)/100);return 1E-6>pa.abs(a-e)?1:a%e/parseFloat(e)}function J(a){return 1==a.length?"0"+a:""+a}function da(a){1>=a&&(a=100*a+"%");return a}var Ka=/^[\s,#]+/,z=/\s+$/,R=0,pa=Math,A=pa.round,L=pa.min,U=pa.max,ha=pa.random,y=function(a,g){var f,h;a=a?a:"";g=g||{};if(a instanceof y)return a;if(!(this instanceof y))return new y(a,
g);var k=a;var l={r:0,g:0,b:0};var m=1;var p=f=!1;if("string"==typeof k)a:{k=k.replace(Ka,"").replace(z,"").toLowerCase();var M=!1;if(S[k])k=S[k],M=!0;else if("transparent"==k){k={r:0,g:0,b:0,a:0,format:"name"};break a}k=(h=V.rgb.exec(k))?{r:h[1],g:h[2],b:h[3]}:(h=V.rgba.exec(k))?{r:h[1],g:h[2],b:h[3],a:h[4]}:(h=V.hsl.exec(k))?{h:h[1],s:h[2],l:h[3]}:(h=V.hsla.exec(k))?{h:h[1],s:h[2],l:h[3],a:h[4]}:(h=V.hsv.exec(k))?{h:h[1],s:h[2],v:h[3]}:(h=V.hsva.exec(k))?{h:h[1],s:h[2],v:h[3],a:h[4]}:(h=V.hex8.exec(k))?
{a:parseInt(h[1],16)/255,r:parseInt(h[2],16),g:parseInt(h[3],16),b:parseInt(h[4],16),format:M?"name":"hex8"}:(h=V.hex6.exec(k))?{r:parseInt(h[1],16),g:parseInt(h[2],16),b:parseInt(h[3],16),format:M?"name":"hex"}:(h=V.hex3.exec(k))?{r:parseInt(h[1]+""+h[1],16),g:parseInt(h[2]+""+h[2],16),b:parseInt(h[3]+""+h[3],16),format:M?"name":"hex"}:!1}if("object"==typeof k){if(k.hasOwnProperty("r")&&k.hasOwnProperty("g")&&k.hasOwnProperty("b"))l=k.g,f=k.b,l={r:255*I(k.r,255),g:255*I(l,255),b:255*I(f,255)},f=
!0,p="%"===String(k.r).substr(-1)?"prgb":"rgb";else if(k.hasOwnProperty("h")&&k.hasOwnProperty("s")&&k.hasOwnProperty("v")){k.s=da(k.s);k.v=da(k.v);p=k.h;M=k.s;l=k.v;p=6*I(p,360);M=I(M,100);l=I(l,100);f=pa.floor(p);var u=p-f;p=l*(1-M);h=l*(1-u*M);M=l*(1-(1-u)*M);f%=6;l={r:255*[l,h,p,p,M,l][f],g:255*[M,l,l,h,p,p][f],b:255*[p,p,M,l,l,h][f]};f=!0;p="hsv"}else k.hasOwnProperty("h")&&k.hasOwnProperty("s")&&k.hasOwnProperty("l")&&(k.s=da(k.s),k.l=da(k.l),l=e(k.h,k.s,k.l),f=!0,p="hsl");k.hasOwnProperty("a")&&
(m=k.a)}m=D(m);k=k.format||p;p=L(255,U(l.r,0));h=L(255,U(l.g,0));l=L(255,U(l.b,0));this._originalInput=a;this._r=p;this._g=h;this._b=l;this._a=m;this._roundA=A(1E3*this._a)/1E3;this._format=g.format||k;this._gradientType=g.gradientType;1>this._r&&(this._r=A(this._r));1>this._g&&(this._g=A(this._g));1>this._b&&(this._b=A(this._b));this._ok=f;this._tc_id=R++};y.prototype={isDark:function(){return 128>this.getBrightness()},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},
getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var a=this.toRgb();return(299*a.r+587*a.g+114*a.b)/1E3},setAlpha:function(a){this._a=D(a);this._roundA=A(1E3*this._a)/1E3;return this},toHsv:function(){var a=g(this._r,this._g,this._b);return{h:360*a.h,s:a.s,v:a.v,a:this._a}},toHsvString:function(){var a=g(this._r,this._g,this._b),e=A(360*a.h),f=A(100*a.s);a=A(100*a.v);return 1==this._a?"hsv("+
e+", "+f+"%, "+a+"%)":"hsva("+e+", "+f+"%, "+a+"%, "+this._roundA+")"},toHsl:function(){var e=a(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=a(this._r,this._g,this._b),g=A(360*e.h),f=A(100*e.s);e=A(100*e.l);return 1==this._a?"hsl("+g+", "+f+"%, "+e+"%)":"hsla("+g+", "+f+"%, "+e+"%, "+this._roundA+")"},toHex:function(a){return f(this._r,this._g,this._b,a)},toHexString:function(a){return"#"+this.toHex(a)},toHex8:function(){return h(this._r,this._g,this._b,
this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:A(this._r),g:A(this._g),b:A(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+A(this._r)+", "+A(this._g)+", "+A(this._b)+")":"rgba("+A(this._r)+", "+A(this._g)+", "+A(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:A(100*I(this._r,255))+"%",g:A(100*I(this._g,255))+"%",b:A(100*I(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+A(100*I(this._r,
255))+"%, "+A(100*I(this._g,255))+"%, "+A(100*I(this._b,255))+"%)":"rgba("+A(100*I(this._r,255))+"%, "+A(100*I(this._g,255))+"%, "+A(100*I(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":1>this._a?!1:aa[f(this._r,this._g,this._b,!0)]||!1},toFilter:function(a){var e="#"+h(this._r,this._g,this._b,this._a),g=e,f=this._gradientType?"GradientType = 1, ":"";a&&(g=y(a).toHex8String());return"progid:DXImageTransform.Microsoft.gradient("+f+"startColorstr="+e+",endColorstr="+
g+")"},toString:function(a){var e=!!a;a=a||this._format;var g=!1,f=1>this._a&&0<=this._a;if(!e&&f&&("hex"===a||"hex6"===a||"hex3"===a||"name"===a))return"name"===a&&0===this._a?this.toName():this.toRgbString();"rgb"===a&&(g=this.toRgbString());"prgb"===a&&(g=this.toPercentageRgbString());if("hex"===a||"hex6"===a)g=this.toHexString();"hex3"===a&&(g=this.toHexString(!0));"hex8"===a&&(g=this.toHex8String());"name"===a&&(g=this.toName());"hsl"===a&&(g=this.toHslString());"hsv"===a&&(g=this.toHsvString());
return g||this.toHexString()},_applyModification:function(a,e){a=a.apply(null,[this].concat([].slice.call(e)));this._r=a._r;this._g=a._g;this._b=a._b;this.setAlpha(a._a);return this},lighten:function(){return this._applyModification(p,arguments)},brighten:function(){return this._applyModification(u,arguments)},darken:function(){return this._applyModification(B,arguments)},desaturate:function(){return this._applyModification(k,arguments)},saturate:function(){return this._applyModification(l,arguments)},
greyscale:function(){return this._applyModification(m,arguments)},spin:function(){return this._applyModification(O,arguments)},_applyCombination:function(a,e){return a.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(Q,arguments)},complement:function(){return this._applyCombination(K,arguments)},monochromatic:function(){return this._applyCombination(T,arguments)},splitcomplement:function(){return this._applyCombination(N,arguments)},triad:function(){return this._applyCombination(C,
arguments)},tetrad:function(){return this._applyCombination(G,arguments)}};y.fromRatio=function(a,e){if("object"==typeof a){var g={},f;for(f in a)a.hasOwnProperty(f)&&(g[f]="a"===f?a[f]:da(a[f]));a=g}return y(a,e)};y.equals=function(a,e){return a&&e?y(a).toRgbString()==y(e).toRgbString():!1};y.random=function(){return y.fromRatio({r:ha(),g:ha(),b:ha()})};y.mix=function(a,e,g){g=0===g?0:g||50;a=y(a).toRgb();e=y(e).toRgb();g/=100;var f=2*g-1,h=e.a-a.a;f=((-1==f*h?f:(f+h)/(1+f*h))+1)/2;h=1-f;return y({r:e.r*
f+a.r*h,g:e.g*f+a.g*h,b:e.b*f+a.b*h,a:e.a*g+a.a*(1-g)})};y.readability=function(a,e){var g=y(a),f=y(e);e=g.toRgb();a=f.toRgb();g=g.getBrightness();f=f.getBrightness();return{brightness:Math.abs(g-f),color:Math.max(e.r,a.r)-Math.min(e.r,a.r)+Math.max(e.g,a.g)-Math.min(e.g,a.g)+Math.max(e.b,a.b)-Math.min(e.b,a.b)}};y.isReadable=function(a,e){a=y.readability(a,e);return 125<a.brightness&&500<a.color};y.mostReadable=function(a,e){for(var g=null,f=0,h=!1,k=0;k<e.length;k++){var l=y.readability(a,e[k]),
m=125<l.brightness&&500<l.color;l=l.brightness/125*3+l.color/500;if(m&&!h||m&&h&&l>f||!m&&!h&&l>f)h=m,f=l,g=y(e[k])}return g};var S=y.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",
cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",
floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",
lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",
mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",
sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},aa=y.hexNames=function(a){var e={},g;for(g in a)a.hasOwnProperty(g)&&(e[a[g]]=g);return e}(S),V={rgb:/rgb[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,
rgba:/rgba[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,hsl:/hsl[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,hsla:/hsla[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,
hsv:/hsv[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,hsva:/hsva[\s|\(]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))[,|\s]+((?:[-\+]?\d*\.\d+%?)|(?:[-\+]?\d+%?))\s*\)?/,hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};
window.tinycolor=y})();e(function(){e.fn.spectrum.load&&e.fn.spectrum.processNativeColorInputs()})});
!function(e){function f(a,e){var g=typeof a[e];return"function"===g||!("object"!=g||!a[e])||"unknown"==g}function a(a,e){return!("object"!=typeof a[e]||!a[e])}function g(a,e,g){return 0>e&&(e+=a.value.length),typeof g==K&&(g=e),0>g&&(g+=a.value.length),{start:e,end:g}}function h(){return a(document,"body")?document.body:document.getElementsByTagName("body")[0]}var l,k,m,p,u,B,C,G,N,K="undefined";e(document).ready(function(){function O(a,e){var g=a.value;a=l(a);var f=a.start;return{value:g.slice(0,
f)+e+g.slice(a.end),index:f,replaced:a.text}}function ca(a,e){a.focus();var g=l(a);return k(a,g.start,g.end),""==e?document.execCommand("delete",!1,null):document.execCommand("insertText",!1,e),{replaced:g.text,index:g.start}}function P(a,e){a.focus();e=O(a,e);return a.value=e.value,e}function W(a,e){return function(){var g=this.jquery?this[0]:this,f=g.nodeName.toLowerCase();return 1==g.nodeType&&("textarea"==f||"input"==f&&/^(?:text|email|number|search|tel|url|password)$/i.test(g.type))&&(g=[g].concat(Array.prototype.slice.call(arguments)),
g=a.apply(this,g),!e)?g:e?this:void 0}}var oa=document.createElement("textarea");if(h().appendChild(oa),typeof oa.selectionStart!=K&&typeof oa.selectionEnd!=K)l=function(a){var e=a.selectionStart,g=a.selectionEnd;return{start:e,end:g,length:g-e,text:a.value.slice(e,g)}},k=function(a,e,f){e=g(a,e,f);a.selectionStart=e.start;a.selectionEnd=e.end},N=function(a,e){e?a.selectionEnd=a.selectionStart:a.selectionStart=a.selectionEnd};else{if(!(f(oa,"createTextRange")&&a(document,"selection")&&f(document.selection,
"createRange"))){h().removeChild(oa);window.console&&window.console.log&&window.console.log("RangyInputs not supported in your browser. Reason: No means of finding text input caret position");return}l=function(a){var e,g,f,h,k=0,l=0,m=document.selection.createRange();return m&&m.parentElement()==a&&(f=a.value.length,e=a.value.replace(/\r\n/g,"\n"),g=a.createTextRange(),g.moveToBookmark(m.getBookmark()),h=a.createTextRange(),h.collapse(!1),-1<g.compareEndPoints("StartToEnd",h)?k=l=f:(k=-g.moveStart("character",
-f),k+=e.slice(0,k).split("\n").length-1,-1<g.compareEndPoints("EndToEnd",h)?l=f:(l=-g.moveEnd("character",-f),l+=e.slice(0,l).split("\n").length-1))),{start:k,end:l,length:l-k,text:a.value.slice(k,l)}};var X=function(a,e){return e-(a.value.slice(0,e).split("\r\n").length-1)};k=function(a,e,f){e=g(a,e,f);f=a.createTextRange();var h=X(a,e.start);f.collapse(!0);e.start==e.end?f.move("character",h):(f.moveEnd("character",X(a,e.end)),f.moveStart("character",h));f.select()};N=function(a,e){a=document.selection.createRange();
a.collapse(e);a.select()}}h().removeChild(oa);var ka=function(a,e){var g=O(a,e);try{var f=ca(a,e);if(a.value==g.value)return ka=ca,f}catch(Ea){}return ka=P,a.value=g.value,g};p=function(a,e,g,f){e!=g&&(k(a,e,g),ka(a,""));f&&k(a,e)};m=function(a){k(a,ka(a,"").index)};G=function(a){var e=ka(a,"");return k(a,e.index),e.replaced};var fa=function(a,e,g,f){var h=e+g.length;if(f="string"==typeof f?f.toLowerCase():"",("collapsetoend"==f||"select"==f)&&/[\r\n]/.test(g)){g=g.replace(/\r\n/g,"\n").replace(/\r/g,
"\n");h=e+g.length;var l=e+g.indexOf("\n");"\r\n"==a.value.slice(l,l+2)&&(h+=g.match(/\n/g).length)}switch(f){case "collapsetostart":k(a,e,e);break;case "collapsetoend":k(a,h,h);break;case "select":k(a,e,h)}};u=function(a,e,g,f){k(a,g);ka(a,e);"boolean"==typeof f&&(f=f?"collapseToEnd":"");fa(a,g,e,f)};B=function(a,e,g){var f=ka(a,e);fa(a,f.index,e,g||"collapseToEnd")};C=function(a,e,g,f){typeof g==K&&(g=e);var h=l(a);g=ka(a,e+h.text+g);fa(a,g.index+e.length,h.text,f||"select")};e.fn.extend({getSelection:W(l,
!1),setSelection:W(k,!0),collapseSelection:W(N,!0),deleteSelectedText:W(m,!0),deleteText:W(p,!0),extractSelectedText:W(G,!1),insertText:W(u,!0),replaceSelectedText:W(B,!0),surroundSelectedText:W(C,!0)})})}(jQuery);
function unicodeSymbolLibrary(){var e=[{unicode:"\u263a",names:["white smiling face","smiley"],tags:["popular"]},{unicode:"\u263b",names:["black smiling face","smiley"],tags:["popular"]},{unicode:"\u2639",names:["white frowning face","smiley"],tags:["popular"]},{unicode:"\u2605",names:["black star"],tags:["popular","stars"]},{unicode:"\u2606",names:["white star"],tags:["popular","stars"]},{unicode:"\u262e",names:["peace symbol"],tags:["popular"]},{unicode:"\u262f",names:["yin yang"],tags:["popular"]},
{unicode:"\u2640",names:["female sign"],tags:["popular"]},{unicode:"\u2642",names:["male sign"],tags:["popular"]},{unicode:"\u2622",names:["radioactive sign"],tags:["popular"]},{unicode:"\u2762",names:["HEAVY EXCLAMATION MARK ORNAMENT"],tags:["popular"]},{unicode:"\u2763",names:["HEAVY HEART EXCLAMATION MARK ORNAMENT"],tags:["popular"]},{unicode:"\u2764",names:["HEAVY BLACK HEART"],tags:["popular"]},{unicode:"\u2765",names:["ROTATED HEAVY BLACK HEART BULLET"],tags:["popular"]},{unicode:"\u271d",names:["LATIN CROSS"],
tags:["popular","faith"]},{unicode:"\u2641",names:["earth"],tags:["other"]},{unicode:"\u263d",names:["first quarter moon"],tags:["other"]},{unicode:"\u263e",names:["last quarter moon"],tags:["other"]},{unicode:"\u2604",names:["comet"],tags:["other"]},{unicode:"\u00a9",names:["copyright sign"],tags:["popular","business"]},{unicode:"\u00ae",names:["registered sign"],tags:["popular","business"]},{unicode:"$",names:["dollar currency"],tags:["popular","currency","business"]},{unicode:"\u00a3",names:["pound currency"],
tags:["popular","currency","business"]},{unicode:"\u20ac",names:["euro currency"],tags:["popular","currency","business"]},{unicode:"\u00a5",names:["yen currency"],tags:["popular","currency","business"]},{unicode:"\u00b6",names:["pilcrow sign"],tags:["other"]},{unicode:"\u00bc",names:["vulgar fraction one quarter"],tags:["math"]},{unicode:"\u00bd",names:["vulgar fraction one half"],tags:["math"]},{unicode:"\u00be",names:["vulgar fraction three quarters"],tags:["math"]},{unicode:"\u2600",names:["black sun with rays",
"star"],tags:["popular","stars"]},{unicode:"\u263c",names:["white sun with rays"],tags:["popular","stars"]},{unicode:"\u2601",names:["cloud"],tags:["popular","business"]},{unicode:"\u2602",names:["umbrella"],tags:["popular","business"]},{unicode:"\u2603",names:["snowman"],tags:["popular","business"]},{unicode:"\u260e",names:["black telephone","phone","call"],tags:["popular","business"]},{unicode:"\u260f",names:["white telephone","phone","call"],tags:["popular","business"]},{unicode:"\u2706",names:["TELEPHONE LOCATION SIGN"],
tags:["popular","business"]},{unicode:"\u2707",names:["TAPE DRIVE"],tags:["popular","business"]},{unicode:"\u2708",names:["AIRPLANE"],tags:["popular","business"]},{unicode:"\u2709",names:["ENVELOPE"],tags:["popular","business"]},{unicode:"\u270c",names:["VICTORY HAND"],tags:["popular","other"]},{unicode:"\u270d",names:["WRITING HAND"],tags:["popular","business"]},{unicode:"\u2702",names:["BLACK SCISSORS"],tags:["popular","business"]},{unicode:"\u2668",names:["hot springs"],tags:["business"]},{unicode:"\u261c",
names:["white left pointing index","finger","hand"],tags:["popular"]},{unicode:"\u261d",names:["white up pointing index","finger","hand"],tags:["popular"]},{unicode:"\u261e",names:["white right pointing index","finger","hand"],tags:["popular"]},{unicode:"\u261f",names:["white down pointing index","finger","hand"],tags:["popular"]},{unicode:"\u2620",names:["scull and crossbones"],tags:["popular"]},{unicode:"\u2623",names:["biohazard sign"],tags:["popular"]},{unicode:"\u2626",names:["orthodox cross"],
tags:["faith"]},{unicode:"\u2629",names:["cross of jerusalem"],tags:["faith"]},{unicode:"\u262a",names:["star and crescent"],tags:["stars","faith"]},{unicode:"\u262d",names:["hammer and sickle"],tags:["other"]},{unicode:"\u265a",names:["black chess king"],tags:["games"]},{unicode:"\u265b",names:["black chess queen"],tags:["games"]},{unicode:"\u265c",names:["black chess rook"],tags:["games"]},{unicode:"\u265d",names:["black chess bishop"],tags:["games"]},{unicode:"\u265e",names:["black chess knight"],
tags:["popular","games"]},{unicode:"\u265f",names:["black chess pawn"],tags:["popular","games"]},{unicode:"\u2660",names:["black spade suit"],tags:["popular","games"]},{unicode:"\u2663",names:["black club suit"],tags:["popular","games"]},{unicode:"\u2665",names:["black heart suit"],tags:["popular","games"]},{unicode:"\u2666",names:["black diamond suit"],tags:["popular","games"]},{unicode:"\u2654",names:["white chess king"],tags:["games"]},{unicode:"\u2655",names:["white chess queen"],tags:["games"]},
{unicode:"\u2656",names:["white chess rook"],tags:["games"]},{unicode:"\u2657",names:["white chess bishop"],tags:["games"]},{unicode:"\u2658",names:["white chess knight"],tags:["games"]},{unicode:"\u2659",names:["white chess pawn"],tags:["games"]},{unicode:"\u2664",names:["white spade suit"],tags:["games"]},{unicode:"\u2667",names:["white club suit"],tags:["games"]},{unicode:"\u2669",names:["quarter note","music"],tags:["music"]},{unicode:"\u266a",names:["eighth note","music"],tags:["music","business"]},
{unicode:"\u266b",names:["beamed eighth notes","music"],tags:["popular","music"]},{unicode:"\u266c",names:["beamed sixteenth notes","music"],tags:["popular","music"]},{unicode:"\u266d",names:["music flat sign"],tags:["music"]},{unicode:"\u266e",names:["music natural sign"],tags:["music"]},{unicode:"\u266f",names:["music sharp sign"],tags:["music"]},{unicode:"\u20a0",names:["euro currency"],tags:["currency"]},{unicode:"\u00a2",names:["cent currency"],tags:["currency"]},{unicode:"\u00a4",names:["currency sign"],
tags:["currency"]},{unicode:"\u20a1",names:["colon currency"],tags:["currency"]},{unicode:"\u20a2",names:["cruzeiro currency"],tags:["currency"]},{unicode:"\u20a3",names:["french franc currency"],tags:["currency"]},{unicode:"\u20a4",names:["lira currency"],tags:["currency"]},{unicode:"\u20a5",names:["mill currency"],tags:["currency"]},{unicode:"\u20a6",names:["naira currency"],tags:["currency"]},{unicode:"\u20a7",names:["peseta currency"],tags:["currency"]},{unicode:"\u20a8",names:["rupee currency"],
tags:["currency"]},{unicode:"\u20a9",names:["won currency"],tags:["currency"]},{unicode:"\u20aa",names:["new sheqel currency"],tags:["currency"]},{unicode:"\u20ab",names:["dong currency"],tags:["currency"]},{unicode:"\u20ad",names:["kip currency"],tags:["currency"]},{unicode:"\u20ae",names:["tugrik currency"],tags:["currency"]},{unicode:"\u20af",names:["drachma currency"],tags:["currency"]},{unicode:"\u20b0",names:["german penny currency"],tags:["currency"]},{unicode:"\u20b1",names:["peso currency"],
tags:["currency"]},{unicode:"\u20b2",names:["guarani currency"],tags:["currency"]},{unicode:"\u20b3",names:["austral currency"],tags:["currency"]},{unicode:"\u20b4",names:["hryvnia currency"],tags:["currency"]},{unicode:"\u20b5",names:["cedi currency"],tags:["currency"]},{unicode:"\u20b8",names:["tenge currency"],tags:["currency"]},{unicode:"\u20b9",names:["indian rupee currency"],tags:["currency"]},{unicode:"\u2200",names:["for all","math"],tags:["math"]},{unicode:"\u2201",names:["complement","math"],
tags:["math"]},{unicode:"\u2202",names:["partial differential","math"],tags:["math"]},{unicode:"\u2203",names:["there exists","math"],tags:["math"]},{unicode:"\u2204",names:["there does not exist","math"],tags:["math"]},{unicode:"\u2205",names:["empty set","math"],tags:["math"]},{unicode:"\u2206",names:["increment","math"],tags:["math"]},{unicode:"\u2207",names:["nabla","math"],tags:["math"]},{unicode:"\u2208",names:["element of","math"],tags:["math"]},{unicode:"\u2209",names:["not an element of",
"math"],tags:["math"]},{unicode:"\u220a",names:["small element of","math"],tags:["math"]},{unicode:"\u220b",names:["contains as member","math"],tags:["math"]},{unicode:"\u220c",names:["does not contain as member","math"],tags:["math"]},{unicode:"\u220d",names:["small contains as member","math"],tags:["math"]},{unicode:"\u220f",names:["n-ary product","math"],tags:["math"]},{unicode:"\u2210",names:["n-ary copruduct","math"],tags:["math"]},{unicode:"\u2211",names:["n-ary summation","math"],tags:["math"]},
{unicode:"\u2212",names:["minus","math"],tags:["math"]},{unicode:"\u2213",names:["minus or plus","math"],tags:["math"]},{unicode:"\u2214",names:["dot plus","math"],tags:["math"]},{unicode:"\u2215",names:["division slash","math"],tags:["math"]},{unicode:"\u2216",names:["set minus","math"],tags:["math"]},{unicode:"\u2217",names:["asterisk operator","math"],tags:["math"]},{unicode:"\u2218",names:["ring operator","math"],tags:["math"]},{unicode:"\u2219",names:["bullet operator","math"],tags:["math"]},
{unicode:"\u221a",names:["square root","math"],tags:["math"]},{unicode:"\u221b",names:["cube root","math"],tags:["math"]},{unicode:"\u221c",names:["fourth root","math"],tags:["math"]},{unicode:"\u221d",names:["proportional to","math"],tags:["math"]},{unicode:"\u221e",names:["infinity","math"],tags:["math"]},{unicode:"\u221f",names:["right angle","math"],tags:["math"]},{unicode:"\u2220",names:["angle","math"],tags:["math"]},{unicode:"\u2221",names:["measured angle","math"],tags:["math"]},{unicode:"\u2222",
names:["spherical angle","math"],tags:["math"]},{unicode:"\u2223",names:["divides","math"],tags:["math"]},{unicode:"\u2224",names:["does not divide","math"],tags:["math"]},{unicode:"\u2225",names:["parallel to","math"],tags:["math"]},{unicode:"\u2226",names:["not parallel to","math"],tags:["math"]},{unicode:"\u2227",names:["logical and","math"],tags:["math"]},{unicode:"\u2228",names:["logical or","math"],tags:["math"]},{unicode:"\u2229",names:["intersection","math"],tags:["math"]},{unicode:"\u222a",
names:["union","math"],tags:["math"]},{unicode:"\u222b",names:["integral","math"],tags:["math"]},{unicode:"\u222c",names:["double integral","math"],tags:["math"]},{unicode:"\u222d",names:["triple integral","math"],tags:["math"]},{unicode:"\u222e",names:["contour integral","math"],tags:["math"]},{unicode:"\u222f",names:["surface integral","math"],tags:["math"]},{unicode:"\u2230",names:["volume integral","math"],tags:["math"]},{unicode:"\u2231",names:["clockwise integral","math"],tags:["math"]},{unicode:"\u2232",
names:["clockwise contour integral","math"],tags:["math"]},{unicode:"\u2233",names:["anticlockwise contour integral","math"],tags:["math"]},{unicode:"\u2234",names:["therefore","math"],tags:["math"]},{unicode:"\u2235",names:["because","math"],tags:["math"]},{unicode:"\u2236",names:["ratio","math"],tags:["math"]},{unicode:"\u2237",names:["proportion","math"],tags:["math"]},{unicode:"\u2238",names:["dot minus","math"],tags:["math"]},{unicode:"\u2239",names:["excess","math"],tags:["math"]},{unicode:"\u223a",
names:["geometric proportion","math"],tags:["math"]},{unicode:"\u223b",names:["homothetic","math"],tags:["math"]},{unicode:"\u223c",names:["tilde operator","math"],tags:["math"]},{unicode:"\u223d",names:["reversed tilde","math"],tags:["math"]},{unicode:"\u223e",names:["inverted lazy s","math"],tags:["math"]},{unicode:"\u223e",names:["sine wave","math"],tags:["math"]},{unicode:"\u2240",names:["wreath product","math"],tags:["math"]},{unicode:"\u2241",names:["not tilde","math"],tags:["math"]},{unicode:"\u2242",
names:["minus tilde","math"],tags:["math"]},{unicode:"\u2243",names:["asymptotically equal to","math"],tags:["math"]},{unicode:"\u2244",names:["not asymptotically equal to","math"],tags:["math"]},{unicode:"\u2245",names:["approximately equal to","math"],tags:["math"]},{unicode:"\u2246",names:["approximately but not actually equal to","math"],tags:["math"]},{unicode:"\u2247",names:["neither approximately nor actually equal to","math"],tags:["math"]},{unicode:"\u2248",names:["almost equal to","math"],
tags:["math"]},{unicode:"\u2249",names:["not almost equal to","math"],tags:["math"]},{unicode:"\u224a",names:["almost equal or equal to","math"],tags:["math"]},{unicode:"\u224b",names:["TRIPLE TILDE","math"],tags:["math"]},{unicode:"\u224c",names:["ALL EQUAL TO","math"],tags:["math"]},{unicode:"\u224d",names:["EQUIVALENT TO","math"],tags:["math"]},{unicode:"\u224e",names:["GEOMETRICALLY EQUIVALENT TO","math"],tags:["math"]},{unicode:"\u224f",names:["DIFFERENCE BETWEEN","math"],tags:["math"]},{unicode:"\u2250",
names:["APPROACHES THE LIMIT","math"],tags:["math"]},{unicode:"\u2251",names:["GEOMETRICALLY EQUAL TO","math"],tags:["math"]},{unicode:"\u2252",names:["APPROXIMATELY EQUAL TO OR THE IMAGE OF","math"],tags:["math"]},{unicode:"\u2253",names:["IMAGE OF OR APPROXIMATELY EQUAL TO","math"],tags:["math"]},{unicode:"\u2254",names:["COLON EQUALS","math"],tags:["math"]},{unicode:"\u2255",names:["EQUALS COLON","math"],tags:["math"]},{unicode:"\u2256",names:["RING IN EQUAL TO","math"],tags:["math"]},{unicode:"\u2257",
names:["RING EQUAL TO","math"],tags:["math"]},{unicode:"\u2258",names:["CORRESPONDS TO","math"],tags:["math"]},{unicode:"\u2259",names:["ESTIMATES","math"],tags:["math"]},{unicode:"\u225a",names:["EQUIANGULAR TO","math"],tags:["math"]},{unicode:"\u225b",names:["STAR EQUALS","math"],tags:["math"]},{unicode:"\u225c",names:["DELTA EQUAL TO","math"],tags:["math"]},{unicode:"\u225d",names:["EQUAL TO BY DEFINITION","math"],tags:["math"]},{unicode:"\u225e",names:["MEASURED BY","math"],tags:["math"]},{unicode:"\u225f",
names:["QUESTIONED EQUAL TO","math"],tags:["math"]},{unicode:"\u2260",names:["NOT EQUAL TO","math"],tags:["math"]},{unicode:"\u2261",names:["IDENTICAL TO","math"],tags:["math"]},{unicode:"\u2262",names:["NOT IDENTICAL TO","math"],tags:["math"]},{unicode:"\u2263",names:["STRICTLY EQUIVALENT TO","math"],tags:["math"]},{unicode:"\u2264",names:["LESS-THAN OR EQUAL TO","math"],tags:["math"]},{unicode:"\u2265",names:["GREATER-THAN OR EQUAL TO","math"],tags:["math"]},{unicode:"\u2266",names:["LESS-THAN OVER EQUAL TO",
"math"],tags:["math"]},{unicode:"\u2267",names:["GREATER-THAN OVER EQUAL TO","math"],tags:["math"]},{unicode:"\u2268",names:["LESS-THAN BUT NOT EQUAL TO","math"],tags:["math"]},{unicode:"\u2269",names:["GREATER-THAN BUT NOT EQUAL TO","math"],tags:["math"]},{unicode:"\u226a",names:["MUCH LESS-THAN","math"],tags:["math"]},{unicode:"\u226b",names:["MUCH GREATER-THAN","math"],tags:["math"]},{unicode:"\u226c",names:["BETWEEN","math"],tags:["math"]},{unicode:"\u226d",names:["NOT EQUIVALENT TO","math"],
tags:["math"]},{unicode:"\u226e",names:["NOT LESS-THAN","math"],tags:["math"]},{unicode:"\u226f",names:["NOT GREATER-THAN","math"],tags:["math"]},{unicode:"\u2270",names:["NEITHER LESS-THAN NOR EQUAL TO","math"],tags:["math"]},{unicode:"\u2271",names:["NEITHER GREATER-THAN NOR EQUAL TO","math"],tags:["math"]},{unicode:"\u2272",names:["LESS-THAN OR EQUIVALENT TO","math"],tags:["math"]},{unicode:"\u2273",names:["GREATER-THAN OR EQUIVALENT TO","math"],tags:["math"]},{unicode:"\u2274",names:["NEITHER LESS-THAN NOR EQUIVALENT TO",
"math"],tags:["math"]},{unicode:"\u2275",names:["NEITHER GREATER-THAN NOR EQUIVALENT TO","math"],tags:["math"]},{unicode:"\u2276",names:["LESS-THAN OR GREATER-THAN","math"],tags:["math"]},{unicode:"\u2277",names:["GREATER-THAN OR LESS-THAN","math"],tags:["math"]},{unicode:"\u2278",names:["NEITHER LESS-THAN NOR GREATER-THAN","math"],tags:["math"]},{unicode:"\u2279",names:["NEITHER GREATER-THAN NOR LESS-THAN","math"],tags:["math"]},{unicode:"\u227a",names:["PRECEDES","math"],tags:["math"]},{unicode:"\u227b",
names:["SUCCEEDS","math"],tags:["math"]},{unicode:"\u227c",names:["PRECEDES OR EQUAL TO","math"],tags:["math"]},{unicode:"\u227d",names:["SUCCEEDS OR EQUAL TO","math"],tags:["math"]},{unicode:"\u227e",names:["PRECEDES OR EQUIVALENT TO","math"],tags:["math"]},{unicode:"\u227f",names:["SUCCEEDS OR EQUIVALENT TO","math"],tags:["math"]},{unicode:"\u2280",names:["DOES NOT PRECEDE","math"],tags:["math"]},{unicode:"\u2281",names:["DOES NOT SUCCEED","math"],tags:["math"]},{unicode:"\u2282",names:["SUBSET OF",
"math"],tags:["math"]},{unicode:"\u2283",names:["SUPERSET OF","math"],tags:["math"]},{unicode:"\u2284",names:["NOT A SUBSET OF","math"],tags:["math"]},{unicode:"\u2285",names:["NOT A SUPERSET OF","math"],tags:["math"]},{unicode:"\u2286",names:["SUBSET OF OR EQUAL TO","math"],tags:["math"]},{unicode:"\u2287",names:["SUPERSET OF OR EQUAL TO","math"],tags:["math"]},{unicode:"\u2288",names:["NEITHER A SUBSET OF NOR EQUAL TO","math"],tags:["math"]},{unicode:"\u2289",names:["NEITHER A SUPERSET OF NOR EQUAL TO",
"math"],tags:["math"]},{unicode:"\u228a",names:["SUBSET OF WITH NOT EQUAL TO","math"],tags:["math"]},{unicode:"\u228b",names:["SUPERSET OF WITH NOT EQUAL TO","math"],tags:["math"]},{unicode:"\u228c",names:["MULTISET","math"],tags:["math"]},{unicode:"\u228d",names:["MULTISET MULTIPLICATION","math"],tags:["math"]},{unicode:"\u228e",names:["MULTISET UNION","math"],tags:["math"]},{unicode:"\u228f",names:["SQUARE IMAGE OF","math"],tags:["math"]},{unicode:"\u2290",names:["SQUARE ORIGINAL OF","math"],tags:["math"]},
{unicode:"\u2291",names:["SQUARE IMAGE OF OR EQUAL TO","math"],tags:["math"]},{unicode:"\u2292",names:["SQUARE ORIGINAL OF OR EQUAL TO","math"],tags:["math"]},{unicode:"\u2293",names:["SQUARE CAP","math"],tags:["math"]},{unicode:"\u2294",names:["SQUARE CUP","math"],tags:["math"]},{unicode:"\u2295",names:["CIRCLED PLUS","math"],tags:["math"]},{unicode:"\u2296",names:["CIRCLED MINUS","math"],tags:["math"]},{unicode:"\u2297",names:["CIRCLED TIMES","math"],tags:["math"]},{unicode:"\u2298",names:["CIRCLED DIVISION SLASH",
"math"],tags:["math"]},{unicode:"\u2299",names:["CIRCLED DOT OPERATOR","math"],tags:["math"]},{unicode:"\u229a",names:["CIRCLED RING OPERATOR","math"],tags:["math"]},{unicode:"\u229b",names:["CIRCLED ASTERISK OPERATOR","math"],tags:["math"]},{unicode:"\u229c",names:["CIRCLED EQUALS","math"],tags:["math"]},{unicode:"\u229d",names:["CIRCLED DASH","math"],tags:["math"]},{unicode:"\u229e",names:["SQUARED PLUS","math"],tags:["math"]},{unicode:"\u229f",names:["SQUARED MINUS","math"],tags:["math"]},{unicode:"\u22a0",
names:["SQUARED TIMES","math"],tags:["math"]},{unicode:"\u22a1",names:["SQUARED DOT OPERATOR","math"],tags:["math"]},{unicode:"\u22a2",names:["RIGHT TACK","math"],tags:["math"]},{unicode:"\u22a3",names:["LEFT TACK","math"],tags:["math"]},{unicode:"\u22a4",names:["DOWN TACK","math"],tags:["math"]},{unicode:"\u22a5",names:["UP TACK","math"],tags:["math"]},{unicode:"\u22a6",names:["ASSERTION","math"],tags:["math"]},{unicode:"\u22a7",names:["MODELS","math"],tags:["math"]},{unicode:"\u22a8",names:["TRUE",
"math"],tags:["math"]},{unicode:"\u22a9",names:["FORCES","math"],tags:["math"]},{unicode:"\u22aa",names:["TRIPLE VERTICAL BAR RIGHT TURNSTILE","math"],tags:["math"]},{unicode:"\u22ab",names:["DOUBLE VERTICAL BAR DOUBLE RIGHT TURNSTILE","math"],tags:["math"]},{unicode:"\u22ac",names:["DOES NOT PROVE","math"],tags:["math"]},{unicode:"\u22ad",names:["NOT TRUE","math"],tags:["math"]},{unicode:"\u22ae",names:["DOES NOT FORCE","math"],tags:["math"]},{unicode:"\u22af",names:["NEGATED DOUBLE VERTICAL BAR DOUBLE RIGHT TURNSTILE",
"math"],tags:["math"]},{unicode:"\u22b0",names:["PRECEDES UNDER RELATION","math"],tags:["math"]},{unicode:"\u22b1",names:["SUCCEEDS UNDER RELATION","math"],tags:["math"]},{unicode:"\u22b2",names:["NORMAL SUBGROUP OF","math"],tags:["math"]},{unicode:"\u22b3",names:["CONTAINS AS NORMAL SUBGROUP","math"],tags:["math"]},{unicode:"\u22b4",names:["NORMAL SUBGROUP OF OR EQUAL TO","math"],tags:["math"]},{unicode:"\u22b5",names:["CONTAINS AS NORMAL SUBGROUP OR EQUAL TO","math"],tags:["math"]},{unicode:"\u22b6",
names:["ORIGINAL OF","math"],tags:["math"]},{unicode:"\u22b7",names:["IMAGE OF","math"],tags:["math"]},{unicode:"\u22b8",names:["MULTIMAP","math"],tags:["math"]},{unicode:"\u22b9",names:["HERMITIAN CONJUGATE MATRIX","math"],tags:["math"]},{unicode:"\u22ba",names:["INTERCALATE","math"],tags:["math"]},{unicode:"\u22bb",names:["XOR","math"],tags:["math"]},{unicode:"\u22bc",names:["NAND","math"],tags:["math"]},{unicode:"\u22bd",names:["NOR","math"],tags:["math"]},{unicode:"\u22be",names:["RIGHT ANGLE WITH ARC",
"math"],tags:["math"]},{unicode:"\u22bf",names:["RIGHT TRIANGLE","math"],tags:["math"]},{unicode:"\u22c0",names:["N-ARY LOGICAL AND","math"],tags:["math"]},{unicode:"\u22c1",names:["N-ARY LOGICAL OR","math"],tags:["math"]},{unicode:"\u22c2",names:["N-ARY INTERSECTION","math"],tags:["math"]},{unicode:"\u22c3",names:["N-ARY UNION","math"],tags:["math"]},{unicode:"\u22c4",names:["DIAMOND OPERATOR","math"],tags:["math"]},{unicode:"\u22c5",names:["DOT OPERATOR","math"],tags:["math"]},{unicode:"\u22c6",
names:["STAR OPERATOR","math"],tags:["math"]},{unicode:"\u22c7",names:["DIVISION TIMES","math"],tags:["math"]},{unicode:"\u22c8",names:["BOWTIE","math"],tags:["math"]},{unicode:"\u22c9",names:["LEFT NORMAL FACTOR SEMIDIRECT PRODUCT","math"],tags:["math"]},{unicode:"\u22ca",names:["RIGHT NORMAL FACTOR SEMIDIRECT PRODUCT","math"],tags:["math"]},{unicode:"\u22cb",names:["LEFT SEMIDIRECT PRODUCT","math"],tags:["math"]},{unicode:"\u22cc",names:["RIGHT SEMIDIRECT PRODUCT","math"],tags:["math"]},{unicode:"\u22cd",
names:["REVERSED TILDE EQUALS","math"],tags:["math"]},{unicode:"\u22ce",names:["CURLY LOGICAL OR","math"],tags:["math"]},{unicode:"\u22cf",names:["CURLY LOGICAL AND","math"],tags:["math"]},{unicode:"\u22d0",names:["DOUBLE SUBSET","math"],tags:["math"]},{unicode:"\u22d1",names:["DOUBLE SUPERSET","math"],tags:["math"]},{unicode:"\u22d2",names:["DOUBLE INTERSECTION","math"],tags:["math"]},{unicode:"\u22d3",names:["DOUBLE UNION","math"],tags:["math"]},{unicode:"\u22d4",names:["PITCHFORK","math"],tags:["math"]},
{unicode:"\u22d5",names:["EQUAL AND PARALLEL TO","math"],tags:["math"]},{unicode:"\u22d6",names:["LESS-THAN WITH DOT","math"],tags:["math"]},{unicode:"\u22d7",names:["GREATER-THAN WITH DOT","math"],tags:["math"]},{unicode:"\u22d8",names:["VERY MUCH LESS-THAN","math"],tags:["math"]},{unicode:"\u22d9",names:["VERY MUCH GREATER-THAN","math"],tags:["math"]},{unicode:"\u22da",names:["LESS-THAN EQUAL TO OR GREATER-THAN","math"],tags:["math"]},{unicode:"\u22db",names:["GREATER-THAN EQUAL TO OR LESS-THAN",
"math"],tags:["math"]},{unicode:"\u22dc",names:["EQUAL TO OR LESS-THAN","math"],tags:["math"]},{unicode:"\u22dd",names:["EQUAL TO OR GREATER-THAN","math"],tags:["math"]},{unicode:"\u22de",names:["EQUAL TO OR PRECEDES","math"],tags:["math"]},{unicode:"\u22df",names:["EQUAL TO OR SUCCEEDS","math"],tags:["math"]},{unicode:"\u22e0",names:["DOES NOT PRECEDE OR EQUAL","math"],tags:["math"]},{unicode:"\u22e1",names:["DOES NOT SUCCEED OR EQUAL","math"],tags:["math"]},{unicode:"\u22e2",names:["NOT SQUARE IMAGE OF OR EQUAL TO",
"math"],tags:["math"]},{unicode:"\u22e3",names:["NOT SQUARE ORIGINAL OF OR EQUAL TO","math"],tags:["math"]},{unicode:"\u22e4",names:["SQUARE IMAGE OF OR NOT EQUAL TO","math"],tags:["math"]},{unicode:"\u22e5",names:["SQUARE ORIGINAL OF OR NOT EQUAL TO","math"],tags:["math"]},{unicode:"\u22e6",names:["LESS-THAN BUT NOT EQUIVALENT TO","math"],tags:["math"]},{unicode:"\u22e7",names:["GREATER-THAN BUT NOT EQUIVALENT TO","math"],tags:["math"]},{unicode:"\u22e8",names:["PRECEDES BUT NOT EQUIVALENT TO","math"],
tags:["math"]},{unicode:"\u22e9",names:["SUCCEEDS BUT NOT EQUIVALENT TO","math"],tags:["math"]},{unicode:"\u22ea",names:["NOT NORMAL SUBGROUP OF","math"],tags:["math"]},{unicode:"\u22eb",names:["DOES NOT CONTAIN AS NORMAL SUBGROUP","math"],tags:["math"]},{unicode:"\u22ec",names:["NOT NORMAL SUBGROUP OF OR EQUAL TO","math"],tags:["math"]},{unicode:"\u22ed",names:["DOES NOT CONTAIN AS NORMAL SUBGROUP OR EQUAL","math"],tags:["math"]},{unicode:"\u22ee",names:["VERTICAL ELLIPSIS","math"],tags:["math"]},
{unicode:"\u22ef",names:["MIDLINE HORIZONTAL ELLIPSIS","math"],tags:["math"]},{unicode:"\u22f0",names:["UP RIGHT DIAGONAL ELLIPSIS","math"],tags:["math"]},{unicode:"\u22f1",names:["DOWN RIGHT DIAGONAL ELLIPSIS","math"],tags:["math"]},{unicode:"\u25a0",names:["BLACK SQUARE","shape"],tags:["shapes"]},{unicode:"\u25a1",names:["WHITE SQUARE","shape"],tags:["shapes"]},{unicode:"\u25a2",names:["WHITE SQUARE WITH ROUNDED CORNERS","shape"],tags:["shapes"]},{unicode:"\u25a3",names:["WHITE SQUARE CONTAINING BLACK SMALL SQUARE",
"shape"],tags:["shapes"]},{unicode:"\u25a4",names:["SQUARE WITH HORIZONTAL FILL","shape"],tags:["shapes"]},{unicode:"\u25a5",names:["SQUARE WITH VERTICAL FILL","shape"],tags:["shapes"]},{unicode:"\u25a6",names:["SQUARE WITH ORTHOGONAL CROSSHATCH FILL","shape"],tags:["shapes"]},{unicode:"\u25a7",names:["SQUARE WITH UPPER LEFT TO LOWER RIGHT FILL","shape"],tags:["shapes"]},{unicode:"\u25a8",names:["SQUARE WITH UPPER RIGHT TO LOWER LEFT FILL","shape"],tags:["shapes"]},{unicode:"\u25a9",names:["SQUARE WITH DIAGONAL CROSSHATCH FILL",
"shape"],tags:["shapes"]},{unicode:"\u25aa",names:["BLACK SMALL SQUARE","shape"],tags:["shapes"]},{unicode:"\u25ab",names:["WHITE SMALL SQUARE","shape"],tags:["shapes"]},{unicode:"\u25ac",names:["BLACK RECTANGLE","shape"],tags:["shapes"]},{unicode:"\u25ad",names:["WHITE RECTANGLE","shape"],tags:["shapes"]},{unicode:"\u25ae",names:["BLACK VERTICAL RECTANGLE","shape"],tags:["shapes"]},{unicode:"\u25af",names:["WHITE VERTICAL RECTANGLE","shape"],tags:["shapes"]},{unicode:"\u25b0",names:["BLACK PARALLELOGRAM",
"shape"],tags:["shapes"]},{unicode:"\u25b1",names:["WHITE PARALLELOGRAM","shape"],tags:["shapes"]},{unicode:"\u25b2",names:["BLACK UP-POINTING TRIANGLE","shape"],tags:["shapes"]},{unicode:"\u25b3",names:["WHITE UP-POINTING TRIANGLE","shape"],tags:["shapes"]},{unicode:"\u25b4",names:["BLACK UP-POINTING SMALL TRIANGLE","shape"],tags:["shapes"]},{unicode:"\u25b5",names:["WHITE UP-POINTING SMALL TRIANGLE","shape"],tags:["shapes"]},{unicode:"\u25b6",names:["BLACK RIGHT-POINTING TRIANGLE","shape"],tags:["shapes"]},
{unicode:"\u25b7",names:["WHITE RIGHT-POINTING TRIANGLE","shape"],tags:["shapes"]},{unicode:"\u25b8",names:["BLACK RIGHT-POINTING SMALL TRIANGLE","shape"],tags:["shapes"]},{unicode:"\u25b9",names:["WHITE RIGHT-POINTING SMALL TRIANGLE","shape"],tags:["shapes"]},{unicode:"\u25ba",names:["BLACK RIGHT-POINTING POINTER","shape"],tags:["shapes"]},{unicode:"\u25bb",names:["WHITE RIGHT-POINTING POINTER","shape"],tags:["shapes"]},{unicode:"\u25bc",names:["BLACK DOWN-POINTING TRIANGLE","shape"],tags:["shapes"]},
{unicode:"\u25bd",names:["WHITE DOWN-POINTING TRIANGLE","shape"],tags:["shapes"]},{unicode:"\u25be",names:["BLACK DOWN-POINTING SMALL TRIANGLE","shape"],tags:["shapes"]},{unicode:"\u25bf",names:["WHITE DOWN-POINTING SMALL TRIANGLE","shape"],tags:["shapes"]},{unicode:"\u25c0",names:["BLACK LEFT-POINTING TRIANGLE","shape"],tags:["shapes"]},{unicode:"\u25c1",names:["WHITE LEFT-POINTING TRIANGLE","shape"],tags:["shapes"]},{unicode:"\u25c2",names:["BLACK LEFT-POINTING SMALL TRIANGLE","shape"],tags:["shapes"]},
{unicode:"\u25c3",names:["WHITE LEFT-POINTING SMALL TRIANGLE","shape"],tags:["shapes"]},{unicode:"\u25c4",names:["BLACK LEFT-POINTING POINTER","shape"],tags:["shapes"]},{unicode:"\u25c5",names:["WHITE LEFT-POINTING POINTER","shape"],tags:["shapes"]},{unicode:"\u25c6",names:["BLACK DIAMOND","shape"],tags:["shapes"]},{unicode:"\u25c7",names:["WHITE DIAMOND","shape"],tags:["shapes"]},{unicode:"\u25c8",names:["WHITE DIAMOND CONTAINING BLACK SMALL DIAMOND","shape"],tags:["shapes"]},{unicode:"\u25c9",names:["FISHEYE",
"shape"],tags:["shapes"]},{unicode:"\u25ca",names:["LOZENGE","shape"],tags:["shapes"]},{unicode:"\u25cb",names:["WHITE CIRCLE","shape"],tags:["shapes"]},{unicode:"\u25cc",names:["DOTTED CIRCLE","shape"],tags:["shapes"]},{unicode:"\u25cd",names:["CIRCLE WITH VERTICAL FILL","shape"],tags:["shapes"]},{unicode:"\u25ce",names:["BULLSEYE","shape"],tags:["shapes"]},{unicode:"\u25cf",names:["BLACK CIRCLE","shape"],tags:["shapes"]},{unicode:"\u25d0",names:["CIRCLE WITH LEFT HALF BLACK","shape"],tags:["shapes"]},
{unicode:"\u25d1",names:["CIRCLE WITH RIGHT HALF BLACK","shape"],tags:["shapes"]},{unicode:"\u25d2",names:["CIRCLE WITH LOWER HALF BLACK","shape"],tags:["shapes"]},{unicode:"\u25d3",names:["CIRCLE WITH UPPER HALF BLACK","shape"],tags:["shapes"]},{unicode:"\u25d4",names:["CIRCLE WITH UPPER RIGHT QUADRANT BLACK","shape"],tags:["shapes"]},{unicode:"\u25d5",names:["CIRCLE WITH ALL BUT UPPER LEFT QUADRANT BLACK","shape"],tags:["shapes"]},{unicode:"\u25d6",names:["LEFT HALF BLACK CIRCLE","shape"],tags:["shapes"]},
{unicode:"\u25d7",names:["RIGHT HALF BLACK CIRCLE","shape"],tags:["shapes"]},{unicode:"\u25d8",names:["INVERSE BULLET","shape"],tags:["shapes"]},{unicode:"\u25d9",names:["INVERSE WHITE CIRCLE","shape"],tags:["shapes"]},{unicode:"\u25da",names:["UPPER HALF INVERSE WHITE CIRCLE","shape"],tags:["shapes"]},{unicode:"\u25db",names:["LOWER HALF INVERSE WHITE CIRCLE","shape"],tags:["shapes"]},{unicode:"\u25dc",names:["UPPER LEFT QUADRANT CIRCULAR ARC","shape"],tags:["shapes"]},{unicode:"\u25dd",names:["UPPER RIGHT QUADRANT CIRCULAR ARC",
"shape"],tags:["shapes"]},{unicode:"\u25de",names:["LOWER RIGHT QUADRANT CIRCULAR ARC","shape"],tags:["shapes"]},{unicode:"\u25df",names:["LOWER LEFT QUADRANT CIRCULAR ARC","shape"],tags:["shapes"]},{unicode:"\u25e0",names:["UPPER HALF CIRCLE","shape"],tags:["shapes"]},{unicode:"\u25e1",names:["LOWER HALF CIRCLE","shape"],tags:["shapes"]},{unicode:"\u25e2",names:["BLACK LOWER RIGHT TRIANGLE","shape"],tags:["shapes"]},{unicode:"\u25e3",names:["BLACK LOWER LEFT TRIANGLE","shape"],tags:["shapes"]},{unicode:"\u25e4",
names:["BLACK UPPER LEFT TRIANGLE","shape"],tags:["shapes"]},{unicode:"\u25e5",names:["BLACK UPPER RIGHT TRIANGLE","shape"],tags:["shapes"]},{unicode:"\u25e6",names:["WHITE BULLET","shape"],tags:["shapes"]},{unicode:"\u25e7",names:["SQUARE WITH LEFT HALF BLACK","shape"],tags:["shapes"]},{unicode:"\u25e8",names:["SQUARE WITH RIGHT HALF BLACK","shape"],tags:["shapes"]},{unicode:"\u25e9",names:["SQUARE WITH UPPER LEFT DIAGONAL HALF BLACK","shape"],tags:["shapes"]},{unicode:"\u25ea",names:["SQUARE WITH LOWER RIGHT DIAGONAL HALF BLACK",
"shape"],tags:["shapes"]},{unicode:"\u25eb",names:["WHITE SQUARE WITH VERTICAL BISECTING LINE","shape"],tags:["shapes"]},{unicode:"\u25ec",names:["WHITE UP-POINTING TRIANGLE WITH DOT","shape"],tags:["shapes"]},{unicode:"\u25ed",names:["UP-POINTING TRIANGLE WITH LEFT HALF BLACK","shape"],tags:["shapes"]},{unicode:"\u25ee",names:["UP-POINTING TRIANGLE WITH RIGHT HALF BLACK","shape"],tags:["shapes"]},{unicode:"\u25ef",names:["LARGE CIRCLE","shape"],tags:["shapes"]},{unicode:"\u25f0",names:["WHITE SQUARE WITH UPPER LEFT QUADRANT",
"shape"],tags:["shapes"]},{unicode:"\u25f1",names:["WHITE SQUARE WITH LOWER LEFT QUADRANT","shape"],tags:["shapes"]},{unicode:"\u25f2",names:["WHITE SQUARE WITH LOWER RIGHT QUADRANT","shape"],tags:["shapes"]},{unicode:"\u25f3",names:["WHITE SQUARE WITH UPPER RIGHT QUADRANT","shape"],tags:["shapes"]},{unicode:"\u25f4",names:["WHITE CIRCLE WITH UPPER LEFT QUADRANT","shape"],tags:["shapes"]},{unicode:"\u25f5",names:["WHITE CIRCLE WITH LOWER LEFT QUADRANT","shape"],tags:["shapes"]},{unicode:"\u25f6",
names:["WHITE CIRCLE WITH LOWER RIGHT QUADRANT","shape"],tags:["shapes"]},{unicode:"\u25f7",names:["WHITE CIRCLE WITH UPPER RIGHT QUADRANT","shape"],tags:["shapes"]},{unicode:"\u25f8",names:["UPPER LEFT TRIANGLE","shape"],tags:["shapes"]},{unicode:"\u25f9",names:["UPPER RIGHT TRIANGLE","shape"],tags:["shapes"]},{unicode:"\u25fa",names:["LOWER LEFT TRIANGLE","shape"],tags:["shapes"]},{unicode:"\u25fb",names:["WHITE MEDIUM SQUARE","shape"],tags:["shapes"]},{unicode:"\u25fc",names:["BLACK MEDIUM SQUARE",
"shape"],tags:["shapes"]},{unicode:"\u25fd",names:["WHITE MEDIUM SMALL SQUARE","shape"],tags:["shapes"]},{unicode:"\u25fe",names:["BLACK MEDIUM SMALL SQUARE","shape"],tags:["shapes"]},{unicode:"\u25ff",names:["LOWER RIGHT TRIANGLE","shape"],tags:["shapes"]},{unicode:"\u2701",names:["UPPER BLADE SCISSORS"],tags:["business"]},{unicode:"\u2703",names:["LOWER BLADE SCISSORS"],tags:["business"]},{unicode:"\u2704",names:["WHITE SCISSORS"],tags:["business"]},{unicode:"\u270e",names:["LOWER RIGHT PENCIL"],
tags:["business"]},{unicode:"\u270f",names:["PENCIL"],tags:["business"]},{unicode:"\u2710",names:["UPPER RIGHT PENCIL"],tags:["business"]},{unicode:"\u2711",names:["WHITE NIB"],tags:["business"]},{unicode:"\u2712",names:["BLACK NIB"],tags:["business"]},{unicode:"\u2713",names:["CHECK MARK","TICK"],tags:["other"]},{unicode:"\u2714",names:["HEAVY CHECK MARK","TICK"],tags:["popular","other"]},{unicode:"\u2715",names:["MULTIPLICATION X","CROSS"],tags:["other"]},{unicode:"\u2716",names:["HEAVY MULTIPLICATION X",
"CROSS"],tags:["popular","other"]},{unicode:"\u2717",names:["BALLOT X","CROSS"],tags:["other"]},{unicode:"\u2718",names:["HEAVY BALLOT X","CROSS"],tags:["other"]},{unicode:"\u2719",names:["OUTLINED GREEK CROSS"],tags:["faith"]},{unicode:"\u271a",names:["HEAVY GREEK CROSS"],tags:["faith"]},{unicode:"\u271b",names:["OPEN CENTRE CROSS"],tags:["faith"]},{unicode:"\u271c",names:["HEAVY OPEN CENTRE CROSS"],tags:["faith"]},{unicode:"\u271e",names:["SHADOWED WHITE LATIN CROSS"],tags:["faith"]},{unicode:"\u271f",
names:["OUTLINED LATIN CROSS"],tags:["faith"]},{unicode:"\u2720",names:["MALTESE CROSS"],tags:["faith"]},{unicode:"\u2721",names:["STAR OF DAVID"],tags:["stars","faith"]},{unicode:"\u2648",names:["aries"],tags:["faith"]},{unicode:"\u2649",names:["taurus"],tags:["faith"]},{unicode:"\u264a",names:["gemini"],tags:["faith"]},{unicode:"\u264b",names:["cancer"],tags:["faith"]},{unicode:"\u264c",names:["leo"],tags:["faith"]},{unicode:"\u264d",names:["virgo"],tags:["faith"]},{unicode:"\u264e",names:["libra"],
tags:["faith"]},{unicode:"\u264f",names:["scorpius"],tags:["faith"]},{unicode:"\u2650",names:["sagittarius"],tags:["faith"]},{unicode:"\u2651",names:["capricorn"],tags:["faith"]},{unicode:"\u2652",names:["aquarius"],tags:["faith"]},{unicode:"\u2653",names:["pisces"],tags:["faith"]},{unicode:"\u2722",names:["FOUR TEARDROP-SPOKED ASTERISK","star"],tags:["stars"]},{unicode:"\u2723",names:["FOUR BALLOON-SPOKED ASTERISK","star"],tags:["stars"]},{unicode:"\u2724",names:["HEAVY FOUR BALLOON-SPOKED ASTERISK",
"star"],tags:["stars"]},{unicode:"\u2725",names:["FOUR CLUB-SPOKED ASTERISK","star"],tags:["stars"]},{unicode:"\u2726",names:["BLACK FOUR POINTED STAR"],tags:["stars"]},{unicode:"\u2727",names:["WHITE FOUR POINTED STAR"],tags:["stars"]},{unicode:"\u2729",names:["STRESS OUTLINED WHITE STAR"],tags:["stars"]},{unicode:"\u272a",names:["CIRCLED WHITE STAR"],tags:["stars"]},{unicode:"\u272b",names:["OPEN CENTRE BLACK STAR"],tags:["stars"]},{unicode:"\u272c",names:["BLACK CENTRE WHITE STAR"],tags:["stars"]},
{unicode:"\u272d",names:["OUTLINED BLACK STAR"],tags:["stars"]},{unicode:"\u272e",names:["HEAVY OUTLINED BLACK STAR"],tags:["stars"]},{unicode:"\u272f",names:["PINWHEEL STAR"],tags:["stars"]},{unicode:"\u2730",names:["SHADOWED WHITE STAR"],tags:["stars"]},{unicode:"\u2731",names:["HEAVY ASTERISK","star"],tags:["stars"]},{unicode:"\u2732",names:["OPEN CENTRE ASTERISK","star"],tags:["stars"]},{unicode:"\u2733",names:["EIGHT SPOKED ASTERISK","star"],tags:["stars"]},{unicode:"\u2734",names:["EIGHT POINTED BLACK STAR"],
tags:["stars"]},{unicode:"\u2735",names:["EIGHT POINTED PINWHEEL STAR"],tags:["stars"]},{unicode:"\u2736",names:["SIX POINTED BLACK STAR"],tags:["stars"]},{unicode:"\u2737",names:["EIGHT POINTED RECTILINEAR BLACK STAR"],tags:["stars"]},{unicode:"\u2738",names:["HEAVY EIGHT POINTED RECTILINEAR BLACK STAR"],tags:["stars"]},{unicode:"\u2739",names:["TWELVE POINTED BLACK STAR"],tags:["stars"]},{unicode:"\u273a",names:["SIXTEEN POINTED ASTERISK","star"],tags:["stars"]},{unicode:"\u273b",names:["TEARDROP-SPOKED ASTERISK",
"star"],tags:["stars"]},{unicode:"\u273c",names:["OPEN CENTRE TEARDROP-SPOKED ASTERISK","star"],tags:["stars"]},{unicode:"\u273d",names:["HEAVY TEARDROP-SPOKED ASTERISK","star"],tags:["stars"]},{unicode:"\u273e",names:["SIX PETALLED BLACK AND WHITE FLORETTE","star"],tags:["stars"]},{unicode:"\u273f",names:["BLACK FLORETTE","star"],tags:["stars"]},{unicode:"\u2740",names:["WHITE FLORETTE","star"],tags:["stars"]},{unicode:"\u2741",names:["EIGHT PETALLED OUTLINED BLACK FLORETTE","star"],tags:["stars"]},
{unicode:"\u2742",names:["CIRCLED OPEN CENTRE EIGHT POINTED STAR"],tags:["stars"]},{unicode:"\u2743",names:["HEAVY TEARDROP-SPOKED PINWHEEL ASTERISK","star"],tags:["stars"]},{unicode:"\u2744",names:["SNOWFLAKE","star"],tags:["stars"]},{unicode:"\u2745",names:["TIGHT TRIFOLIATE SNOWFLAKE","star"],tags:["stars"]},{unicode:"\u2746",names:["HEAVY CHEVRON SNOWFLAKE","star"],tags:["stars"]},{unicode:"\u2747",names:["SPARKLE","star"],tags:["stars"]},{unicode:"\u2748",names:["HEAVY SPARKLE","star"],tags:["stars"]},
{unicode:"\u2749",names:["BALLOON-SPOKED ASTERISK","star"],tags:["stars"]},{unicode:"\u274a",names:["EIGHT TEARDROP-SPOKED PROPELLER ASTERISK","star"],tags:["stars"]},{unicode:"\u274b",names:["HEAVY EIGHT TEARDROP-SPOKED PROPELLER ASTERISK","star"],tags:["stars"]},{unicode:"\u274d",names:["SHADOWED WHITE CIRCLE"],tags:["shapes"]},{unicode:"\u274f",names:["LOWER RIGHT DROP-SHADOWED WHITE SQUARE"],tags:["shapes"]},{unicode:"\u2750",names:["UPPER RIGHT DROP-SHADOWED WHITE SQUARE"],tags:["shapes"]},{unicode:"\u2751",
names:["LOWER RIGHT SHADOWED WHITE SQUARE"],tags:["shapes"]},{unicode:"\u2752",names:["UPPER RIGHT SHADOWED WHITE SQUARE"],tags:["shapes"]},{unicode:"\u2756",names:["BLACK DIAMOND MINUS WHITE X"],tags:["shapes"]},{unicode:"\u2758",names:["LIGHT VERTICAL BAR"],tags:["other"]},{unicode:"\u2759",names:["MEDIUM VERTICAL BAR"],tags:["other"]},{unicode:"\u275a",names:["HEAVY VERTICAL BAR"],tags:["other"]},{unicode:"\u275b",names:["HEAVY SINGLE TURNED COMMA QUOTATION MARK ORNAMENT"],tags:["other"]},{unicode:"\u275c",
names:["HEAVY SINGLE COMMA QUOTATION MARK ORNAMENT"],tags:["other"]},{unicode:"\u275d",names:["HEAVY DOUBLE TURNED COMMA QUOTATION MARK ORNAMENT"],tags:["other"]},{unicode:"\u275e",names:["HEAVY DOUBLE COMMA QUOTATION MARK ORNAMENT"],tags:["other"]},{unicode:"\u2761",names:["CURVED STEM PARAGRAPH SIGN ORNAMENT"],tags:["other"]},{unicode:"\u2766",names:["FLORAL HEART"],tags:["other"]},{unicode:"\u2767",names:["ROTATED FLORAL HEART BULLET"],tags:["other"]},{unicode:"\u2776",names:["NEGATIVE CIRCLED DIGIT ONE"],
tags:["math"]},{unicode:"\u2777",names:["NEGATIVE CIRCLED DIGIT TWO"],tags:["math"]},{unicode:"\u2778",names:["NEGATIVE CIRCLED DIGIT THREE"],tags:["math"]},{unicode:"\u2779",names:["NEGATIVE CIRCLED DIGIT FOUR"],tags:["math"]},{unicode:"\u277a",names:["NEGATIVE CIRCLED DIGIT FIVE"],tags:["math"]},{unicode:"\u277b",names:["NEGATIVE CIRCLED DIGIT SIX"],tags:["math"]},{unicode:"\u277c",names:["NEGATIVE CIRCLED DIGIT SEVEN"],tags:["math"]},{unicode:"\u277d",names:["NEGATIVE CIRCLED DIGIT EIGHT"],tags:["math"]},
{unicode:"\u277e",names:["NEGATIVE CIRCLED DIGIT NINE"],tags:["math"]},{unicode:"\u277f",names:["NEGATIVE CIRCLED NUMBER TEN"],tags:["math"]},{unicode:"\u2780",names:["CIRCLED SANS-SERIF DIGIT ONE"],tags:["math"]},{unicode:"\u2781",names:["CIRCLED SANS-SERIF DIGIT TWO"],tags:["math"]},{unicode:"\u2782",names:["CIRCLED SANS-SERIF DIGIT THREE"],tags:["math"]},{unicode:"\u2783",names:["CIRCLED SANS-SERIF DIGIT FOUR"],tags:["math"]},{unicode:"\u2784",names:["CIRCLED SANS-SERIF DIGIT FIVE"],tags:["math"]},
{unicode:"\u2785",names:["CIRCLED SANS-SERIF DIGIT SIX"],tags:["math"]},{unicode:"\u2786",names:["CIRCLED SANS-SERIF DIGIT SEVEN"],tags:["math"]},{unicode:"\u2787",names:["CIRCLED SANS-SERIF DIGIT EIGHT"],tags:["math"]},{unicode:"\u2788",names:["CIRCLED SANS-SERIF DIGIT NINE"],tags:["math"]},{unicode:"\u2789",names:["CIRCLED SANS-SERIF NUMBER TEN"],tags:["math"]},{unicode:"\u278a",names:["NEGATIVE CIRCLED SANS-SERIF DIGIT ONE"],tags:["math"]},{unicode:"\u278b",names:["NEGATIVE CIRCLED SANS-SERIF DIGIT TWO"],
tags:["math"]},{unicode:"\u278c",names:["NEGATIVE CIRCLED SANS-SERIF DIGIT THREE"],tags:["math"]},{unicode:"\u278d",names:["NEGATIVE CIRCLED SANS-SERIF DIGIT FOUR"],tags:["math"]},{unicode:"\u278e",names:["NEGATIVE CIRCLED SANS-SERIF DIGIT FIVE"],tags:["math"]},{unicode:"\u278f",names:["NEGATIVE CIRCLED SANS-SERIF DIGIT SIX"],tags:["math"]},{unicode:"\u2790",names:["NEGATIVE CIRCLED SANS-SERIF DIGIT SEVEN"],tags:["math"]},{unicode:"\u2791",names:["NEGATIVE CIRCLED SANS-SERIF DIGIT EIGHT"],tags:["math"]},
{unicode:"\u2792",names:["NEGATIVE CIRCLED SANS-SERIF DIGIT NINE"],tags:["math"]},{unicode:"\u2793",names:["NEGATIVE CIRCLED SANS-SERIF NUMBER TEN"],tags:["math"]},{unicode:"\u2794",names:["HEAVY WIDE-HEADED RIGHTWARDS ARROW"],tags:["arrows"]},{unicode:"\u2798",names:["HEAVY SOUTH EAST ARROW"],tags:["arrows"]},{unicode:"\u2799",names:["HEAVY RIGHTWARDS ARROW"],tags:["arrows"]},{unicode:"\u279a",names:["HEAVY NORTH EAST ARROW"],tags:["arrows"]},{unicode:"\u279b",names:["DRAFTING POINT RIGHTWARDS ARROW"],
tags:["arrows"]},{unicode:"\u279c",names:["HEAVY ROUND-TIPPED RIGHTWARDS ARROW"],tags:["arrows"]},{unicode:"\u279d",names:["TRIANGLE-HEADED RIGHTWARDS ARROW"],tags:["arrows"]},{unicode:"\u279e",names:["HEAVY TRIANGLE-HEADED RIGHTWARDS ARROW"],tags:["arrows"]},{unicode:"\u279f",names:["DASHED TRIANGLE-HEADED RIGHTWARDS ARROW"],tags:["arrows"]},{unicode:"\u27a0",names:["HEAVY DASHED TRIANGLE-HEADED RIGHTWARDS ARROW"],tags:["arrows"]},{unicode:"\u27a1",names:["BLACK RIGHTWARDS ARROW"],tags:["arrows"]},
{unicode:"\u27a2",names:["THREE-D TOP-LIGHTED RIGHTWARDS ARROWHEAD"],tags:["arrows"]},{unicode:"\u27a3",names:["THREE-D BOTTOM-LIGHTED RIGHTWARDS ARROWHEAD"],tags:["arrows"]},{unicode:"\u27a4",names:["BLACK RIGHTWARDS ARROWHEAD"],tags:["arrows"]},{unicode:"\u27a5",names:["HEAVY BLACK CURVED DOWNWARDS AND RIGHTWARDS ARROW"],tags:["arrows"]},{unicode:"\u27a6",names:["HEAVY BLACK CURVED UPWARDS AND RIGHTWARDS ARROW"],tags:["arrows"]},{unicode:"\u27a7",names:["SQUAT BLACK RIGHTWARDS ARROW"],tags:["arrows"]},
{unicode:"\u27a8",names:["HEAVY CONCAVE-POINTED BLACK RIGHTWARDS ARROW"],tags:["arrows"]},{unicode:"\u27a9",names:["RIGHT-SHADED WHITE RIGHTWARDS ARROW"],tags:["arrows"]},{unicode:"\u27aa",names:["LEFT-SHADED WHITE RIGHTWARDS ARROW"],tags:["arrows"]},{unicode:"\u27ab",names:["BACK-TILTED SHADOWED WHITE RIGHTWARDS ARROW"],tags:["arrows"]},{unicode:"\u27ac",names:["FRONT-TILTED SHADOWED WHITE RIGHTWARDS ARROW"],tags:["arrows"]},{unicode:"\u27ad",names:["HEAVY LOWER RIGHT-SHADOWED WHITE RIGHTWARDS ARROW"],
tags:["arrows"]},{unicode:"\u27ae",names:["HEAVY UPPER RIGHT-SHADOWED WHITE RIGHTWARDS ARROW"],tags:["arrows"]},{unicode:"\u27af",names:["NOTCHED LOWER RIGHT-SHADOWED WHITE RIGHTWARDS ARROW"],tags:["arrows"]},{unicode:"\u27b1",names:["NOTCHED UPPER RIGHT-SHADOWED WHITE RIGHTWARDS ARROW"],tags:["arrows"]},{unicode:"\u27b2",names:["CIRCLED HEAVY WHITE RIGHTWARDS ARROW"],tags:["arrows"]},{unicode:"\u27b3",names:["WHITE-FEATHERED RIGHTWARDS ARROW"],tags:["arrows"]},{unicode:"\u27b4",names:["BLACK-FEATHERED SOUTH EAST ARROW"],
tags:["arrows"]},{unicode:"\u27b5",names:["BLACK-FEATHERED RIGHTWARDS ARROW"],tags:["arrows"]},{unicode:"\u27b6",names:["BLACK-FEATHERED NORTH EAST ARROW"],tags:["arrows"]},{unicode:"\u27b7",names:["HEAVY BLACK-FEATHERED SOUTH EAST ARROW"],tags:["arrows"]},{unicode:"\u27b8",names:["HEAVY BLACK-FEATHERED RIGHTWARDS ARROW"],tags:["arrows"]},{unicode:"\u27b9",names:["HEAVY BLACK-FEATHERED NORTH EAST ARROW"],tags:["arrows"]},{unicode:"\u27ba",names:["TEARDROP-BARBED RIGHTWARDS ARROW"],tags:["arrows"]},
{unicode:"\u27bb",names:["HEAVY TEARDROP-SHANKED RIGHTWARDS ARROW"],tags:["arrows"]},{unicode:"\u27bc",names:["WEDGE-TAILED RIGHTWARDS ARROW"],tags:["arrows"]},{unicode:"\u27bd",names:["HEAVY WEDGE-TAILED RIGHTWARDS ARROW"],tags:["arrows"]},{unicode:"\u27be",names:["OPEN-OUTLINED RIGHTWARDS ARROW"],tags:["arrows"]},{unicode:"\u00e0",names:["Latin Small Letter A with grave"],tags:["accents"]},{unicode:"\u00e1",names:["Latin Small Letter A with acute"],tags:["accents"]},{unicode:"\u00e2",names:["Latin Small Letter A with circumflex"],
tags:["accents"]},{unicode:"\u00e3",names:["Latin Small Letter A with tilde"],tags:["accents"]},{unicode:"\u00e4",names:["Latin Small Letter A with diaeresis"],tags:["accents"]},{unicode:"\u00e5",names:["Latin Small Letter A with ring above"],tags:["accents"]},{unicode:"\u00e6",names:["Latin Small Letter \u00c6"],tags:["accents"]},{unicode:"\u00e7",names:["Latin Small Letter C with cedilla"],tags:["accents"]},{unicode:"\u00e8",names:["Latin Small Letter E with grave"],tags:["accents"]},{unicode:"\u00e9",
names:["Latin Small Letter E with acute"],tags:["accents"]},{unicode:"\u00ea",names:["Latin Small Letter E with circumflex"],tags:["accents"]},{unicode:"\u00eb",names:["Latin Small Letter E with diaeresis"],tags:["accents"]},{unicode:"\u00ec",names:["Latin Small Letter I with grave"],tags:["accents"]},{unicode:"\u00ed",names:["Latin Small Letter I with acute"],tags:["accents"]},{unicode:"\u00ee",names:["Latin Small Letter I with circumflex"],tags:["accents"]},{unicode:"\u00ef",names:["Latin Small Letter I with diaeresis"],
tags:["accents"]},{unicode:"\u00f1",names:["Latin Small Letter N with tilde"],tags:["accents"]},{unicode:"\u00f0",names:["Latin Small Letter Eth"],tags:["accents"]},{unicode:"\u00f2",names:["Latin Small Letter O with grave"],tags:["accents"]},{unicode:"\u00f3",names:["Latin Small Letter O with acute"],tags:["accents"]},{unicode:"\u00f4",names:["Latin Small Letter O with circumflex"],tags:["accents"]},{unicode:"\u00f5",names:["Latin Small Letter O with tilde"],tags:["accents"]},{unicode:"\u00f6",names:["Latin Small Letter O with diaeresis"],
tags:["accents"]},{unicode:"\u00f8",names:["Latin Small Letter O with stroke"],tags:["accents"]},{unicode:"\u00f9",names:["Latin Small Letter U with grave"],tags:["accents"]},{unicode:"\u00fa",names:["Latin Small Letter U with acute"],tags:["accents"]},{unicode:"\u00fb",names:["Latin Small Letter U with circumflex"],tags:["accents"]},{unicode:"\u00fc",names:["Latin Small Letter U with diaeresis"],tags:["accents"]},{unicode:"\u00fd",names:["Latin Small Letter Y with acute"],tags:["accents"]},{unicode:"\u00ff",
names:["Latin Small Letter Y with diaeresis"],tags:["accents"]},{unicode:"\u00fe",names:["Latin Small Letter Thorn"],tags:["accents"]},{unicode:"\u00c0",names:["Latin Capital Letter A with grave"],tags:["accents"]},{unicode:"\u00c1",names:["Latin Capital letter A with acute"],tags:["accents"]},{unicode:"\u00c2",names:["Latin Capital letter A with circumflex"],tags:["accents"]},{unicode:"\u00c3",names:["Latin Capital letter A with tilde"],tags:["accents"]},{unicode:"\u00c4",names:["Latin Capital letter A with diaeresis"],
tags:["accents"]},{unicode:"\u00c5",names:["Latin Capital letter A with ring above"],tags:["accents"]},{unicode:"\u00c6",names:["Latin Capital letter \u00c6"],tags:["accents"]},{unicode:"\u00c7",names:["Latin Capital letter C with cedilla"],tags:["accents"]},{unicode:"\u00d0",names:["Latin Capital letter Eth"],tags:["accents"]},{unicode:"\u00c8",names:["Latin Capital letter E with grave"],tags:["accents"]},{unicode:"\u00c9",names:["Latin Capital letter E with acute"],tags:["accents"]},{unicode:"\u00ca",
names:["Latin Capital letter E with circumflex"],tags:["accents"]},{unicode:"\u00cb",names:["Latin Capital letter E with diaeresis"],tags:["accents"]},{unicode:"\u00cc",names:["Latin Capital letter I with grave"],tags:["accents"]},{unicode:"\u00cd",names:["Latin Capital letter I with acute"],tags:["accents"]},{unicode:"\u00ce",names:["Latin Capital letter I with circumflex"],tags:["accents"]},{unicode:"\u00cf",names:["Latin Capital letter I with diaeresis"],tags:["accents"]},{unicode:"\u00d1",names:["Latin Capital letter N with tilde"],
tags:["accents"]},{unicode:"\u00d2",names:["Latin Capital letter O with grave"],tags:["accents"]},{unicode:"\u00d3",names:["Latin Capital letter O with acute"],tags:["accents"]},{unicode:"\u00d4",names:["Latin Capital letter O with circumflex"],tags:["accents"]},{unicode:"\u00d5",names:["Latin Capital letter O with tilde"],tags:["accents"]},{unicode:"\u00d6",names:["Latin Capital letter O with diaeresis"],tags:["accents"]},{unicode:"\u00d8",names:["Latin Capital letter O with stroke"],tags:["accents"]},
{unicode:"\u00d9",names:["Latin Capital letter U with grave"],tags:["accents"]},{unicode:"\u00da",names:["Latin Capital letter U with acute"],tags:["accents"]},{unicode:"\u00db",names:["Latin Capital Letter U with circumflex"],tags:["accents"]},{unicode:"\u00dc",names:["Latin Capital Letter U with diaeresis"],tags:["accents"]},{unicode:"\u00dd",names:["Latin Capital Letter Y with acute"],tags:["accents"]},{unicode:"\u00de",names:["Latin Capital Letter Thorn"],tags:["accents"]},{unicode:"\u00df",names:["Latin Small Letter sharp S"],
tags:["accents"]},{unicode:"\u00bf",names:["Inverted Question Mark"],tags:["accents"]}],f=function(a){if("undefined"===typeof a||"all"==a)return e;for(var g=[],f=0;f<e.length;f++)for(var l=e[f].tags,k=0;k<l.length;k++)if(l[k]==a){g.push(e[f]);break}return g};return{getSymbols:f,search:function(a,e){a=f(a);if(!e)return a;for(var g=[],l=0;l<a.length;l++)for(var k=a[l].names,m=0;m<k.length;m++){var p=k[m].match(new RegExp("\\b"+e,"gi"));if(p&&0<p.length){g.push(a[l]);break}}return g}}}
(function(e){var f=function(a){return e("<div/>").text(a).html()};e.fn.equalizeHeights=function(){var a=this.map(function(a,f){return e(f).height()}).get();return this.height(Math.max.apply(this,a))};e.widget("ui.datapicker",{options:{tags:{names:{type:"list",values:[{name:"new",title:"New"}],showInLeftPanel:!0},alphabetical:{type:"table",values:[{name:"a",title:"A"},{name:"b",title:"B"},{name:"c",title:"C"},{name:"d",title:"D"},{name:"e",title:"E"},{name:"f",title:"F"},{name:"g",title:"G"},{name:"h",
title:"H"},{name:"i",title:"I"},{name:"j",title:"J"},{name:"k",title:"K"},{name:"l",title:"L"},{name:"m",title:"M"},{name:"n",title:"N"},{name:"o",title:"O"},{name:"p",title:"P"},{name:"q",title:"Q"},{name:"r",title:"R"},{name:"s",title:"S"},{name:"t",title:"T"},{name:"u",title:"U"},{name:"v",title:"V"},{name:"w",title:"W"},{name:"x",title:"X"},{name:"y",title:"Y"},{name:"z",title:"Z"},{name:"0",title:"#"}],columns:5,showInTopPanel:!0,showInLeftPanel:!1}},position:function(a,g){a=g.main;g=a.outerWidth();
var f=a.outerHeight();f=(e(window).height()-f)/2+e(window).scrollTop();g=(e(window).width()-g)/2+e(window).scrollLeft();a.css({top:f+"px",left:g+"px",position:"absolute"})},sizeFn:function(a,g){var f=g.main.find(".dp_preview_body"),l=g.main.find(".dp_top_panel");a=g.main.find(".dp_left_panel");var k=g.main.find(".dp_right_panel"),m=g.main.find(".dp_preview_footer"),p=e(window).width();g=e(window).height()-24;520<=p&&0<m.length&&(g-=m.height());"undefined"!==typeof this.preview_header&&(g-=33);520>
p&&377<g&&(g=377);f.css({"max-width":p-24,"max-height":g});0<l.length&&(f=0<l.height()?l.outerHeight(!0):38,g-=f);a.add(k).css({"max-height":g})},ui:{simpleMode:!1,header:"Data Picker",showOutline:!1,min_width:200,loadingImgSrc:"https://cdn1.ftimg.com/images/loading.gif",footer:{autocloseLabel:"Auto Close",okayLabel:"Okay",cancelLabel:"Cancel"},previousTagLabel:"Previous",topPanel:{show:!1,showAlphabet:!0,search:{enabled:!0,searchPlaceholder:"",searchLabel:"Search",goLabel:"Go",runAsYouType:!0,searchAll:!0},
closeLabel:"Close",closeImgSrc:"https://cdn1.ftimg.com/images/stock_delete_24.png"},leftPanel:{show:!0,specialTags:{previous:{enabled:!1,tagname:"dp_tag_previous",ui:"Previous"},search:{enabled:!0,tagname:"dp_tag_search",ui:"Last Search"}}},rightPanel:{containerClass:"dp_div",pagination:{itemsPerPage:10,pageLinks:5,scrollable:!0},showCategoriesHint:!0}},controlElement:void 0,init:function(){},select:function(){},cancel:function(){},close:function(){},failed:function(){},autoclose:!0,cacheAjaxResults:!1,
cacheAjaxResultsFn:void 0,cacheKeyComposition:[],origValue:void 0,initialTag:void 0,pixelRatio:1,mode:"popup",openOnInit:!1,closableByEscKey:!0,closableByDocumentClick:!0,heightBasedOnCategoriesPanelHeight:!0},_create:function(){var a=this;this._determineMode();this.tags=this.right_panel=this.left_panel=this.preview_footer=this.preview_body=this.preview_header=this.preview_container=this.preview_outline=this.preview=void 0;this.autoclose="boolean"==typeof this.options.autoclose?this.options.autoclose:
!0;this.prevItem=this.selectedItem=this.previousTag=this.selectedTag=void 0;this.origValue=this.options.origValue?this.options.origValue:void 0;this.currentTag=this.initialTag=this.options.initialTag?this.options.initialTag:void 0;this.items={};this.fn_queue={};this.tagsProcessed={};this.working=!1;this.leftPanelItemCount=0;this.imagebot="undefined"!=typeof window.dontUseMeAskCameron?window.dontUseMeAskCameron:{};"undefined"===typeof this.options.cacheAjaxResultsFn&&(this.options.cacheAjaxResultsFn=
function(){return a.options.cacheAjaxResults});this._buildUI();e.isFunction(this.options.init)&&this._trigger("init",null,this._ui());this.initialTagCacheKey=this.currentCacheKey=void 0;this._initCacheKeyChangeEvents();(this.options.openOnInit||this.mode==this.MODE_INLINE)&&this._open()},_initCacheKeyChangeEvents:function(){var a=this;e.each(this.options.cacheKeyComposition,function(g,f){if("undefined"===typeof f.element||0==f.element.length)return!0;e.each(f.cacheKeyChangeEvents,function(e,g){f.element.bind(g+
".datapicker",{dp:a},function(a){a.data.dp._triggerCacheKeyChanged()})})})},_triggerCacheKeyChanged:function(){this._selectTag(this.selectedTag)},_determineMode:function(){this.MODE_POPUP=1;this.MODE_INLINE=2;switch(this.options.mode){case "inline":this.mode=this.MODE_INLINE;break;default:this.mode=this.MODE_POPUP}},_init:function(){},_ui:function(){var a={value:this.prevItem?this.prevItem.attr("dp_value"):this.origValue,escapedValue:this._escapedValue(this.prevItem?this.prevItem.attr("dp_value"):
this.origValue),tagname:this.initialTag,img_url:this.prevItem?this.prevItem.find("img").attr("src"):""},e={value:this.selectedItem?this.selectedItem.attr("dp_value"):this.origValue,escapedValue:this._escapedValue(this.selectedItem?this.selectedItem.attr("dp_value"):this.origValue),tagname:this.currentTag,img_url:this.selectedItem?this.selectedItem.find("img").attr("src"):""};return{main:this.preview,selected:e,original:a,controlElement:this.options.controlElement,escapeFn:this._escapedValue}},_buildUI:function(){this._createMain();
this._createHeader();this._createBody();this._createFooter();this._initControlElement();this.preview.hide();this.preview.css({visibility:"visible"})},_initControlElement:function(){var a=this,g=this.options.controlElement;"undefined"!==typeof g&&g.length&&(g.addClass("dp_control_element"),g.click(function(g){g.preventDefault();if(a.mode!=a.MODE_INLINE||!e(g.target).parents().addBack().is(a.preview)){var f=a.preview.hasClass("dp_open");e(document).trigger("click.datapicker");g.stopImmediatePropagation();
f?a._close():a._open()}}))},_close:function(a){this.mode!=this.MODE_INLINE&&(e.isFunction(this.options.close)&&this._trigger("close",null,this._ui()),a||this._addToPreviousItems(),this.initialTag=this.currentTag,a=this.initialTagCacheKey=this.currentCacheKey,this.items[a].pageWithSelection=this.items[a].pageWithSelectionUnconfirmed,this.preview.hide(),this.preview.removeClass("dp_open"),e(document).unbind(".datapicker"))},_open:function(){var a=this.options,g=e(window).width();e(window).height();
520>g||a.ui.simpleMode?this.preview.addClass("ui_simple"):"inlineLogoPicker"===a.abtest&&this.mode==this.MODE_INLINE?this.preview.addClass("ui_simple"):this.preview.removeClass("ui_simple");this.mode==this.MODE_POPUP&&"function"===typeof a.sizeFn&&this._trigger("sizeFn",null,this._ui());this.right_panel.add(this.left_panel);this.mode==this.MODE_POPUP&&e.isFunction(a.position)&&this._trigger("position",null,this._ui());e.isFunction(a.open)&&this._trigger("open",null,this._ui());this.preview.show();
this.preview.addClass("dp_open");if(this.mode==this.MODE_POPUP){if(a.closableByDocumentClick)e(document).on("click.datapicker",{dp:this},function(a){e(a.target).parents().addBack().is(a.data.dp.preview)||a.data.dp._close()});if(a.closableByEscKey)e(document).on("keyup.datapicker",{dp:this},function(a){var e=a.data.dp;27==a.keyCode&&e.preview.hasClass("dp_open")&&e._close()})}this._selectTag_string(this.initialTag)},_cancel:function(){e.isFunction(this.options.cancel)&&this._trigger("cancel",null,
this._ui());"undefined"!=typeof this.selectedItem&&this.selectedItem.removeClass("selectedItem");this.selectedItem=this.prevItem;this.currentTag=this.initialTag;this.currentCacheKey=this.initialTagCacheKey;this.right_panel.find(".selectedItem").removeClass("selectedItem");var a="undefined"!=typeof this.selectedItem&&this.selectedItem.length?this.selectedItem.attr("dp_value"):this.origValue;if(a){key=this.currentCacheKey;var g=this.items[key].pageWithSelection||0;this.items[key].pageWithSelectionUnconfirmed=
g;this.selectedItem=this.items[key].pages[g].cache.find('[dp_value="'+a+'"]').addClass("selectedItem");this.right_panel.find('[dp_value="'+a+'"]').addClass("selectedItem")}this._close(!0)},_failed:function(a,g,f){var h=this.options;e.isFunction(h.failed)&&this._trigger("failed",null,this._ui());"boolean"!=typeof g&&(g=!0);g&&this.selectedTag.is(f)&&this._tagListEmpty(f);if(f.attr("tagname")!=h.ui.leftPanel.specialTags.search.tagname)throw Error("datapicker failed: "+a);},_showSearchHint:function(a){var g=
this._getKey(a);a=this._tagListEmpty(a).html("No results. Please type in the search box.");var f=e("<div></div>");this.items[g]={pageWithSelection:0,pageWithSelectionUnconfirmed:0,currentPage:0,container:f,pages:[{items:["noresults"],cache:f.append(a.clone())}]}},_saveSearchEmpty:function(a,g,f,l){a=this._getKey(f,l);f=this._tagListEmpty(f);g=e("<div></div>");this.items[a]={pageWithSelection:0,pageWithSelectionUnconfirmed:0,currentPage:0,container:g,pages:[{items:["noresults"],cache:g.append(f.clone())}],
totalItems:0}},_tagListEmpty:function(a){var g="Category empty.";a.attr("tagname")===this.options.ui.leftPanel.specialTags.search.tagname&&(g="No search results");a=this._buildInfoPanel(0).append(e("<div class='dp_failed_div'>"+g+"</div>"));this.shownSearch="";this.right_panel.html(a);return a},_createMain:function(){var a=this.options;this.mode==this.MODE_POPUP?(this.main=e("<div class='dp_main'></div>").appendTo("body"),this.preview=e("<div class='dp_preview_dialog'></div>").appendTo(this.main),
a=e(window).width(),window.innerWidth&&(a=Math.max(a,window.innerWidth)),(!("ontouchend"in document)&&700<=a||1200<=a)&&this.preview.draggable({cancel:".dp_preview_body"})):this.mode==this.MODE_INLINE&&(this.main="inlineLogoPicker"===a.abtest?e("<div class='dp_main_inline'></div>").appendTo(e(this.element)):e("<div></div>").appendTo(e(this.element)),this.preview=e("<div class='dp_preview_inline'></div>").appendTo(this.main));this._buildOutline();this.preview_container=e("<div class='dp_preview_dialog_container'></div>").appendTo(this.preview_outline)},
_buildOutline:function(){var a=this.options;this.preview_outline=e("<div class='dp_preview_dialog_outline'></div>").appendTo(this.preview);a.ui.showOutline&&(this.imagebot.length||-1!=navigator.appVersion.indexOf("MSIE")&&9>parseFloat(navigator.appVersion.split("MSIE")[1]))&&(a.ui.showOutline=!1);a.ui.showOutline||this.preview_outline.css({padding:"0px",border:"0px"})},_createHeader:function(){var a=this.options;this.preview_header=e("<div class='dp_preview_header'>"+a.ui.header+"</div>").appendTo(this.preview_container);
if(this.mode==this.MODE_POPUP||a.ui.showHeaderClose){var g=e("<div class='dp_preview_dialog_close'></div>").appendTo(this.preview_header);e("<img src='"+a.ui.topPanel.closeImgSrc+"' title='"+a.ui.topPanel.closeLabel+"'/>").appendTo(g);g.bind("click.datapicker",{self:this},function(a){a.data.self._close()})}a.ui.min_width=a.ui.min_width>this.preview_header.width()?a.ui.min_width:this.preview_header.width()},_createBody:function(){var a=this.options;this.preview_body=e("<div class='dp_preview_body cf'></div>").appendTo(this.preview_container);
this.tags=e([]);this._createTopPanel();this._createLeftPanel();this._createRightPanel();a.ui.min_width=a.ui.min_width>this.preview_body.width()?a.ui.min_width:this.preview_body.width();this.mode==this.MODE_POPUP&&(a=(a.ui.topPanel.show?this.top_panel.outerHeight():0)+this.right_panel.outerHeight(),this.preview_body.css("height",a))},_createTopPanel:function(){var a=this.options;this.top_panel=e("<div class='dp_top_panel'></div>").appendTo(this.preview_body);if(a.ui.topPanel.show)this._buildSearchPanel(),
this._buildTopPanelAlphabet();else{this.top_panel.addClass("ui_simple_only");a=a.ui.leftPanel.specialTags;for(var g in a)a[g].enabled=!1}},_buildSearchPanel:function(){var a=this,g=this.options;if(g.ui.topPanel.search.enabled){this.top_panel_search=e("<div class='dp_top_panel_search'></div>").appendTo(this.top_panel);var f=e("<div class='dp_search_field_btn'><div class='dp_input_btn_icon dp_search_input_btn_icon'></div>").appendTo(this.top_panel_search);this.search_field=e("<input class='dp_search_field' type='search' autocapitalize='off' placeholder='Search..' value=''/></div>").appendTo(this.top_panel_search);
f.on("click",function(g){g.preventDefault();a.preview.hasClass("ui_simple")&&!e("html").hasClass("opera-mini")?(g.preventDefault(),a.top_panel_search.toggleClass("active"),a.top_panel_search.hasClass("active")?a.search_field.focus():a.search_field.blur()):a._runSearch()});g.ui.topPanel.search.runAsYouType&&this._registerSearchFieldChanges()}else g.ui.leftPanel.specialTags.search.enabled=!1},_registerSearchFieldChanges:function(){this.search_field.bind("change.datapicker",{self:this},function(a){var g=
e(this).val();if(""!=g){var f=a.data.self;if(!(f.runningXhr||f.shownSearch&&f.shownSearch==g)||f.runningXhr&&f.runningXhr.searchTerm!=g||f.selectedTag.attr("tagname")!=f.options.ui.leftPanel.specialTags.search.tagname)f.runningXhr&&f.runningXhr.abort(),a.data.self._runSearch()}}).bind("keyup.datapicker",{self:this},function(a){var g=100;2>e(this).val().length&&(g=500);setTimeout(function(){a.data.self.search_field.trigger("change.datapicker")},g)})},_runSearch:function(){this._selectTag_string(this.options.ui.leftPanel.specialTags.search.tagname)},
_buildTopPanelAlphabet:function(){var a=this.options.tags.alphabetical;if(a.showInTopPanel&&this.options.ui.topPanel.showAlphabet){var g=e("<div class='dp_top_panel_alphabet'></div>").appendTo(this.top_panel);if((a=a.values)&&a.length){var f=e("<ul class='dp_top_panel_alphabet_ul'></ul>").appendTo(g),l=this;e.each(a,function(a,g){g.title||(g.title=g.name);a=e("<li tagname='"+g.name+"' title='"+g.title+"'>"+g.title+"</li>").appendTo(f);l._addTag(a)})}}},_createLeftPanel:function(){var a=this.options;
this.left_panel=e("<div class='dp_left_panel'></div>").appendTo(this.preview_body);this._addTags();var g=this.tags.filter('[tagname="'+this.initialTag+'"]');g.length||(g=this.tags.eq(0),this.currentTag=this.initialTag=g.attr("tagname"));if(a.heightBasedOnCategoriesPanelHeight&&this.mode==this.MODE_POPUP){var f=0;e.each(this.left_panel.children(),function(a,g){f+=e(g).height()});this.left_panel.css({height:f})}},_addTags:function(){var a=this;e.each(this.options.tags,function(e,f){f.showInLeftPanel&&
(e=f.type,"list"==e?(a._buildTagList(f),a._buildSelectTagList(f)):"table"==e&&a._buildTagTable(f))});this._addSpecialTags()},_addSpecialTags:function(){var a=!1,g=this.options.ui.leftPanel.specialTags,f;for(f in g){var l=g[f];if(l.enabled){a=!0;break}}if(a)for(f in l=e("<div class='dp_tag_div'></div>").prependTo(this.left_panel),a=e("<ul class='dp_tag_list'></ul>").appendTo(l),g)if(l=g[f],l.enabled){l.items=e();var k=e("<li tagname='"+l.tagname+"' title='"+l.ui+"'>"+l.ui+"</li>").appendTo(a);this._addTag(k);
l=e("<option value='"+l.tagname+"' tagname='"+l.tagname+"' title='"+l.ui+"'>"+l.ui+"</li>").prependTo(this.categorySelect);this._addTag(l)}},_buildSelectTagList:function(a){var g=this,f=this.options;if(a.values&&a.values.length){var l=e("<div class='ui_simple_only'/>").appendTo(this.top_panel);e("<span class='dp_category_text'>Category: </span>").appendTo(l);this.categorySelect=e("<select class='dp_category_select'></select>").appendTo(l);this.categorySelectInfo=e("<small class='dp_category_select_info'/>").appendTo(l);
e.each(a.values,function(h,l){l.title||(l.title=l.name);h=l.title.toLowerCase()===f.initialTag?" selected":"";e("<option"+h+" value='"+l.name+"' tagname='"+l.name+"' title='"+l.title+"'>"+l.title+"</option>").appendTo(g.categorySelect);g.tags=g.tags.add(a)});this.categorySelect.on("change",function(a){g._selectTag(e(this).find(":selected"))})}},_buildTagList:function(a){var g=this;if(a.values&&a.values.length){var f=e("<div class='dp_tag_div'></div>").prependTo(this.left_panel),l=e("<ul class='dp_tag_list'></ul>").appendTo(f);
e.each(a.values,function(a,f){f.title||(f.title=f.name);a=e("<li tagname='"+f.name+"' title='"+f.title+"'>"+f.title+"</li>").appendTo(l);g._addTag(a);g.leftPanelItemCount++})}},_buildTagTable:function(a){if("undefined"!=typeof a.values&&a.values.length){var g=e("<div class='dp_tag_div'></div>").appendTo(this.left_panel);g=e("<table class='dp_tag_table'></table>").appendTo(g);g=e("<tbody></tbody>").appendTo(g);for(var f=a.columns,l=Math.ceil(a.values.length/f),k=0;k<l;k++)for(var m=e("<tr></tr>").appendTo(g),
p=0;p<f;p++){var u=k*f+p;if(u<a.values.length)u=a.values[u],"undefined"==typeof u.title&&(u.title=u.name),u=e("<td tagname='"+u.name+"' title='"+u.title+"'>"+u.title+"</td>").appendTo(m),this._addTag(u),this.leftPanelItemCount++;else break}}},_addTag:function(a){var g=this;a.on("click",function(a){g._selectTag(e(this))});this.tags=this.tags.add(a)},_selectTag_string:function(a){"string"==typeof a&&a.length&&(a=this.tags.filter('[tagname="'+a+'"]'),this._selectTag(a))},_isSpecialTag:function(a){var e=
this.options.ui.leftPanel.specialTags,f;for(f in e)if(a==e[f].tagname)return!0;return!1},_selectTag:function(a){var e=this.options,f=this._getKey(a);if(this.currentCacheKey!=f||"undefined"==typeof this.selectedTag||!this.selectedTag.is(a)||this.items[f]&&this.items[f].currentPage!=this.items[f].pageWithSelection||a.attr("tagname")==e.ui.leftPanel.specialTags.search.tagname&&this.shownSearch!=this.search_field.val()){this.selectedTag&&this.selectedTag.is(this.previousTag)||(this.previousTag=this.selectedTag);
this.currentCacheKey=f;this.initialTagCacheKey||(this.initialTagCacheKey=this.currentCacheKey);this.selectedTag=a;this.options.ui.rightPanel.pagination.scrollable&&this.right_panel.unbind("scroll.datapicker");this.right_panel.empty();this._setLoading(!0,a);this.selectedTag.attr("tagname")==e.ui.leftPanel.specialTags.search.tagname&&(this.shownSearch=this.search_field.val()||this.shownSearch||"");f=this._getKey(a);var l=void 0;this.items[f]&&(this.options.ui.rightPanel.pagination.scrollable||(this.items[f].currentPage=
this.items[f].pageWithSelection),l=this.items[f].currentPage,l=this.items[f].pages.length?this.items[f].pages[l].cache:{});e.cacheAjaxResultsFn(this.selectedTag)&&"undefined"!=typeof this.selectedTag&&this.selectedTag.attr("tagname")!=e.ui.leftPanel.specialTags.previous.tagname&&"undefined"!=typeof l?(this.selectedItem&&0<l.length&&(e=l.find('[dp_value="'+this.selectedItem.attr("dp_value")+'"]'),e.length&&(this.selectedItem.removeClass("selectedItem"),this.selectedItem=e.addClass("selectedItem"),
this.currentTag=this.initialTag=this.selectedTag.attr("tagname"),this.currentCacheKey=this.initialTagCacheKey=f)),this._showItems(this.selectedTag)):this._getData(a,this.selectedItem&&this.selectedItem.length?this.selectedItem.attr("dp_value"):this.origValue);this.tags.not(a).removeClass("selectedTag");a.addClass("selectedTag")}},_saveItems:function(a){var g=a.values,f=a.tag,l=e("<div class='dp_item_container'></div>");this.options.ui.rightPanel.containerClass&&l.addClass(this.options.ui.rightPanel.containerClass);
a=this._getKey(f,a.searchTerm);f=this.options.ui.rightPanel.pagination.itemsPerPage;for(var k=g.length,m=Math.ceil(k/f),p=[],u=0;u<m;u++){var B=u*f;p[u]={items:g.slice(B,Math.min(B+f,k)),cache:void 0}}this.items[a]={pageWithSelection:0,pageWithSelectionUnconfirmed:0,currentPage:0,container:l,pages:p,lastScrollTop:0,totalItems:k}},_getKey:function(a,g){var f="string"==e.type(a)?a:a.attr("tagname");f==this.options.ui.leftPanel.specialTags.search.tagname&&(a=g?g:this.search_field.val()||this.shownSearch||
"",f+="&q="+a);e.each(this.options.cacheKeyComposition,function(a,g){if("undefined"===typeof g.element||0==g.element.length)return!0;g=e.isFunction(g.getValue)?g.getValue.apply(g.element):g.element.val();f+="&key"+a+"="+g});return f},_loadItems:function(a,g){a=this.items[a].pages[g].cache.children();var f=this;a.addClass("dp_item");e.each(a,function(a,g){e(g).hasClass("dp_item_ready")||f._loadItem(e(g))})},_loadItem:function(a){},_showItems:function(a){a||(a=this.selectedTag);if(this.selectedTag.is(a)){var g=
this._getKey(a);if(e.isPlainObject(this.items[g])&&this.items[g].pages.length)if(a.attr("tagname")===this.options.ui.leftPanel.specialTags.search.tagname&&"noresults"===this.items[g].pages[0].items[0])this._tagListEmpty(a);else{var f=this.items[g].currentPage;"undefined"==typeof this.items[g].pages[f].cache&&this._cachePage(a,g,f);this.selectedTag.is(a)&&(this._displayItems(g,f),this.options.ui.leftPanel.specialTags.search.tagname==a.attr("tagname")&&(this.shownSearch=this.search_field.val()||this.shownSearch))}else this._tagListEmpty(a)}},
_displayItems:function(a,g){var f=e();this.hintAppended=!1;var l=!!this.options.ui.rightPanel.showCategoriesHint;if(this.options.ui.rightPanel.pagination.scrollable)for(var k=0;k<=g;k++){var m=this.items[a].pages[k];f=f.add(m.cache)}else m=this.items[a].pages[g],f=m.cache;g<this.items[a].pages.length-1&&(l=!1);k=this._buildPagination(this.items[a].pages.length,this.items[a].currentPage,a);this._itemsLoaded(this.selectedTag,f.length?!1:!0);f=f.clone(!0,!0).removeClass("dp_preload_item_container");
this.right_panel.empty().append(this._buildInfoPanel(this.items[a].totalItems)).append(k.addClass("dp_top_pagination")).append(f).append(k.clone(!0,!0).removeClass("dp_top_pagination").addClass("dp_bottom_pagination"));l&&this._appendCategoriesHint();this.options.ui.rightPanel.pagination.scrollable&&this.right_panel.scrollTop(this.items[a].lastScrollTop);this._loadItems(a,g)},_appendCategoriesHint:function(){if(!(this.hintAppended||2>this.leftPanelItemCount||this.mode!=this.MODE_POPUP)){var a=e('<div class="ft-note-blue ft-note dp_more_categories_hint"><p>&larr; More Categories</p></div>');
this.right_panel.append(a);this.hintAppended=!0}},_cachePage:function(a,g,f){var h=this.items[g].pages[f],k=this.items[g].container.clone();if(k&&k.length){var m=this;k.addClass("dp_preload_item_container").appendTo(this.main);e.each(h.items,function(e,h){e=m._buildItem(h,a,k);m._bindItemEvents(e,g,f);var l=m.selectedItem&&m.selectedItem.length?m.selectedItem.attr("dp_value"):m.origValue;l&&h==l&&(m.selectedItem&&m.selectedItem.removeClass("selectedItem"),m.currentTag=m.initialTag=a.attr("tagname"),
m.currentCacheKey=m.initialTagCacheKey=g,m.selectedItem=e.addClass("selectedItem"))});h.cache=k}},_buildItem:function(a,e,f){},_buildInfoPanel:function(a){var g=e('<div class="dp_items_info cf"></div>'),h=this.selectedTag.attr("title");this.options.ui.leftPanel.specialTags.search.tagname==this.selectedTag.attr("tagname")&&(h='"'+this.shownSearch+'"');h="<strong>"+f(h)+"</strong>";e('<div class="dp_items_info_totalMsg">'+h+" ("+a+" item"+(1==a?"":"s")+")</div>").appendTo(g);this.categorySelectInfo.html("("+
a+" item"+(1==a?"":"s")+")");a=this.selectedTag.filter("option").val();a===this.options.ui.leftPanel.specialTags.search.tagname&&this.categorySelect.val(a);return g},_scrollCheckMoreContent:function(a,e,f){"undefined"!=typeof scrollCounter&&scrollCounter++;var g=this.items[f].pages[e];g=g.cache.outerHeight();var h=this.right_panel.outerHeight();g=Math.floor(g*e+(g/2-h));h=this.right_panel.scrollTop();this.items[f].lastScrollTop=h;h>g&&e+1<a&&(e+=1,g=this.items[f].pages[e],"undefined"==typeof g.cache&&
this._cachePage(this.selectedTag,f,e),this.items[f].currentPage=e,g=g.cache.clone(!0,!0).removeClass("dp_preload_item_container"),this.right_panel.append(g),this._loadItems(f,e),this._bindScroll(a,e,f));e+1==a&&this.options.ui.rightPanel.showCategoriesHint&&this._appendCategoriesHint()},_bindScroll:function(a,e,f){var g=this,h=0,m=function(a,e){clearTimeout(h);h=setTimeout(a,e)};this.right_panel.unbind("scroll.datapicker").bind("scroll.datapicker",function(h){m(function(){g._scrollCheckMoreContent(a,
e,f)},200)})},_buildPagination:function(a,g,f){var h=e();if(2>a)return h;if(this.options.ui.rightPanel.pagination.scrollable)return this._bindScroll(a,g,f),h;var k=g+1;h=e('<div class="dp_pagination"></div>');e('<div class="dp_pagination_pageMsg">Page '+k+" of "+a+"</div>").appendTo(h);k=e('<div class="dp_pagination_buttons"></div>').appendTo(h);e('<button type="button" class="ft-pagination-btn dp_pagination_button prev_page" value="'+(0==g?a-1:g-1)+'">&lt;</button>').appendTo(k);e('<button type="button" class="ft-pagination-btn dp_pagination_button next_page" value="'+
(g==a-1?0:g+1)+'">&gt;</button>').appendTo(k);k.children("button").bind("click.datapicker",{self:this,currentPage:g,key:f},function(a){if(a.data.currentPage!=parseInt(e(this).val())){a.stopPropagation();var g=a.data.self;g._setLoading(!0,g.selectedTag);g.items[a.data.key].currentPage=parseInt(e(this).val());g._showItems(g.selectedTag)}});return h},_bindItemEvents:function(a,g,f){a.bind("item_ready",{dp:this},function(a){e(this).addClass("dp_item_ready");a=a.data.dp;var g=e(this).attr("dp_value"),
f=a.right_panel.find('[dp_value="'+g+'"]');if(f.length){var h=e(this).clone(!0,!0),l=f.prev(),B=f.parent();f.remove();l.length?h.insertAfter(l):B.prepend(h)}if(a.fn_queue[g])for(;a.fn_queue[g].length;)a.fn_queue[g].shift()()});a.bind("click.datapicker",{dp:this,item:a,key:g,currentPage:f},function(a){a.data.dp.items[a.data.key].pageWithSelectionUnconfirmed=a.data.currentPage;a.data.dp._selectItem(a.data.item)})},_setLoading:function(a,g){a?(a=this.options.ui.leftPanel.specialTags.search.tagname==
g.attr("tagname"),g="Loading: "+g.attr("title"),a&&(g='Searching: "'+this.search_field.val()+'"'),a=e("<div class='dp_loading_div'></div>").appendTo(this.right_panel),e("<div class='dp_loading_message'>"+f(g)+"</div>").appendTo(a),e("<img class='dp_loading_indicator' src='"+this.options.ui.loadingImgSrc+"'/>").appendTo(a),this.working=!0):g.attr("tagname")==this.selectedTag.attr("tagname")&&(this.right_panel.empty(),this.working=!1)},_getData:function(a,e){return this._getSpecialTag(a)?!0:!1},_getSpecialTagKeyByTagname:function(a){var e=
this.options.ui.leftPanel.specialTags,f;for(f in e)if(a==e[f].tagname)return f},_getSpecialTag:function(a){var g=this.options;return this._isSpecialTag(a.attr("tagname"))?(g=g.ui.leftPanel.specialTags[this._getSpecialTagKeyByTagname(a.attr("tagname"))],this._setLoading(!1,a),a=e("<div class='dp_preview_list'></div>").appendTo(this.right_panel),g.items.appendTo(a),!0):!1},_getItems:function(a,e){},_itemsLoaded:function(a,e){this._setLoading(!1,a);e&&this._tagListEmpty(a)},_selectItem:function(a){var g=
this,f=this.options;"undefined"!=typeof this.selectedItem&&this.selectedItem.removeClass("selectedItem");this.selectedItem=a;this.selectedItem.addClass("selectedItem");this.currentTag=this.selectedTag.attr("tagname");this.right_panel.find('[dp_value="'+a.attr("dp_value")+'"]').addClass("selectedItem").siblings().removeClass("selectedItem");this.autoclose&&this._close();e.isFunction(f.select)&&this._ready(a,function(){g.selectedItem.is(a)&&g._trigger("select",null,g._ui())})},_ready:function(a,e){this._isItemReady(a)?
e():(a=a.attr("dp_value"),this.fn_queue[a]||(this.fn_queue[a]=[]),this.fn_queue[a].push(e))},_isItemReady:function(a){return a.hasClass("dp_item_ready")},_addToPreviousItems:function(){if("undefined"!=typeof this.selectedItem&&(this.prevItem=this.selectedItem,this.options.ui.leftPanel.specialTags.previous.enabled)){var a=this.prevItem.attr("dp_value"),g=this.options.ui.leftPanel.specialTags.previous,f=g.items;f.filter(function(){return e(this).attr("dp_value")==a}).length||(g.items=this.prevItem.add(f.clone(!0,
!0)))}},_escapedValue:function(a){if("string"!=typeof a)return"";a=encodeURIComponent(a).replace(/%20/g,"+");return encodeURIComponent(a)},_createRightPanel:function(){var a=this.options;this.right_panel=e("<div class='dp_right_panel'></div>").appendTo(this.preview_body);this.options.ui.rightPanel.containerClass&&this.right_panel.addClass("rpanel_"+this.options.ui.rightPanel.containerClass);a.ui.leftPanel.show?this.left_panel.add(this.right_panel).equalizeHeights():(this.left_panel.css({width:0,display:"none"}),
this.right_panel.css({width:"100%"}));e("html").hasClass("no-overflow")&&touchScroll(".dp_right_panel")},_createFooter:function(){var a=this.options;this.mode!=this.MODE_INLINE&&(this.preview_footer=e("<div class='dp_preview_footer'></div>").appendTo(this.preview_container),this._createAutoclose(),this._createFooterButtons(),a.ui.min_width=a.ui.min_width>this.preview_footer.width()?a.ui.min_width:this.preview_footer.width())},_createAutoclose:function(){var a=this.options;this.autoclose="boolean"==
typeof a.autoclose?a.autoclose:!0;var g=e("<div class='dp_autocloseDiv'></div>").appendTo(this.preview_footer),f=e("<input type='checkbox' class='dp_autocloseDiv_checkbox'/>").appendTo(g);f.prop("checked",this.autoclose);f.bind("change.datapicker",{dp:this},function(a){a.data.dp.autoclose=!!e(this).prop("checked")});e("<span class='dp_autocloseLabel'>"+a.ui.footer.autocloseLabel+"</span>").appendTo(g).bind("click.datapicker",{cb:f},function(a){a.data.cb.prop("checked",!a.data.cb.prop("checked")).trigger("change")})},
_createFooterButtons:function(){var a=this.options,g=e("<div class='dp_footerButtons'></div>").appendTo(this.preview_footer);e("<button type='button' class='dp_preview_button_cancel'>"+a.ui.footer.cancelLabel+"</button>").appendTo(g).bind("click.datapicker",{dp:this},function(a){a.preventDefault();a.data.dp._cancel()});e("<button type='button' class='dp_preview_button_okay'>"+a.ui.footer.okayLabel+"</button>").appendTo(g).bind("click.datapicker",{dp:this},function(a){a.data.dp._close()})},destroy:function(){this._close();
this.element.removeClass("dp_control_element").unbind(".datapicker").removeData("datapicker");return this}});e.widget("ui.ajaxpicker",e.extend({},e.ui.datapicker.prototype,{options:{ajaxCategory:"fonts",ajaxFailed:function(){},ajaxHost:"",ajaxCgi:"/Ajax",ajaxExtraParams:"",genAjaxUrl:function(a,e,f){var g=a.ajaxHost;g+=a.ajaxCgi+"?c="+encodeURIComponent(a.ajaxCategory)+"&t="+encodeURIComponent(e);f&&(g+="&q="+encodeURIComponent(f));return g+="&"+a.ajaxExtraParams},preFilterAjaxResult:void 0},_create:function(){this.options=
e.extend(!0,{},e.ui.datapicker.prototype.options,this.options);e.ui.datapicker.prototype._create.apply(this,arguments)},_getData:function(a){var g=this.options,f=a.attr("tagname"),l=g.ui.leftPanel.specialTags.search.tagname==f&&""!=this.search_field.val();if(g.ui.leftPanel.specialTags.search.tagname==f&&""==this.search_field.val())this._showSearchHint(a),this.search_field.focus(),this.preview.hasClass("ui_simple")&&!e("html").hasClass("opera-mini")&&this.top_panel_search.addClass("active");else if(l||
!e.ui.datapicker.prototype._getData.apply(this,arguments)){var k=f,m=null;l&&(k=g.ui.topPanel.search.searchAll?"all":this.previousTag.attr("tagname"),m=this.search_field.val());f={self:this,tag:a,searching:l,searchTerm:this.search_field?this.search_field.val():""};var p=g.genAjaxUrl(g,k,m);this.runningXhr=e.ajax({url:p,async:!0,context:f,cache:!1,dataType:"json",success:function(a){"function"===typeof g.preFilterAjaxResult&&(a=g.preFilterAjaxResult(g,a,k,m));this.self.runningXhr=void 0;a.values?0==
a.values.length&&this.searching?this.self._saveSearchEmpty(a.error,!0,this.tag,this.searchTerm):(this.self._saveItems({values:a.values,tag:this.tag,searchTerm:this.searchTerm}),this.searching&&this.searchTerm!=this.self.search_field.val()?this.self.search_field.trigger("change"):this.self._showItems(this.tag)):a.error?this.self._ajaxFailed(a.error,!0,this.tag):this.self._ajaxFailed("bad response from server",!0,this.tag)},error:function(a,e){this.self._ajaxFailed("http error:"+e+";url:"+p,!0,this.tag)}});
this.runningXhr.searchTerm=m}},_ajaxFailed:function(a,g,f){var h=this.options;this.runningXhr=void 0;e.isFunction(h.ajaxFailed)&&this._trigger("ajaxFailed",null,a);e.ui.datapicker.prototype._failed.apply(this,arguments)},setAjaxExtraParams:function(a){this.options.ajaxExtraParams=a},destroy:function(){e.ui.datapicker.prototype.destroy.apply(this,arguments);this.element.unbind(".ajaxpicker").removeData("ajaxpicker");return this}}))})(jQuery);
(function(e){function f(a,e,f){a=Math.floor(a*f);e=Math.floor(e*f);return a+"x"+e}e.widget("ui.fontpicker",e.extend({},e.ui.ajaxpicker.prototype,{options:{ajaxCategory:"fonts",fontFailed:function(a){},origValue:"font",autoclose:!0,cacheAjaxResults:!0,webp:!1,ui:{header:"Select Font",topPanel:{show:!0},rightPanel:{containerClass:"fonts_div",pagination:{itemsPerPage:10,pageLinks:5}}},showPreviousTag:!1,initialTag:"cool"},_create:function(){this.options=e.extend(!0,{},e.ui.ajaxpicker.prototype.options,
this.options);e.ui.ajaxpicker.prototype._create.apply(this,arguments)},_buildItem:function(a,g,f){f=e('<div dp_value="'+a+'" title="'+a+'"></div>').appendTo(f);var h=this._escapedValue(a),k=e("<img class='ft-font-image' width='330' height='75' >").appendTo(f);k.on("error",{self:this,div:f,value:a,escapedVal:h,tag:g},function(a){e(this).off("load.datapicker error");a.data.div.trigger("item_ready")});k.on("load.datapicker",{div:f},function(a){e(this).off("load.datapicker");a.data.div.trigger("item_ready")});
return f},_loadItem:function(a){var g=a.attr("dp_value");g=this._escapedValue(g);var h=this.options.webp?".webp":".png";e("img",a).attr("src","https://cdn1.ftimg.com/fonts/preview/"+f(330,75,this.options.pixelRatio)+"/"+g+h)},_ajaxFailed:function(a,g,f){e.isFunction(this.options.fontFailed)&&this._trigger("fontFailed",null,a);e.ui.datapicker.prototype._failed.apply(this,arguments)},destroy:function(){e.ui.ajaxpicker.prototype.destroy.apply(this,arguments);this.element.unbind(".fontpicker").removeData("fontpicker");
return this}}));e.widget("ui.patternpicker",e.extend({},e.ui.ajaxpicker.prototype,{options:{tags:{alphabetical:{enabled:!1}},ajaxCategory:"patterns",patternFailed:function(a){},origValue:"pattern",autoclose:!0,cacheAjaxResults:!0,webp:!1,ui:{header:"Select Pattern",rightPanel:{containerClass:"patterns_div",pagination:{itemsPerPage:30,pageLinks:5}}},showPreviousTag:!1,initialTag:"standard"},_create:function(){this.options=e.extend(!0,{},e.ui.ajaxpicker.prototype.options,this.options);e.ui.ajaxpicker.prototype._create.apply(this,
arguments)},_buildItem:function(a,g,f){f=e('<div dp_value="'+a+'" title="'+a+'"></div>').appendTo(f);var h=this._escapedValue(a),k=e("<img class='checkered' width='100' height='40' >").appendTo(f);k.on("error",{self:this,div:f,value:a,escapedVal:h,tag:g},function(a){e(this).off("load.datapicker error");a.data.div.trigger("item_ready")});k.on("load.datapicker",{div:f},function(a){e(this).off("load.datapicker");a.data.div.trigger("item_ready")});return f},_loadItem:function(a){var g=a.attr("dp_value");
g=this._escapedValue(g);e("img",a).attr("src","https://cdn1.ftimg.com/images/patterns/"+(2<=this.options.pixelRatio?"200x80":"100x40")+"/"+g+".png")},_escapedValue:function(a){if("string"!=typeof a||0==a.length)return"";var e="";for(i=0;i<a.length;i++)c=a.charAt(i),e=" "==c?e+"_":"("==c?e+"_":")"==c?e+"_":"$"==c?e+"_":"#"==c?e+"_":"?"==c?e+"_":"%%"==c?e+"_":"&"==c?e+"_":"'"==c?e+"_":"+"==c?e+"_":e+c;return e},_ajaxFailed:function(a,g,f){e.isFunction(this.options.patternFailed)&&this._trigger("patternFailed",
null,a);e.ui.datapicker.prototype._failed.apply(this,arguments)},destroy:function(){e.ui.ajaxpicker.prototype.destroy.apply(this,arguments);this.element.unbind(".patternpicker").removeData("patternpicker");return this}}));e.widget("ui.gradientpicker",e.extend({},e.ui.ajaxpicker.prototype,{options:{tags:{alphabetical:{enabled:!1}},ajaxCategory:"gradients",gradientFailed:function(a){},origValue:"gradient",autoclose:!0,cacheAjaxResults:!0,webp:!1,ui:{header:"Select Gradient",rightPanel:{containerClass:"gradients_div",
pagination:{itemsPerPage:45,pageLinks:5}}},showPreviousTag:!1,initialTag:"standard"},_create:function(){this.options=e.extend(!0,{},e.ui.ajaxpicker.prototype.options,this.options);e.ui.ajaxpicker.prototype._create.apply(this,arguments)},_buildItem:function(a,g,f){f=e('<div dp_value="'+a+'" title="'+a+'"></div>').appendTo(f);var h=this._escapedValue(a),k=e("<img class='checkered' width='100' height='20' >").appendTo(f);k.on("error",{self:this,div:f,value:a,escapedVal:h,tag:g},function(a){e(this).off("load.datapicker error");
a.data.div.trigger("item_ready")});k.on("load.datapicker",{div:f},function(a){e(this).off("load.datapicker");a.data.div.trigger("item_ready")});return f},_loadItem:function(a){var g=a.attr("dp_value");g=this._escapedValue(g);e("img",a).attr("src","https://cdn1.ftimg.com/images/gradients/"+(2<=this.options.pixelRatio?"200x40":"100x20")+"/"+g+".png")},_escapedValue:function(a){if("string"!=typeof a||0==a.length)return"";var e="";for(i=0;i<a.length;i++)c=a.charAt(i),e=" "==c?e+"_":"#"==c?e+"_":e+c;return e},
_ajaxFailed:function(a,g,f){e.isFunction(this.options.gradientFailed)&&this._trigger("gradientFailed",null,a);e.ui.datapicker.prototype._failed.apply(this,arguments)},destroy:function(){e.ui.ajaxpicker.prototype.destroy.apply(this,arguments);this.element.unbind(".gradientpicker").removeData("gradientpicker");return this}}));e.widget("ui.flagpicker",e.extend({},e.ui.ajaxpicker.prototype,{options:{tags:{alphabetical:{enabled:!1}},ajaxCategory:"flags",gradientFailed:function(a){},origValue:"flag",autoclose:!0,
cacheAjaxResults:!0,webp:!1,ui:{header:"Select Flag",leftPanel:{show:!1},rightPanel:{containerClass:"flags_div",pagination:{itemsPerPage:32,pageLinks:5}}},showPreviousTag:!1,initialTag:"standard"},_create:function(){this.options=e.extend(!0,{},e.ui.ajaxpicker.prototype.options,this.options);e.ui.ajaxpicker.prototype._create.apply(this,arguments)},_buildItem:function(a,g,f){f=e('<div dp_value="'+a+'" title="'+a+'"></div>').appendTo(f);var h=this._escapedValue(a),k=e("<img class='ft-flag-image' width='100' height='50' >").appendTo(f);
k.on("error",{self:this,div:f,value:a,escapedVal:h,tag:g},function(a){e(this).off("load.datapicker error");a.data.div.trigger("item_ready")});k.on("load.datapicker",{div:f},function(a){e(this).off("load.datapicker");a.data.div.trigger("item_ready")});return f},_loadItem:function(a){var g=a.attr("dp_value");g=this._escapedValue(g);e("img",a).attr("src","https://cdn1.ftimg.com/clipart/flags/gen/"+g+"-"+(2<=this.options.pixelRatio?"medium":"small")+".gif");e("img",a).attr("src","https://cdn1.ftimg.com/clipart/flags/gen/"+
g+"-"+(2<=this.options.pixelRatio?"medium":"small")+".gif")},_escapedValue:function(a){if("string"!=typeof a||0==a.length)return"";var e="";for(i=0;i<a.length;i++)c=a.charAt(i),e=" "==c?e+"_":e+c;return e},_ajaxFailed:function(a,g,f){e.isFunction(this.options.gradientFailed)&&this._trigger("flagFailed",null,a);e.ui.datapicker.prototype._failed.apply(this,arguments)},destroy:function(){e.ui.ajaxpicker.prototype.destroy.apply(this,arguments);this.element.unbind(".flagpicker").removeData("flagpicker");
return this}}));e.widget("ui.symbolpicker",e.extend({},e.ui.datapicker.prototype,{options:{tags:{names:{type:"list",values:[{name:"popular",title:"Popular"},{name:"accents",title:"Accents"},{name:"arrows",title:"Arrows"},{name:"business",title:"Business"},{name:"currency",title:"Currency"},{name:"faith",title:"Faith"},{name:"games",title:"Games"},{name:"math",title:"Math"},{name:"shapes",title:"Shapes"},{name:"stars",title:"Stars"},{name:"other",title:"Other"}],showInLeftPanel:!0},alphabetical:{enabled:!1}},
ui:{header:"Select Symbol",topPanel:{show:!0,showAlphabet:!1},rightPanel:{containerClass:"symbol_div",pagination:{itemsPerPage:48}}}},_create:function(){this.options=e.extend(!0,{},e.ui.datapicker.prototype.options,this.options);e.ui.datapicker.prototype._create.apply(this,arguments);this.symbolLib=new unicodeSymbolLibrary},_getData:function(a){var g=this.options,f=a.attr("tagname"),l=g.ui.leftPanel.specialTags.search.tagname==f&&""!=this.search_field.val();if(g.ui.leftPanel.specialTags.search.tagname==
f&&""==this.search_field.val())this._showSearchHint(a),this.search_field.focus(),this.preview.hasClass("ui_simple")&&!e("html").hasClass("opera-mini")&&this.top_panel_search.addClass("active");else if(l||!e.ui.datapicker.prototype._getData.apply(this,arguments)){var k=f;f=null;l&&(k=g.ui.topPanel.search.searchAll?"all":this.previousTag.attr("tagname"),f=this.search_field.val());g=this.symbolLib.search(k,f);0==g.length&&l?this._saveSearchEmpty("no results",!0,a,f):(this._saveItems({values:g,tag:a,
searchTerm:f?f:""}),this._showItems(a))}},_buildItem:function(a,g,f){g=this._escapedValue(a);return e('<div dp_value="'+g+'" title="'+a.names[0]+'"></div>').appendTo(f)},_loadItem:function(a){var e=a.attr("dp_value");a.html(e);a.trigger("item_ready")},_escapedValue:function(a){return"undefined"==e.type(a)?a:"string"==e.type(a)?a:a.unicode},destroy:function(){e.ui.datapicker.prototype.destroy.apply(this,arguments);this.element.unbind(".symbolpicker").removeData("symbolpicker");return this}}))})(jQuery);
(function(e){e.widget("ui.logopicker",e.extend({},e.ui.ajaxpicker.prototype,{options:{tags:{alphabetical:{enabled:!1}},ajaxCategory:"logos",logoFailed:function(e){},origValue:"logo",autoclose:!0,cacheAjaxResults:!0,getLogoEntry:function(e){return logoEntries[e]},ui:{header:"Select Logo",topPanel:{show:!0,showAlphabet:!1},rightPanel:{containerClass:"logos_div",pagination:{pageLinks:5}}},showPreviousTag:!1,initialTag:"Featured",fontname:void 0,text:void 0,defaultText:void 0,thumberUrl:void 0,blacklist:[]},
_create:function(){this.options=e.extend(!0,{},e.ui.ajaxpicker.prototype.options,this.options);e.ui.ajaxpicker.prototype._create.apply(this,arguments)},_saveItems:function(f){for(var a=[],g=0;g<f.values.length;g++)this._isBlacklisted(f.values[g])||a.push(f.values[g]);f.values=a;e.ui.datapicker.prototype._saveItems.apply(this,arguments)},_buildItem:function(f,a,g){var h=this.options.getLogoEntry(f);g=e('<div dp_value="'+f+'" title="'+f+'"></div>').appendTo(g);h&&e("<p class='logo_div_text'>"+(h.title?
h.title:"&nbsp;")+"</p>").appendTo(g);var l=this._escapedValue(f);e("<img class='dp_loading_img' src='"+this.options.ui.loadingImgSrc+"'>").appendTo(g);var k=e("<img class='dp_logo_img'/>").css({width:"",height:""}).appendTo(g);k.one("load.dp",{self:this,div:g,logo:h,dp_value:f,tag:a},function(a){e(this).attr("logo_loaded","true");var g=a.data.div;g.children().remove(".logo_div_text, .dp_loading_img");(a=a.data.logo)&&a.title&&g.attr("title",a.title);a&&a.extraClasses&&g.addClass(a.extraClasses);
g.trigger("item_ready")});k.on("error",{self:this,div:g,value:f,escapedVal:l,tag:a},function(a){e(this).off("load.datapicker error");a.data.div.trigger("item_ready")});return g},_isBlacklisted:function(e){for(key in this.options.blacklist)if(this.options.blacklist[key]==e)return!0;return!1},_loadItem:function(f){var a=f.attr("dp_value");if(a){var g=this.options,h=e("img",f);if("function"===typeof g.overrideThumbUrl){var l=g.overrideThumbUrl(g,a);if(l){h.attr({src:l});return}}l=this._escapedValue(a);
if(g.text||g.defaultText||g.fontname||!g.thumberUrl){a=g.getLogoEntry(a);f={self:this,img:h,div:f,logo:a,tag:this.selectedTag};a=h="";if(g.text||g.defaultText)h="&text=",g.text&&(a="string"==typeof g.tsvnext?g.text:g.text.val()),a=a||g.defaultText,h+=encodeURIComponent(a);a="";g.fontname&&(a="&fontname="+encodeURIComponent(g.fontname));g=g.ajaxHost+"/net-fu/image_output.cgi?script="+encodeURIComponent(l)+h+a+"&imageoutput=true";e.ajax({url:g,async:!0,context:f,cache:!1,dataType:"json",success:function(a){a.src?
this.img.attr({src:a.src}):a.error?(this.div.remove(),this.self._ajaxFailed("failed to load image:"+a.error,!1,this.tag)):(this.div.remove(),this.self._ajaxFailed("bad response from server",!1,this.tag))},error:function(a,e){this.div.remove();this.self._ajaxFailed("http error:"+e,!1,this.tag)}})}else l=g.thumberUrl+"/images/logos/"+(2==this.options.pixelRatio?"s326x200":"s163x100")+"/en_US/"+l+".png",h.attr({src:l})}},_escapedValue:function(e){if("string"!=typeof e||0==e.length)return"";var a="";
for(i=0;i<e.length;i++)c=e.charAt(i),a=" "==c?a+"_":a+c;return a},_ajaxFailed:function(f,a,g){e.isFunction(this.options.logoFailed)&&this._trigger("logoFailed",null,f);e.ui.datapicker.prototype._failed.apply(this,arguments)},destroy:function(){e.ui.ajaxpicker.prototype.destroy.apply(this,arguments);this.element.unbind(".logopicker").removeData("logopicker");return this}}))})(jQuery);
$(document).ready(function(){$.fn.visible=function(e,f){var a=$(this).eq(0),g=a.get(0),h=$(window),l=h.scrollTop();h=l+h.height();var k=a.offset().top;a=k+a.height();return!!(!0===f?g.offsetWidth*g.offsetHeight:1)&&(!0===e?k:a)<=h&&(!0===e?a:k)>=l}});
function showTooltip(e,f,a){if(f.is(":visible")){var g=$(".ft-tooltip").first();0===g.length&&(g=$("<div class='ft-tooltip fade-in'><i class='ft-tooltip-close-btn'>\u00d7</i><div class='ft-tooltip-msg'></div></div>").appendTo("body"));var h=$html.hasClass("has-csstransforms")&&!/(AppleWebKit)/i.test(ua);h&&g.addClass("transforms");g.addClass("no-anim").removeClass("faded-in");var l=g.find(".ft-tooltip-close-btn");$(document).off("click.ft-tooltip");l.off("click.ft-tooltip");g.find(".ft-tooltip-msg").html(e);
var k=g[0].style;e=f.offset().left;var m=f.offset().top,p=0;k.top="0px";k.left="0px";var u=$(window).width();window.innerWidth&&(u=Math.max(u,window.innerWidth));u-=e;var B=g.outerWidth();u<B?(p=-(B-u),-1*p>B/2?g.addClass("ft-tooltip-arrow-right"):36<-1*p&&g.addClass("ft-tooltip-arrow-middle")):g.removeClass("ft-tooltip-arrow-right ft-tooltip-arrow-middle");var C=m-g.innerHeight()-12;C<$(window).scrollTop()?(C=m+f.innerHeight()+12,g.addClass("ft-tooltip-arrow-top")):g.removeClass("ft-tooltip-arrow-top");
u=C+-10;e=parseInt(e)+p;k.zIndex="2000";k.top=u+"px";k.left=e+"px";h&&(k.OTransform="",k.webkitTransform="",k.MozTransform="",k.msTransform="",k.transform="");setTimeout(function(){g.hasClass("ft-tooltip-arrow-top")||(C=m-g.innerHeight()-12);if(!$(g).visible()){var a=C;g.hasClass("ft-tooltip-arrow-top")&&(a=C-f.innerHeight()-12);window.scrollTo(0,a)}g.removeClass("no-anim");h?(k.OTransform="translate3d(0,10px,0)",k.webkitTransform="translate3d(0,10px,0)",k.MozTransform="translate3d(0,10px,0)",k.msTransform=
"translate3d(0,10px,0)",k.transform="translate3d(0,10px,0)"):k.top=C+"px";g.addClass("faded-in")},50);l.on("click.ft-tooltip",function(e){e.stopPropagation();g.removeClass("faded-in");k.zIndex="";$(document).off("click.ft-tooltip touchstart.ft-tooltip");l.off("click.ft-tooltip");a()});setTimeout(function(){$(document).on("click.ft-tooltip touchstart.ft-tooltip",function(a){$(a.target).parents().addBack().is(g)||l.trigger("click")});$(window).resize(function(){l.trigger("click")})},50)}}
function goSlider(e,f,a,g,h,l,k){$(document).ready(function(){setTimeout(function(){var k=$("#"+e+"-"+f),p=function(){var a=k.val();k.is(":checkbox")&&(a=k.is(":checked")?"on":"off");return a};$("#"+e+"-"+f+"Slider").slider({slide:function(e,f){k.val(mapFromSlider({val:f.value,min:a,max:g,logic:l}))},min:a,max:g,step:h,start:function(a,e){k.addClass("sliderActive")},stop:function(a,e){k.removeClass("sliderActive").change()}});$("#"+e+"-"+f+"Slider").slider("option","value",mapToSlider({val:p(),min:a,
max:g,logic:l}));k.change(function(h){$("#"+e+"-"+f+"Slider").slider("option","value",mapToSlider({val:p(),min:a,max:g,logic:l}))});k.keyup(function(h){setTimeout(function(){$("#"+e+"-"+f+"Slider").slider("option","value",mapToSlider({val:p(),min:a,max:g,logic:l}))},50)})},k)})}
var isPremiumTriggered=function(e,f,a){switch(e){case "ge":e=a>=f;break;case "le":e=a<=f;break;case "gt":e=a>f;break;case "lt":e=a<f;break;case "eq":e=a==f;break;default:e=a!=f}return e},isPremiumValSet=function(e,f){switch(e){case "toggle":return"boolean"===typeof f;default:return"number"===typeof f&&-1!=f}},handlePremium=function(e,f,a,g,h,l){if(!$("#"+e).closest(".formEntry").hasClass("hidden"))if(l)h&&"null"!=h||$("#"+e).closest(".formEntry").remove();else{var k=isPremiumValSet(a,g),m=k?g:f;$("#"+
e).closest(".formEntry").find(".clear").before('<div class="ftPremiumLabel" title="'+premiumFeatureString+'"><span>'+premiumString+"</span></div>");$("#"+e).closest(".formEntry").find(".ftPremiumLabel").on("click",function(){switch(a){case "toggle":$("#"+e).prop("checked",f).change();var g=f?"on":"off";$("#"+e).siblings(".ft-onoff-switch-wrapper").removeClass("on off").addClass(g);break;default:$("#"+e).val(f).change()}if($("html").hasClass("has-localStorage")&&"true"!==localStorage.getItem("ft-dynamic-displayingPremiumTooltip")&&
"true"!==localStorage.getItem("ft-dynamic-seenPremiumTooltip"))try{localStorage.setItem("ft-dynamic-seenPremiumTooltip",!0)}catch(u){return!1}});g=function(){var g=!1;switch(a){case "toggle":g=isPremiumTriggered(h,m,$("#"+e).prop("checked"));break;default:g=isPremiumTriggered(h,m,$("#"+e).val())}var f=$("#"+e).closest(".ftPremium"),l=$("#"+e).closest(".formEntry").find(".ftPremiumLabel");if(g){if(f.addClass("ftPremiumActive"),k&&"toggle"!=a&&(l.removeClass("hidden"),f.removeClass("bgDisabled")),!premiumLogin&&
($(".ft-create-logo-btn").attr("title","Click here to create your premium logo").val(premiumString).html('<span style="float:left;">'+createLogoString+'<span class="icon icon-arrow-right2"></span><span class="ft-btn-premium-label">('+premiumString+")</span></span>").parent(".ft-btn-border-mask").addClass("premiumText"),$("html").hasClass("has-localStorage")&&"true"!==localStorage.getItem("ft-dynamic-displayingPremiumTooltip")&&"true"!==localStorage.getItem("ft-dynamic-seenPremiumTooltip")))try{var C=
$("<strong>Your logo turned premium</strong>! <br><span>To make your logo <strong>free</strong> again, <br>click the glowing stars.</span> <br><a target='_blank' href='/Store/premium'>Find out more</a>");localStorage.setItem("ft-dynamic-displayingPremiumTooltip",!0);showTooltip(C,l,function(){"true"===localStorage.getItem("ft-dynamic-displayingPremiumTooltip")&&(localStorage.setItem("ft-dynamic-seenPremiumTooltip",!0),localStorage.removeItem("ft-dynamic-displayingPremiumTooltip"))})}catch(G){return!1}}else f.removeClass("ftPremiumActive"),
$(".ftPremiumActive").length||$(".ft-create-logo-btn").attr("title","Click here to create your logo").val(createLogoString).html(createLogoString+'<span class="icon icon-arrow-right2"></span>').parent(".ft-btn-border-mask").removeClass("premiumText"),k&&"toggle"!=a&&(l.addClass("hidden"),f.addClass("bgDisabled")),!premiumLogin&&$("html").hasClass("has-localStorage")&&"true"===localStorage.getItem("ft-dynamic-displayingPremiumTooltip")&&(localStorage.removeItem("ft-dynamic-displayingPremiumTooltip"),
$(".ft-tooltip").first().find(".ft-tooltip-close-btn").click())};g();$("#"+e).change(g)}};
function handleFontPopup(e){$(document).ready(function(){var f="#"+e.formId+"-"+e.formParam;$("<div id='"+e.formId+"-"+e.formParam+"-placeholder'></div>").insertAfter($(f).parent(".formEntryValue"));fnQ.push(function(){$(f+"-placeholder").fontpicker({ajaxHost:"//"+e.httpHost,controlElement:$(f).siblings(".fontImage"),tags:{names:{type:"list",values:fontCategories}},origValue:$(f).val(),initialTag:$(f+"_tagname").val(),init:function(a,g){a=$(f).val();$(f+"Image").remove();$(f).siblings(".fontImage").css("background-image",
'url("https://cdn1.ftimg.com/fonts/preview/'+e.previewDir+"/"+g.escapeFn(a)+'.png")')},select:function(a,g){$(f).val(g.selected.value).trigger("change");$(f+"_tagname").val(g.selected.tagname);$(f).siblings(".fontImage").css("background-image",'url("https://cdn1.ftimg.com/fonts/preview/'+e.previewDir+"/"+g.selected.escapedValue+'.png")')},cancel:function(a,g){$(f).val(g.original.value).trigger("change");$(f+"_tagname").val(g.original.tagname);$(f).siblings(".fontImage").css("background-image",'url("https://cdn1.ftimg.com/fonts/preview/'+
e.previewDir+"/"+g.original.escapedValue+'.png")')},open:function(a,e){$(f).closest(".formEntryValue").parent().addClass("datapicker_opened")},close:function(a,e){$(f).closest(".formEntryValue").parent().removeClass("datapicker_opened")},pixelRatio:e.pixelRatio,mode:"popup"})})})}
function goShadowType(){function e(a,e){a?$(e).show():$(e).hide()}function f(a){e("1"==a,"#shadowXOffsetDiv,#shadowYOffsetDiv,#shadowBlurDiv,#shadowColorDiv,#shadowOpacityDiv");e("2"==a,"#reflectOpacityDiv,#reflectTiltXDiv,#reflectPercentDiv,#reflectScaleYPercentDiv,#reflectXOffsetDiv,#reflectYOffsetDiv");e("3"==a,"#shadowGlowColorDiv,#shadowGlowSizeDiv,#shadowGlowFeatherDiv");e("4"==a,"#shadowNormalColorDiv,#shadowNormalFeatherDiv,#shadowNormalOpacityDiv,#shadowNormalTiltXDiv,#shadowNormalScaleYPercentDiv,#shadowNormalXOffsetDiv,#shadowNormalYOffsetDiv");
e("5"==a,"#shadowSelfXOffsetDiv,#shadowSelfYOffsetDiv,#shadowSelfBlurDiv,#shadowSelfOpacityDiv")}$('[name="shadowType"]').change(function(){var a=$('[name="shadowType"]:checked').val();f(a)});$('[name="shadowType"]').keypress(function(){var a=$('[name="shadowType"]:checked').val();f(a)});var a=$('[name="shadowType"]:checked').val();f(a)}
var setAutoSize=function(e){$(this).closest(".box_inner").find('[type="checkbox"][name="useAutoSize"]').prop("checked",e).change()},imageWidthChanged=function(e){setAutoSize.call(this,!1)},imageHeightChanged=function(e){setAutoSize.call(this,!1)},imageAlignmentChanged=function(e){setAutoSize.call(this,!1)};
function addNewIndicator(){$(document).ready(function(){$(".box_title_link.ft_imageSizeBox").append('<img height="12" border="0" alt="New" title="New" src="https://cdn1.ftimg.com/images/carousel/red-new-icon.png" style="margin:0px 0px 0px 3px;">')})}addNewIndicator();
function handleFlagPopup(e){$(document).ready(function(){var f="#"+e.formId+"-"+e.formParam,a=$(f).val();$("<div id='"+e.formId+"-"+e.formParam+"-placeholder'></div>").insertAfter($(f).parent(".formEntryValue"));fnQ.push(function(){$(f+"-placeholder").flagpicker({ajaxHost:"//"+e.httpHost,controlElement:$(f+"Image").parent(".flagWrapper"),tags:{names:{type:"list",values:[{name:"standard",title:"Standard"}]}},origValue:a,initialTag:$(f+"_tagname").val(),init:function(e,h){$(f+"Image").attr({src:"https://cdn1.ftimg.com/clipart/flags/gen/"+
h.escapeFn(a)+"-small.gif",alt:a})},select:function(a,e){$(f).val(e.selected.escapedValue).trigger("change");$(f+"_tagname").val(e.selected.tagname);$(f+"Image").attr({src:"https://cdn1.ftimg.com/clipart/flags/gen/"+e.selected.escapedValue+"-small.gif",alt:e.selected.value})},cancel:function(a,e){$(f).val(e.original.escapedValue).trigger("change");$(f+"_tagname").val(e.original.tagname);$(f+"Image").attr({src:"https://cdn1.ftimg.com/clipart/flags/gen/"+e.original.escapedValue+"-small.gif",alt:e.original.value})},
open:function(a,e){$(f).closest(".formEntryValue").parent().addClass("datapicker_opened")},close:function(a,e){$(f).closest(".formEntryValue").parent().removeClass("datapicker_opened")},pixelRatio:e.pixelRatio,mode:"popup"})})})}var textSelections={},trackTextSelection=function(e){window.console&&console.log&&console.log("FIXME. trackTextSelection")};
function updateTextSelection(e){window.setTimeout(function(){$("#"+e).trigger("input");var f=textSelections[e];f&&0<f.length&&$("#"+e).setSelection(f.end,f.end);$("#"+e).trigger("input")},100)}
$(document).ready(function(){(520<$(window).width()||$("html").hasClass("has-touch"))&&$(".sliderWrapper").each(function(){var e=$(this).find("div"),f=e.attr("id").split("-"),a=e.attr("data-sliderMin")?parseInt(e.attr("data-sliderMin")):1,g=e.attr("data-sliderMax")?parseInt(e.attr("data-sliderMax")):100,h=e.attr("data-sliderStep")?parseFloat(e.attr("data-sliderStep")):1,l=e.attr("data-sliderLogic")?e.attr("data-sliderLogic"):"none",k=e.attr("data-frameId")?500*parseInt(e.attr("data-frameId")):0;goSlider(f[0],
f[1].replace("Slider",""),a,g,h,l,k);e.attr("data-premiumValue")&&e.attr("data-premiumTrigger")&&setTimeout(function(){var f=mapToSlider({val:parseInt(e.attr("data-premiumValue")),min:a,max:g,logic:l});e.prepend($('<div class="ftPremiumSliderOverlay" style="width: '+Math.round(100-f/(g-a)*100)+'%;"></div>'))},500)});$("html");$(".toggleValue input[type='checkbox']").each(function(){var e=$(this),f=e.attr("id").substring(0,e.attr("id").indexOf("-")),a=e.attr("id").substring(e.attr("id").indexOf("-")+
1),g=e.is(":checked")?"on":"off",h=$('<div class="ft-onoff-switch-wrapper cf '+g+'"></div>').insertAfter(e);g=$('<span class="ft-onoff-switch-label ft-onoff-switch-label-before">OFF</span>').appendTo(h);var l=$('<div id="'+f+"-"+a+'Slider" class="ft-onoff-switch"></div>').appendTo(h),k=$('<span class="ft-onoff-switch-label ft-onoff-switch-label-after">ON</span>').appendTo(h);e.hide();goSlider(f,a,0,1,1,"onOffSwitch",0);l.on("slide",function(a,g){h.toggleClass("on off");h.hasClass("on")?e.prop("checked",
!0):e.prop("checked",!1)});$.each([g,k],function(a,g){g.on("click",function(){$(this).hasClass("ft-onoff-switch-label-before")&&!$(this).hasClass("off")?(h.removeClass("on").addClass("off"),e.val("off"),e.prop("checked",!1)):$(this).hasClass("ft-onoff-switch-label-after")&&!$(this).hasClass("on")&&(h.removeClass("off").addClass("on"),e.val("on"),e.prop("checked",!0));e.trigger("change")})})});$statusImgDiv=$(".logoStatusImageDiv");$statusImg=$statusImgDiv.find(".logoStatusImage");$(".ft-create-logo-btn").on("click",
function(e){$statusImg.attr("src","https://cdn1.ftimg.com/spinner.gif");$statusImgDiv.removeClass("hide")})});var isIE6=-1!=navigator.userAgent.toLowerCase().indexOf("msie 6"),isIE7=-1!=navigator.userAgent.toLowerCase().indexOf("msie 7"),MODE_IMAGEBOT=1,APP_WEB="web",APP_CHROME="chrome",ft=ft||{};ft.dynamicForms||(ft.dynamicForms={});var manualUpdateMode=!1,isAtLeastPremiumMember=isAtLeastPremiumMember||!1,autoUpdateSize=200;
function DynamicForm(e,f,a,g,h){this.id=e;this.mode=f;this.app=a||APP_WEB;this.ftExtension=null;this.host=h;this.formChange=!0;this.proxyFormId="proxyform-"+e;(this.proxyForm=document.getElementById(this.proxyFormId))||log("proxyform not found:"+this.proxyFormId);this.valueMap={fontsize:function(a){return 200<parseInt(a)&&this.mode==MODE_IMAGEBOT?200:a},extAnim:function(a){return"gif"},ext:function(a){return"gif"==a||"jpg"==a||"svg"==a?a:"png"}};this.updateImmediately=g;this.app==APP_CHROME&&(this.host=
this.host||"https://www.flamingtext.com");this.docReady=!1;this.registerChangeEvents();this.init();ft.dynamicForms[e]=this;this.test=function(){window.alert("this is dynamicform.test()");logger.info("ftExtension");logger.info(ftExtension);ftExtension.test();logger.info("called")}}
DynamicForm.prototype.registerChangeEvents=function(){if(!isIE6){var e=function(e){var a=e.data.df;a.docReady?setTimeout(function(){a.updateHandler.checkFormChange()},100):(a.updateImmediately=!0,$(document).ready(function(){a.updateHandler.checkFormChange()}))};$("#proxyform-"+this.id).off("change",":input").on("change",":input",{df:this},e);$("#proxyform-"+this.id).off("keyup","textarea,select,input:text").on("keyup","textarea,select,input:text",{df:this},e)}};
DynamicForm.prototype.init=function(){var e=this;$(document).ready(function(){e.docReady=!0;e.updateHandler=new UpdateHandler(e);e.updateHandler.init();setupBoxes();e.mode==MODE_IMAGEBOT&&$("#"+e.id+"-changeLogo").change(function(f){ftExtension.showLogoPopup(e.id,"script="+$(this).val()+"&text="+$("#"+e.id+"-text").val())});!isIE6&&e.updateImmediately&&e.updateHandler.checkFormChange()})};
function UpdateHandler(e){var f={dynamicForm:e,id:e.id,mode:e.mode,currentHttpRequest:null,working:!1,originalImageSrc:null,logoPreviewDivId:"logoPreview-"+e.id,imageId:"logoImage-"+e.id,statusImageId:"statusImage-"+e.id,statusElement:null,errorStatusId:"errorStatus-"+e.id,imageNoteId:"logoImageNote-"+e.id,imageElement:null,maxHttpRequestTime:4E4,oldFormParams:"",currentFormParams:"",params:"",maxImageWidth:630,maxImageHeight:250,init:function(){this.statusElement=document.getElementById(this.statusImageId);
this.imageNote=$("#"+this.imageNoteId);this.fullSizePreview=!1;this.statusElement?this.hideStatus():log("unable to find status element:"+this.statusImageId);if(this.mode!=MODE_IMAGEBOT){if(this.imageElement=document.getElementById(this.imageId)){var a=this;this.imageElement.startTime=0;this.imageElement.onload=function(){if(isAtLeastPremiumMember){if(a.imageElement.naturalWidth){var e=a.imageElement.naturalWidth;var f=a.imageElement.naturalHeight}else f=new Image,f.src=a.imageElement.src,e=f.width,
f=f.height;$(".js-logo-dimensions").removeClass("hide");$(".js-logo-dimensions-width").html(e);$(".js-logo-dimensions-height").html(f)}a.imageLoaded()};this.imageElement.onerror=function(){a.imageErrored()};this.originalImageSrc=this.imageElement.src}$(".js-update-preview-btn").on("click",function(){manualUpdateMode=!1;f._getNewImage();$(".js-update-preview-div").addClass("hide")})}this.logoPreviewDiv=document.getElementById(this.logoPreviewDivId);this._initScroll()},_initScroll:function(){},updateImage:function(a,
e,f){if(this.imageElement)if(this.imageElement.startTime=(new Date).getTime(),-1<e.indexOf("-anim-logo")){e=new Image;var g=$(this.imageElement);$(e).one("load",function(){g.attr("src",a);g.css("opacity",".99");setTimeout(function(){g.css("opacity","1")},0)});e.src=a}else a.endsWith("svg")&&(this.imageElement.width=800,this.imageElement.height=200,window.open(a,"asdasd","width=200,height=200")),this.imageElement.src=a;else this.mode==MODE_IMAGEBOT&&updateFtLogo(this.id,a,e,f),this.clearStatus(),this.working=
!1,this.statusElement&&this.hideStatus()},failed:function(a,e){this.setStatus(a);this.working=!1;this.statusElement.src="https://cdn1.ftimg.com/fail.gif";this.mode==MODE_IMAGEBOT&&failFtLogo(this.id,a,e)},hideStatus:function(){$(this.statusElement).parent().addClass("hide")},imageLoaded:function(){var a=(new Date).getTime();this._scaleImage();this._updateTooltipPosition();this.clearStatus();e.updateHandler.ready()&&this.hideStatus();0!==this.imageElement.startTime&&statbot("sendAction","image_load_time",
""+a-this.imageElement.startTime)},_updateTooltipPosition:function(){var a=$(this.logoPreviewDiv).height();this.lastH||(this.lastH=a);var e=a-this.lastH;$(".ft-tooltip").first().css({top:"+="+e});this.lastH=a},_scaleImage:function(){if(!(840>window.innerWidth)){var a=$(this.imageElement);if(void 0!==a.prop("naturalWidth")){var e=a.prop("naturalWidth");a=a.prop("naturalHeight")}else a=$("<img/>").attr("src",a.attr("src")),e=a[0].width,a=a[0].height;e>$(".logoPreviewWrapper").outerWidth()||250<a?this._addFullSizeNote(!this.fullSizePreview):
(this.imageNote.html(""),this.imageNote.addClass("hide"))}},_addFullSizeNote:function(a){var e=this;var f=a?$('<div><img src="https://cdn1.ftimg.com/images/alert-yellow.png"/> Note: Preview image has been scaled. </div>'):$('<div><img src="https://cdn1.ftimg.com/images/alert-yellow.png"/> Note: Image shown at maximum preview size. </div>');var l=$('<a href="#"> Toggle preview size</a>');l.bind("click.ft",{df:e,fullsize:a},function(f){f.preventDefault();f=f.data.df;f.fullSizePreview=a;$(e.imageElement).toggleClass("fullSize");
f._scaleImage()});this.imageNote.html("");this.imageNote.append(f);this.imageNote.append(l);this.imageNote.removeClass("hide")},ready:function(){return!this.working},abortCurrentHttpRequest:function(){log("abortCurrentHttpRequest: .working=false");this.working=!1;!isIE6&&this.currentHttpRequest&&this.currentHttpRequest.abort()},setStatus:function(a){var e=document.getElementById(this.errorStatusId);e&&(a=$("<div>").text(a).html(),e.innerHTML="<small style='color:red;'>"+a+"</small>",$(e).removeClass("hide"))},
imageErrored:function(){this.setStatus("Image Errored");this.working=!1;this.statusElement.src="https://cdn1.ftimg.com/fail.gif"},clearStatus:function(){var a=document.getElementById(this.errorStatusId);a&&(a.innerHTML="",$(a).hasClass("hide")||$(a).addClass("hide"))},setWorking:function(a){if(this.working=a)this.statusElement.src="https://cdn1.ftimg.com/spinner.gif",this.mode==MODE_IMAGEBOT&&getFtLogo(this.id,this.params),this.mode!=MODE_IMAGEBOT&&$(this.statusElement).parent().removeClass("hide")},
checkFormChange:function(){return this._isImageOutdated()?(this.mode!=MODE_IMAGEBOT&&200<parseInt($("#1-fontsize").val(),e.proxyForm)?(manualUpdateMode=!0,$(".js-update-preview-div").removeClass("hide"),!isIE6&&this.currentHttpRequest&&(this.currentHttpRequest.ftAborted=!0,this.currentHttpRequest.abort()),this.clearStatus(),this.working=!1,this.statusElement&&this.hideStatus()):(manualUpdateMode=!1,$(".js-update-preview-div").addClass("hide")),this._getNewImage(),!0):!1},_isHttpRequestAvailable:function(){return!this.working||
(this.httpRequestStartTime?(new Date).getTime()-this.httpRequestStartTime:0)>=this.maxHttpRequestTime?!0:!1},_getFtHost:function(){if(e.host)return e.host;var a="https://"+document.location.hostname;80!=document.location.port&&(a+=":"+document.location.port);return a},_isImageOutdated:function(){this.currentFormParams=this._getFtHost();this.currentFormParams+="/net-fu/image_output.cgi?";this.params=buildParams(e.proxyForm,{},e.id+"-",e.valueMap);this.currentFormParams+=this.params;this.mode==MODE_IMAGEBOT&&
(this.currentFormParams+="&_dataurl=true");return this.currentFormParams!=this.oldFormParams?!0:!1},_getNewImage:function(){if(manualUpdateMode)return!1;var a=this;!isIE6&&this.currentHttpRequest&&(this.currentHttpRequest.ftAborted=!0,this.currentHttpRequest.abort());if(-1!=this.currentFormParams.indexOf("script=")){var e=(new Date).getTime();this.currentHttpRequest=$.ajax({url:a.currentFormParams,cache:!1,dataType:"json",timeout:this.maxHttpRequestTime,beforeSend:function(e){e.updateHandler=a;e.params=
a.params;e.updateHandler.setWorking(!0);e.updateHandler.clearStatus();e.updateHandler.oldFormParams=a.currentFormParams},success:function(a,f,g){f=(new Date).getTime();"undefined"!==typeof a.gimpTime?statbot("sendAction","image_gen_time",""+(f-e)):statbot("sendAction","image_oldgen_time",""+(f-e));g.updateHandler.setWorking(!1);g.updateHandler.checkFormChange()||(a.src?g.updateHandler.updateImage(a.src,g.params,a.data):a.error?g.updateHandler.failed(a.error,g.params):g.updateHandler.failed("bad response from server",
g.params))},error:function(a,e){a.ftAborted||(a.status||"timeout"===e||a.updateHandler.mode==MODE_IMAGEBOT?"timeout"===e?(statbot("sendAction","image_gen_error","timeout"),a.updateHandler.failed("Click 'Next' to continue....",a.params)):(statbot("sendAction","image_gen_error",""+e),a.updateHandler.failed("Http Status:"+a.status+":"+e,a.params)):a.updateHandler.failed("",a.params))}});this.currentHttpRequest.ftAborted=!1}}};return f}
function logProperties(e,f){for(var a=0;a<f.length;a++)element=f[a],name=element.name,value=element.value,log(e+":"+name+"="+value)}
function setupBoxes(){$(".box_title_link, .group_title").find("a").click(function(e){e.preventDefault()});$(".box_inner, .box_group").each(function(){$(this).parent().find(".box_title_link, .group_title").eq(0).hasClass("active")?$(this).show():$(this).hide()});$(".box_summary").hide();$(".box_title_link, .group_title").click(function(){var e=function(a,e){a.toggleClass("active");var f=a.hasClass("active");f?a.find("img").prop("src","https://cdn1.ftimg.com/images/minus.png"):a.find("img").prop("src",
"https://cdn1.ftimg.com/images/plus.png");e?f?a.closest(".box_title, .group_title").next().css("display","block"):a.closest(".box_title, .group_title").next().css("display","none"):a.closest(".box_title, .group_title").next().slideToggle("fast")},f=$(this).closest(".box_title_link, .group_title");e(f);var a=f.hasClass("active");if("number"==typeof($("#currentFrameId").length?parseInt($("#currentFrameId").val()):!1)){var g=f.attr("class").split(/\s+/),h=void 0;$.each(g,function(a,e){if(0==e.indexOf("ft_"))return h=
e,!1});h&&(f=$("."+h).not(f).filter(function(e){return a?!$(this).hasClass("active"):$(this).hasClass("active")}),$.each(f,function(a,f){e($(f),!0)}))}})}
function buildParams(e,f,a,g){var h="";e=$(":input",$(e)).filter(function(a){return!f[$(this).attr("name")]});$.each(e,function(e,f){e=$(f).attr("name");var k=$(f).val(),l=!0;if(e&&""!=e){if("fontnameImage"===e)return!0;a&&(e=e.replace(new RegExp(a),""));"checkbox"==$(f).prop("type")?k=$(f).prop("checked")?"on":"off":"radio"==$(f).prop("type")&&($(f).prop("checked")||(l=!1));l&&(g&&e in g&&(k=g[e](k)),h+=e+"="+encodeURIComponent(k)+"&")}});return h}
function goPicker(e,f){var a=buildParams(df.proxyForm,{},df.id+"-",df.valueMap),g="https://"+document.location.hostname;80!=document.location.port&&(g+=":"+document.location.port);g+=document.location.pathname;window.document.location=g+("?"+("_picker="+e+"&_field="+f+"&"+a))}
var sliderLogicFunction={toSlider:{none:function(e){return Number(e.val)},font1000:function(e){var f=parseInt(e.val),a=e.min;e=e.max;var g=Math.floor((e-a)/2);return"number"!=typeof f?100:f<=a?a:f>=e?e:200>f?Math.round(f/200*(g-a)):g+Math.round((f-200)/(e-200)*(e-g))},onOfSwitch:function(e){return"on"==e.val?1:0}},fromSlider:{none:function(e){return Number(e.val)},font1000:function(e){var f=parseInt(e.val),a=e.min;e=e.max;var g=Math.floor((e-a)/2);return f<g?a+Math.round((f-a)/(g-a)*200):200+Math.round((f-
g)/(e-g)*(e-200))},onOfSwitch:function(e){return e.val?"on":"off"}}},mapToSlider=function(e){return sliderLogicFunction.toSlider[e.logic](e)},mapFromSlider=function(e){return sliderLogicFunction.fromSlider[e.logic](e)};
function goSliders(){$(".adjustmentType").each(function(e,f){var a=$("<div></div>");f=$(f);var g=f.find("input");a.appendTo(f);var h=g.attr("min"),l=g.attr("max");e=g.attr("value");var k=g.attr("logic");void 0==k&&(k="none");a.slider({slide:function(a,e){g.val(mapFromSlider({val:e.value,min:h,max:l,logic:k})).change()},value:e,min:h,max:l});a.slider("option","value",mapToSlider({val:g.val(),min:h,max:l,logic:k}));a.change(function(e){a.slider("option","value",mapToSlider({val:g.val(),min:h,max:l,
logic:k}))});a.keyup(function(e){setTimeout(function(){a.slider("option","value",mapToSlider({val:g.val(),min:h,max:l,logic:k}))},50)})})}function dcf(e,f){}function cf(e,f){f="";n=document.getElementById(e);x=n.value;for(i=0;i<x.length;i++)f=" "==x.charAt(i)?f+"+":f+x.charAt(i)}
var fontUrlCache={},FontsManager=function(e){var f=[],a=0,g=$.extend({},{maxCalls:5},e);this.callCompleted=function(e){a--;f[e]=void 0;setTimeout(function(){if(a<g.maxCalls){for(var e=0;e<f.length&&"undefined"==typeof f[e];)e++;if(e<f.length)f[e]()}},10)};this.run=function(e,l){var h=function(){a++;l()};a<g.maxCalls?h():f[e]=h}};
(function(e){e.widget("ft.fontmanager",{options:{idPrepend:"font_",oldvalue:null,statusImageValue:"https://cdn1.ftimg.com/images/x.gif",loadingImg:"https://cdn1.ftimg.com/images/loading.gif",errorMessageValue:null,url:"",disabled:!1,maxHttpRequestTime:2E4,gettingNewImageLabel:"",inputs:[],conditionalInputs:{script:{banner:{colorTextR:0,colorTextG:0,colorTextB:204,sunkenText:!1,textMode:1,textBorder:0,halignText:0,valignText:0},"plain-logo":{colorTextR:0,colorTextG:0,colorTextB:204}}},getImgOnInit:!1,
defaultText:"abc",fontname:"",fontsManager:void 0},_create:function(){this._initFontManager()},_initFontManager:function(){this.statusDiv=this._initSiblingsDiv("statusDiv","fontStatusMessage");this.errorsDiv=this._initSiblingsDiv("errorsDiv","fontErrorsMessage");this.imageLoaded=!0;this.working=!1;e(this.widget()).bind("fontChanged",{self:this},function(e){e.data.self._checkFrame()});this._initInputs();this._registerChangeEvents();this._initPreviewImage()},_initInputs:function(f){var a=this;f=this.options;
this.inputs=e([]);e.each(f.inputs,function(f,h){f=e(h);f.length&&(a.inputs=a.inputs.add(f))})},_initSiblingsDiv:function(f,a){var g=e(this.element).siblings(a);g.length||(g=e('<div id="'+this.options.idPrepend+f+'" class="'+a+'"></div>'),e(this.element).closest("div").append(g));return g},_registerChangeEvents:function(){var f=this;this.fontmanagerCount=e(":ft-fontmanager").length;e.each(this.inputs,function(a,g){f._registerChangeEvent(e(g))});this.inputs.filter("select").each(function(){f._registerKeyUpEvent(e(this))})},
_registerChangeEvent:function(f){var a=this.options;f.bind("change.font.changed",{fm:this,fm_count:this.fontmanagerCount},function(f){if(a.disabled)return!1;var g=f.data.fm;if(a.fontsManager)a.fontsManager.run(f.data.fm_count,function(){e(g.widget()).trigger("fontChanged")});else{var l=parseInt(e(this).attr("delaycheck"))+100*f.data.fm_count;l||(l=100*f.data.fm_count);l?setTimeout(function(){e(g.widget()).trigger("fontChanged")},l):e(g.widget()).trigger("fontChanged")}});switch(f.prop("type")){case "textarea":case "text":this._registerKeyUpEvent(f)}},
_registerKeyUpEvent:function(f){var a=this.options;f.unbind("keyup.font.changed").bind("keyup.font.changed",{fm:this},function(f){if(a.disabled)return!1;e(this).trigger("change.font.changed")})},_initPreviewImage:function(){var f=this.options,a=this;this.previewImage=e(this.element);this.statusImage=e("#"+this.options.idPrepend+"statusImage");var g=!0;this.previewImage.length&&(this.previewImage.unbind("load error").bind({load:function(){a._imageLoaded()},error:function(){g?g=!1:a._imageErrored()}}),
f.url&&this._setUrl(f.url));this.statusImage.length&&this.statusImage.prop("src",f.statusImageValue);f.getImgOnInit&&(f.fontsManager?f.fontsManager.run(this.fontmanagerCount,function(){e(a.element).trigger("fontChanged")}):e(this.element).trigger("fontChanged"))},_imageLoaded:function(){var e=this.options;this._clearStatus();this.imageLoaded=!0;e.statusImageValue="https://cdn1.ftimg.com/images/x.gif";this.statusImage.length&&this.statusImage.prop("src",e.statusImageValue)},_clearStatus:function(){this.options.errorMessageValue=
"";this.errorsDiv.length&&this.errorsDiv.html(this.options.errorMessageValue).css({display:"none"})},_setStatus:function(e){this.options.errorMessageValue=e;this.errorsDiv.length&&this.errorsDiv.html("<font size='-1' color='red'>>>> "+this.options.errorMessageValue+"</font>").css({display:"block"})},_failed:function(e){var a=this.options;this._setStatus(e);this.imageLoaded=!0;a.statusImageValue="https://cdn1.ftimg.com/fail.gif";this.statusImage.length&&this.statusImage.prop("src",a.statusImageValue)},
_imageErrored:function(e){var a=this.options;this._setStatus("Image Errored: "+e);this.imageLoaded=!0;a.statusImageValue="https://cdn1.ftimg.com/fail.gif";this.statusImage.length&&this.statusImage.prop("src",a.statusImageValue)},_outdated:function(){var e=this._isHttpRequestAvailable(),a=this._isImageOutdated();return e&&a},_checkFrame:function(e){if(this._outdated())return this._getNewImage(e),!0;this.options.fontsManager&&!e&&this.options.fontsManager.callCompleted(this.fontmanagerCount);return!1},
_isHttpRequestAvailable:function(){var e=this.httpRequestStartTime?(new Date).getTime()-this.httpRequestStartTime:0;return!this.working||e>=this.options.maxHttpRequestTime?!0:!1},_isImageOutdated:function(){this.currentParams="/net-fu/image_output.cgi?";this.currentParams+=this._buildParams();this.currentParams+="fontname="+encodeURIComponent(this.options.fontname)+"&";this.currentParams+="imageoutput=true";return this.currentParams!=this.options.oldvalue?!0:!1},_buildParams:function(){var f=this,
a="",g=this.options.idPrepend;e.each(this.inputs,function(h,l){h=e(l).attr("name");var k=e(l).val(),m=!0;h&&""!=h&&(g&&(h=h.replace(new RegExp(g),"")),"ext"==h?k="png":"extAnim"==h?k="gif":"checkbox"==e(l).prop("type")?k=e(l).prop("checked")?"on":"off":"radio"==e(l).prop("type")&&(e(l).prop("checked")||(m=!1)),m&&"text"==h&&""==k&&(k=f.options.defaultText),a+=h+"="+encodeURIComponent(k),a+="&textBorder=0",a+="&"+f._processConditionalInputs(h,k))});return a},_processConditionalInputs:function(f,a){var g=
"";this.options.conditionalInputs[f]&&(f=this.options.conditionalInputs[f],f[a]&&e.each(f[a],function(a,e){g+=a+"="+encodeURIComponent(e)+"&"}));return g},_getNewImage:function(f){var a=this,g=this.options;this._clearStatus();g.oldvalue=this.currentParams;if(fontUrlCache[this.currentParams])this.imageLoaded=!0,this._setUrl(fontUrlCache[this.currentParams]),this.options.fontsManager&&!f&&this.options.fontsManager.callCompleted(this.fontmanagerCount);else{g.statusImageValue=g.loadingImg;this.statusImage.length&&
this.statusImage.prop("src",g.statusImageValue);var h=e.ajax({type:"get",url:this.currentParams,async:!0,beforeSend:function(e){a.imageLoaded=!1;a._setWorking(!0);a.httpRequestStartTime=(new Date).getTime()},timeout:g.maxHttpRequestTime,cache:!1,dataType:"json",success:function(e,f,g){a._setWorking(!1);a._checkFrame(!0)||(e.src?(a.options.url=e.src,fontUrlCache[a.currentParams]=a.options.url,a._setUrl(a.options.url)):e.error?a._failed(e.error):a._failed("bad response from server"))},error:function(e,
f,g){a._setWorking(!1);a._failed("error:"+f)}});!f&&g.fontsManager&&h.always(function(){g.fontsManager.callCompleted(this.fontmanagerCount)})}},_setWorking:function(e){var a=this.options;e?(this.working=!0,this.statusDiv.html(a.gettingNewImageLabel).css({display:"block"})):(this.working=!1,this.statusDiv.html("").css({display:"none"}))},_setUrl:function(e){var a=this.options;a.url=e;this.previewImage.length&&this.previewImage.attr("src",a.url)},_setOption:function(f,a){e.Widget.prototype._setOption.apply(this,
arguments);"url"==f&&this._setUrl(a)},hasError:function(){return""!=this.errorsDiv.html()?!0:!1},recheckFont:function(){this.options.oldvalue=null;this._checkFrame()}})})(jQuery);
$(document).ready(function(){$(".ft-font-controls-drop-down").show();$(".ft-font-controls").find("select").bind("change",function(){var e=$(this).val();$.cookie("fontsPp",null);var f=document.domain,a=f.indexOf("flamingtext");f=-1<a?f.substring(a):"flamingtext.com";$.cookie("fontsPp",e,{path:"/",domain:"."+f});-1==window.location.href.indexOf("Font-Search")&&$(".ft-search-field.search_field").val("");$(this).closest("form").attr("action","").submit()});$(".ft-font-specific-logo-suggestion-img").bind("load",
function(){$(this).siblings(".ft-font-specific-loadingDiv").remove()});$(".ft-font-preview-size").find("a").click(function(e){e.preventDefault()})});function dcp(e,f){window.setTimeout('cp("'+e+'","'+f+'");',50)}
function cp(e,f){n=document.getElementById(e);x=n.options[n.selectedIndex].value;if(document.images){r="";for(i=0;i<x.length;i++)c=x.charAt(i),r=" "==c?r+"_":"("==c?r+"_":")"==c?r+"_":"$"==c?r+"_":"#"==c?r+"_":"?"==c?r+"_":"%%"==c?r+"_":"&"==c?r+"_":"'"==c?r+"_":"+"==c?r+"_":r+c;e="undefined"!=typeof window.dontUseMeAskCameron?140:167;var a=28;2==pixelRatio&&(e*=2,a*=2);document.images[f].src="https://cdn1.ftimg.com/images/patterns/"+e+"x"+a+"/"+r+".png"}}
function hidden_cp(e,f){n=document.getElementById(e);x=n.value;if(document.images){r="";for(i=0;i<x.length;i++)c=x.charAt(i),r=" "==c?r+"_":"("==c?r+"_":")"==c?r+"_":"$"==c?r+"_":"#"==c?r+"_":"?"==c?r+"_":"%%"==c?r+"_":"&"==c?r+"_":"'"==c?r+"_":"+"==c?r+"_":r+c;e="undefined"!=typeof window.dontUseMeAskCameron?140:167;var a=28;2==pixelRatio&&(e*=2,a*=2);document.images[f].src="https://cdn1.ftimg.com/images/patterns/"+e+"x"+a+"/"+r+".png"}}
function dcg(e,f){window.setTimeout('cg("'+e+'","'+f+'");',50)}
function cg(e,f){n=document.getElementById(e);x=n.options[n.selectedIndex].value;if(document.images){r="";for(i=0;i<x.length;i++)c=x.charAt(i),r=" "==c?r+"_":"("==c?r+"_":")"==c?r+"_":"$"==c?r+"_":"#"==c?r+"_":"?"==c?r+"_":"%%"==c?r+"_":"&"==c?r+"_":"'"==c?r+"_":"+"==c?r+"_":r+c;e="undefined"!=typeof window.dontUseMeAskCameron?140:167;var a=28;2==pixelRatio&&(e*=pixelRatio,a*=pixelRatio);document.images[f].src="https://cdn1.ftimg.com/images/gradients/"+e+"x"+a+"/"+r+".png"}}
function hidden_cg(e,f){n=document.getElementById(e);x=n.value;if(document.images){r="";for(i=0;i<x.length;i++)c=x.charAt(i),r=" "==c?r+"_":"("==c?r+"_":")"==c?r+"_":"$"==c?r+"_":"#"==c?r+"_":"?"==c?r+"_":"%%"==c?r+"_":"&"==c?r+"_":"'"==c?r+"_":"+"==c?r+"_":r+c;e="undefined"!=typeof window.dontUseMeAskCameron?140:167;var a=28;2==pixelRatio&&(e*=2,a*=2);document.images[f].src="https://cdn1.ftimg.com/images/gradients/"+e+"x"+a+"/"+r+".png"}}
function getHex2(e){d=parseInt(e);return 0>d||255<d?"00":(16>d?"0":"")+d.toString(16)}function rgb(e,f,a){return getHex2(e)+getHex2(f)+getHex2(a)}
function updateColor(e,f){var a=$("#"+e+"R").val(),g=$("#"+e+"G").val(),h=$("#"+e+"B").val();$("#"+e+"Picker div").css("background-color","rgb("+a+","+g+","+h+")");if(!f&&$("#"+e).data("colorpickerId")){var l=$("#"+$("#"+e).data("colorpickerId"));f=$(".colorpicker_rgb_r input",l).val();var k=$(".colorpicker_rgb_g input",l).val();l=$(".colorpicker_rgb_b input",l).val();var m=$("#"+e+"R").val(),p=$("#"+e+"G").val(),u=$("#"+e+"B").val();a!=m||g!=p||h!=u||a==f&&g==k&&h==l||$("#"+e).ColorPickerSetColor({r:a,
g:g,b:h})}}
function cs(e,f){var a=document.getElementById(e+"R").value,g=document.getElementById(e+"G").value,h=document.getElementById(e+"B").value,l=rgb(a,g,h);document.getElementById(e+" div").style.backgroundColor="#"+l;$(document).ready(function(){$("#"+e+"R").change(function(a,f){updateColor(e,f)});$("#"+e+"G").change(function(a,f){updateColor(e,f)});$("#"+e+"B").change(function(a,f){updateColor(e,f)});setTimeout(function(){$("#"+e).ColorPicker({color:l,onChange:function(a,f,g){$("#"+e+" div").css("backgroundColor","#"+
f);$("#"+e+"R").val(g.r).trigger("change",!0);$("#"+e+"G").val(g.g).trigger("change",!0);$("#"+e+"B").val(g.b).trigger("change",!0)},onRestore:function(a,f,g){$("#"+e+" div").css("backgroundColor","#"+f);$("#"+e+"R").val(g.r).trigger("change",!0);$("#"+e+"G").val(g.g).trigger("change",!0);$("#"+e+"B").val(g.b).trigger("change",!0)}})},1E3*f)})}
function cs2(e,f){var a=document.getElementById(e).value;$("#"+e+"Picker div").css("backgroundColor","#"+a);$(document).ready(function(){$("#"+e).change(function(a,f){updateColor(e,f)});setTimeout(function(){$("#"+e+"Picker").ColorPicker({color:a,onChange:function(a,f,l){$("#"+e+"Picker div").css("backgroundColor","#"+f);$("#"+e).val("#"+f).trigger("change",!0)},onRestore:function(a,f,l){$("#"+e+"Picker div").css("backgroundColor","#"+f);$("#"+e).val("#"+f).trigger("change",!0)}})},1E3*f)})}
function cs3(e,f){var a=document.getElementById(e).value;$("#"+e+"Picker div").css("backgroundColor","#"+a);$(document).ready(function(){var g=$("#"+e),h=$("#"+e+"Picker"),l=h.find("div"),k=!1,m="#"+a,p=$("html").hasClass("has-touch")&&1200>$(window).width(),u=function(a){a=a.toHexString(!0);l.css("backgroundColor",a);g.val(a).trigger("change",!0)};setTimeout(function(){h.spectrum({color:m,chooseText:"Okay",showInput:!0,clickoutFiresChange:!0,preferredFormat:"hex6",change:function(a){u(a)},move:function(a){p?
(m=a,k?(a=a.toHexString(!0),l.css("backgroundColor",a)):($(document).one("touchend",function(a){u(m);k=!1}),k=!0)):u(a)}})},1E3*f)})}var animator,imagebot=imagebot||void 0,$html=$("html");
imagebot||1==animator||$(document).ready(function(){function e(a){l.addClass("hide");$(".logo_tab").removeClass("selected");a.addClass("selected");$("#"+a.attr("rel")).removeClass("hide");(new Date).getTime()>h+3E4&&(h=(new Date).getTime(),window.googletag&&googletag.pubads&&googletag.pubads().refresh())}function f(a,f){e(a);a=a.attr("data-tab");f="";k&&(k=!1,f="&_action=firsttab");(new Image).src="/Ajax/action/net-fu/dynamic.cgi?_action="+a+f+"&_="+Math.floor(1E5*Math.random())}function a(a,e){return/touch/.test(a.type)?
(a.originalEvent||a).changedTouches[0]["page"+e]:a["page"+e]}function g(){u=!0;setTimeout(function(){u=!1},500)}var h=0,l=$(".box_outer:not(.preload-box)").addClass("hide");$.each(l,function(a,e){var f="zxczxc-"+a;$(e).attr("id",f).addClass("logo_tab_content");0<a&&$(e).addClass("hide");a=$(e).attr("rel").replace("Box","tab").replace("imageSize","image");e=$(e).find("div div a");0<e.length&&$("<li rel='"+f+"' data-tab='"+a+"' class='logo_tab'>"+$(e[0]).text()+"</li>").appendTo(".logo_tabs")});var k=
!0,m,p,u;$(".logo_tab").on("touchstart",function(e){m=a(e,"X");p=a(e,"Y")}).on("touchend",function(e){20>Math.abs(a(e,"X")-m)&&20>Math.abs(a(e,"Y")-p)&&(e.preventDefault(),f($(this),e));g()}).on("click",function(a){u||f($(this),a);a.preventDefault()});$(".preload-box.box_outer").remove();l.addClass("hide").removeClass("preload");$(".box_title").addClass("hide");var B=$(".ft-wizard-statusbar");if(0===B.length){$(".logo_tab:selected").removeClass("selected");var C=$(".logo_tab").first();C.addClass("selected");
$("#"+C.attr("rel")).removeClass("hide")}else{C=$("#wizard-text-btn");var G=$("#wizard-customize-btn"),N=function(a){if(a.hasClass("selected"))return!1;B.find(".selected").attr("title",B.find(".selected").data("title")).removeClass("selected");a.addClass("selected");var e=a.attr("title");a.data("title",e).removeAttr("title");$(".formEntryName.highlight").removeClass("highlight");return!0};$("#wizard-done-btn").one("click",function(){N($(this))&&($(this).html("wait.."),$(".ft-create-logo-btn").click())});
C.on("click",function(){N($(this))&&e($(".logo_tab").first())});G.on("click",function(){if(N($(this))){var a=$(".logo_tab:nth-child(2)");a.hasClass("selected")||e($(".logo_tab:nth-child(2)"));if(localStorage&&"true"!==localStorage.getItem("ft-dynamic-seenCustomizeTooltip")){var f="Change the logo's color and appearance here.";2<$(".logo_tabs").children().length&&(f+="</br>Explore the next tabs (Shadow, Background, Image) for more options.");showTooltip(f,a,function(){try{localStorage.setItem("ft-dynamic-seenCustomizeTooltip",
!0)}catch(ca){return!1}})}}});B.find(".selected").removeClass("selected");"#customize"===window.location.hash?G.click():C.click();$(".logo_tab").on("click",function(){0<$(this).index()&&N(G)})}});
(function(e,f){function a(a){return"string"===typeof a}function g(a){var e=p.call(arguments,1);return function(){return a.apply(this,e.concat(p.call(arguments)))}}function h(g,h,k,l,p){if(l!==m){h=k.match(g?/^([^#]*)#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/);k=h[3]||"";if(2===p&&a(l))l=l.replace(g?oa:W,"");else{var M=G(h[2]);l=a(l)?G[g?"fragment":"querystring"](l):l;l=2===p?l:1===p?e.extend({},l,M):e.extend({},M,l);l=B(l);g&&(l=l.replace(X,u))}g=h[1]+(g?"#":l||!h[1]?"?":"")+l+k}else g=h(k!==m?k:f.location.href);
return g}function l(e,f,g){f===m||"boolean"===typeof f?(g=f,f=B[e?"fragment":"querystring"]()):f=a(f)?f.replace(e?oa:W,""):f;return G(f,g)}function k(f,g,h,k){a(h)||"object"===typeof h||(k=h,h=g,g=m);return this.each(function(){var a=e(this),l=g||fa()[(this.nodeName||"").toLowerCase()]||"",m=l&&a.attr(l)||"";a.attr(l,B[f](m,h,k))})}var m,p=Array.prototype.slice,u=decodeURIComponent,B=e.param,C,G,N,K=e.bbq=e.bbq||{},O,ca,P=e.event.special,W=/^.*\?|#.*$/g,oa=/^.*#/,X,ka={};B.querystring=g(h,0,function(a){return a.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,
"$1")});B.fragment=C=g(h,1,function(a){return a.replace(/^[^#]*#?(.*)$/,"$1")});C.noEscape=function(a){a=e.map((a||"").split(""),encodeURIComponent);X=new RegExp(a.join("|"),"g")};C.noEscape(",/");e.deparam=G=function(a,f){var g={},h={"true":!0,"false":!1,"null":null};e.each(a.replace(/\+/g," ").split("&"),function(a,k){var l=k.split("=");a=u(l[0]);k=g;var p=0,B=a.split("]["),C=B.length-1;/\[/.test(B[0])&&/\]$/.test(B[C])?(B[C]=B[C].replace(/\]$/,""),B=B.shift().split("[").concat(B),C=B.length-1):
C=0;if(2===l.length)if(l=u(l[1]),f&&(l=l&&!isNaN(l)?+l:"undefined"===l?m:h[l]!==m?h[l]:l),C)for(;p<=C;p++)a=""===B[p]?k.length:B[p],k=k[a]=p<C?k[a]||(B[p+1]&&isNaN(B[p+1])?{}:[]):l;else e.isArray(g[a])?g[a].push(l):g[a]=g[a]!==m?[g[a],l]:l;else a&&(g[a]=f?m:"")});return g};G.querystring=g(l,0);G.fragment=N=g(l,1);e.elemUrlAttr||(e.elemUrlAttr=function(a){return e.extend(ka,a)})({a:"href",base:"href",iframe:"src",img:"src",input:"src",form:"action",link:"href",script:"src"});var fa=e.elemUrlAttr;e.fn.querystring=
g(k,"querystring");e.fn.fragment=g(k,"fragment");K.pushState=O=function(e,g){a(e)&&/^#/.test(e)&&g===m&&(g=2);var h=e!==m;e=C(f.location.href,h?e:{},h?g:2);f.location.href=e+(/#/.test(e)?"":"#")};K.getState=ca=function(a,e){return a===m||"boolean"===typeof a?N(a):N(e)[a]};K.removeState=function(a){var f={};a!==m&&(f=ca(),e.each(e.isArray(a)?a:arguments,function(a,e){delete f[e]}));O(f,2)};P.hashchange=e.extend(P.hashchange,{add:function(a){function f(a){var e=a.fragment=C();a.getState=function(a,
f){return a===m||"boolean"===typeof a?G(e,a):G(e,f)[a]};g.apply(this,arguments)}if(e.isFunction(a)){var g=a;return f}g=a.handler;a.handler=f}})})(jQuery,this);
(function(e,f,a){function g(a){a=a||f.location.href;return a.replace(/^[^#]*#?(.*)$/,"$1")}var h=e.event.special,l=document.documentMode,k=-1<navigator.userAgent.indexOf("MSIE")&&(l===a||8>l),m="onhashchange"in f&&!k;e.hashchangeDelay=100;h.hashchange=e.extend(h.hashchange,{setup:function(){if(m)return!1;e(p.start)},teardown:function(){if(m)return!1;e(p.stop)}});var p=function(){function a(){p=K=function(a){return a};k&&(m=e('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow,
K=function(){return g(m.document.location.href)},p=function(a,e){a!==e&&(e=m.document,e.open().close(),e.location.hash="#"+a)},p(g()))}var h={},l,m,p,K;h.start=function(){if(!l){var h=g();p||a();(function P(){var a=g(),k=K(h);a!==h?(p(h=a,k),e(f).trigger("hashchange")):k!==h&&(f.location.href=f.location.href.replace(/#.*/,"")+"#"+k);l=setTimeout(P,e.hashchangeDelay)})()}};h.stop=function(){m||(l&&clearTimeout(l),l=0)};return h}()})(jQuery,this);var fontsManager;
(function(e){e(document).ready(function(){e(window).bind("hashchange",function(f){f=f.getState("q");var a=-1!=window.location.pathname.indexOf("Font-Search");a?"undefined"==typeof f&&(f=getParameters().q):f=f||"";""!=f||0==e(".ft-font-search-content").length||0!=e(".ft-font-content").length||a||window.location.reload();"undefined"!=typeof f&&e(".ft-search-field.search_field").is(":focus")});e(window).trigger("hashchange")});e.widget("ft.fontSearch",{options:{hint:{enabled:!0,hintText:"Search fonts",
hintCss:{color:"#555"}},initNumItems:0},_create:function(){this._initHint();this._initQ();this._initEvents();this.cache={};this.searchContent=e(".ft-font-search-content");0==this.searchContent.length&&(this.searchContent=e('<div class="ft-font-search-content"></div>').appendTo(e(".ft-content-column")));this.numItems=this.options.initNumItems},_initQ:function(){this.q=q=-1==window.location.pathname.indexOf("Font-Search")?void 0:getParameters().q},_initHint:function(){},_initEvents:function(){var f=
e(this.element);f.bind("change.fontSearch",{self:this},function(a){a=a.data.self;var f=a._getVal();if("undefined"==typeof a.q||a.q!=f)a.q=f,a.searchContent.empty(),""==f?a.topPagination?a.topPagination.hide():e(".ft-content-column .ft-font-filters").next(".ft-font-top-pagination").hide():a._searchFonts(f)});f.bind("keyup.fontSearch",{self:this},function(a){var f=a.data.self;f.lastTimeKeyup=(new Date).getTime();a=500;2>f._getVal().length&&(a=1E3);e("html").hasClass("mobile")&&(a*=4);var h=function(){var a=
(new Date).getTime();a=f.lastTimeKeyup+500-a;0>a?(e.bbq.pushState({q:f._getVal()}),e(f.element).trigger("change.fontSearch")):setTimeout(h,a+100)};setTimeout(h,a)});e(".ft-font-preview-small").unbind("click.ft.font").bind("click.ft.font",function(a,f){if(!e(this).hasClass("active")||f)e("#font_fontsize").val(20).trigger("change"),e(this).siblings().removeClass("active"),e(this).addClass("active"),e(".ft-font-search-result-content").css("height",36),e(".ft-font-search-result-content a > img").css("max-height",
36)});e(".ft-font-preview-medium").unbind("click.ft.font").bind("click.ft.font",function(a,f){if(!e(this).hasClass("active")||f)e("#font_fontsize").val(65).trigger("change"),e(this).siblings().removeClass("active"),e(this).addClass("active"),e(".ft-font-search-result-content").css("height",90),e(".ft-font-search-result-content a > img").css("max-height",90)});e(".ft-font-preview-large").unbind("click.ft.font").bind("click.ft.font",function(a,f){if(!e(this).hasClass("active")||f)e("#font_fontsize").val(120).trigger("change"),
e(this).siblings().removeClass("active"),e(this).addClass("active"),e(".ft-font-search-result-content").css("height",130),e(".ft-font-search-result-content a > img").css("max-height",142)});e("#font_text").bind("keyup keydown keypress",function(a){if(13==a.which)return a.stopImmediatePropagation(),!1});e(".ft-content-column").children("form").bind("submit",{self:this},function(a){if(""==a.data.self._getVal()&&""!=e(this).attr("action"))return!1})},_getVal:function(){return e(this.element).val()},
_preparePage:function(){e(".ft-content-column .font-cat-nav-wide").remove();this._prepareLeftColumn();this._prepareTopPagination();e(".ft-font-content").remove();this.searchContent.empty()},_prepareLeftColumn:function(){var f=e(".ft-left-column .ft-font-authors");f.length&&(f.remove(),f=e(".ft-content-column .font-cat-nav").not(".font-cat-nav-wide").detach(),e(".ft-left-column").append(f))},_prepareTopPagination:function(){this.topPagination=e(".ft-content-column .ft-font-filters").siblings(".ft-font-top-pagination");
this.topPagination.length&&(this.topPagination.children().not(".ft-font-preview-input,.ft-font-controls").remove(),this.topPagination.prepend('<h1 class="ft-font-search-header" style="font-size: 24px; padding: 0pt 0pt 10px;">Search results</h1>'));this.fontControls=e(".ft-font-controls",this.topPagination).hide();var f=e(".ft-pagination",this.fontControls);e("ul",f).length||(e('<ul><li><a href="">&gt;</a></li><li><a href="">&lt;</a></li></ul>').prependTo(f),f.find("span").css("position",""));e(".ft-font-preview-input",
this.topPagination).show();this.topPagination.hide()},_restoreContent:function(){e(".ft-search-content").length&&(this.searchContent=e(".ft-search-content").detach(),this.originalContent.insertAfter(e(".ft-content-column .ft-font-filters")))},_searchFonts:function(e){this._preparePage();this._doSearch(e)},_doSearch:function(f){this._showCachedResults(f)||this.ajaxRunning||(context={self:this,val:f},this.ajaxRunning=!0,e.ajax({url:"/Ajax?c=fonts&t=all&q="+encodeURIComponent(f),async:!0,context:context,
cache:!1,dataType:"json",success:function(a){this.self.ajaxRunning=!1;a.values?(this.self._saveItems(this.val,a.values),a=this.self._getVal(),a!=this.val?this.self._doSearch(a):this.self._showCachedResults(this.val)):a.error?this.self._ajaxFailed(a.error,this.val):this.self._ajaxFailed("bad response from server",this.val)},error:function(a,e){this.self.ajaxRunning=!1;this.self._ajaxFailed("http error:"+e,this.val)}}))},_showCachedResults:function(e){var a=!1;e in this.cache&&(a=!0,e=this.cache[e].items,
this.numItems=e.length,this._updateTopPanel(),this._showResults(e),this._updateBottomPanel());return a},_saveItems:function(e,a){this.cache[e]={items:a}},_ajaxFailed:function(e,a){},_updateTopPanel:function(){var f=" <span style='font-size:16px;font-weight:normal;'>("+this.numItems;f+=1==this.numItems?" match":" matches";f+=")</span>";e(".ft-font-search-header").html('"'+this._getVal()+'"'+f);this.numPerPage=parseInt(e(".ft-font-controls select option:selected").val());this.pages=Math.ceil(this.numItems/
this.numPerPage);0!=this.numItems&&(this.topPagination.show(),this._updatePagination(this.numPerPage,this.pages))},_updatePagination:function(f,a){if(1<this.pages){var g=this.fontControls.find(".ft-pagination li"),h=g.eq(1);g=g.eq(0);this.q=encodeURIComponent(this._getVal()).replace("%20","+");this.text=encodeURIComponent(e("#font_text").val()).replace("%20","+");this.fontsize=parseInt(e("#font_fontsize").val());this._rebindSelectBox(this.q,this.text,this.fontsize);h.children("a").attr("href","/Font-Search/page"+
a+"?q="+this.q+"&text="+this.text+"&fontsize="+this.fontsize+"&fontsPp="+f);g.children("a").attr("href","/Font-Search/page2?q="+this.q+"&text="+this.text+"&fontsize="+this.fontsize+"&fontsPp="+f);this.fontControls.find(".ft-pagination ul").css("visibility","")}else this.fontControls.find(".ft-pagination ul").css("visibility","hidden");this.fontControls.find(".ft-pagination span").html("Page 1 of "+a);this.fontControls.show()},_rebindSelectBox:function(f,a,g){this.fontControls.find("select").unbind("change").bind("change",
{q:f,text:a,size:g},function(a){var f=e(this).val();e.cookie("fontsPp",null);var g=document.domain,h=g.indexOf("flamingtext");g=-1<h?g.substring(h):"flamingtext.com";e.cookie("fontsPp",f,{path:"/",domain:"."+g});g=window.location.href;h=g.indexOf("/",8);a=g.substring(0,h)+"/Font-Search/page1?q="+a.data.q+"&text="+a.data.text+"&fontsize="+a.data.size+"&fontsPp="+f;window.location=a})},_showResults:function(f){var a=Math.min(this.numPerPage,f.length);fontsManager=new FontsManager;this.resultsDiv=e('<div class="ft-font-search-results"></div>').appendTo(this.searchContent);
for(var g=0;g<a;g++)this._buildItem(f[g],g);e(".ft-font-preview-size .active").trigger("click",!0);0==f.length&&e('<div class="ft-font-search-results-none"><p style="font-weight: bold; margin-bottom: 0.5em;">No fonts found for: "<span>'+this._getVal()+'</span>"</p><p>Suggestions:</p><ul><li>Use one search word. You can also search for parts of a word, for example "Di" will find "Disco font".</li><li>Search for something else.</li><li>Use the alphabetical categories to find a font.</li></ul></div>').appendTo(this.resultsDiv)},
_buildItem:function(f,a){var g=f.replace(/\+/gi," ");f=encodeURIComponent(f.replace(/ /gi,"-"));e('<div class="ft-font-search-result-item"><div class="ft-font-search-result-item-header cf"><a class="ft-font-search-result-title" title="Click to use '+g+' font" href="/Font-'+f+'">'+g+'</a></div><div class="ft-font-search-result-content-wrapper"><div class="ft-font-search-result-content"><img src="https://cdn1.ftimg.com/images/loading.gif" alt="" id="font'+a+'_statusImage" class="statusImage font_statusImage"><a href="/Font-'+
f+'"><img title="Click to use '+g+' font" alt="'+g+' font" src="" id="font'+a+'_imagePreview"></a><div class="fontStatusMessage" id="font'+a+'_statusDiv" style="display: none;"></div><div class="fontErrorsMessage" id="font'+a+'_errorsDiv" style="display: none;"></div></div></div></div>').appendTo(this.resultsDiv);setTimeout(function(){e("#font"+a+"_imagePreview").fontmanager({idPrepend:"font"+a+"_",inputs:["#font_script","#font_text","#font_fontsize"],fontname:g,defaultText:g,statusImageValue:"https://cdn1.ftimg.com/images/loading.gif",
loadingImg:"https://cdn1.ftimg.com/images/loading.gif",gettingNewImageLabel:"",getImgOnInit:!0,fontsManager:fontsManager})},50*a)},_updateBottomPanel:function(){1<this.pages&&this._buildBottomPagination(this.numPerPage,this.pages);5<this.numItems&&this._showBackToTop()},_buildBottomPagination:function(f,a){this.bottomPagination=this.searchContent.children(".ft-pagination");if(this.bottomPagination.length)this._updateBottomPagination();else{this.bottomPagination=e('<div class="ft-pagination"></div>').appendTo(this.searchContent);
var g=e('<div class="ft-pagegroup-extra"></div>').appendTo(this.bottomPagination);g=e("<ul></ul>").appendTo(g);for(var h=Math.min(a,9),l=0;l<h;l++){var k="<li"+(0==l?' class="selected"':"")+">";0!=l&&(k+='<a href="/Font-Search/page'+(l+1)+"?q="+this.q+"&text="+this.text+"&fontsize="+this.fontsize+"&fontsPp="+f+'">');k+=l+1;0!=l&&(k+="</a>");k+="</li>";e(k).appendTo(g)}h<a&&(e('<li class="more">...</li>').appendTo(g),e('<li><a href="/Font-Search/page'+a+"?q="+this.q+"&text="+this.text+"&fontsize="+
this.fontsize+"&fontsPp="+f+'">Last</a></li>').appendTo(g));this.bottomPagination.append('<div class="ft-pagegroup"><ul><li><a href="/Font-Search/page2?q='+this.q+"&text="+this.text+"&fontsize="+this.fontsize+"&fontsPp="+f+'">&gt;</a></li><li><a href="/Font-Search/page'+a+"?q="+this.q+"&text="+this.text+"&fontsize="+this.fontsize+"&fontsPp="+f+'">&lt;</a></li></ul><span>Page 1 of '+a+"</span></div>")}},_updateBottomPagination:function(){var f=this.bottomPagination.find("a"),a=this;e.each(f,function(f,
h){f=e(this).attr("href");h=f.indexOf("?q=");f=f.substring(0,h);f=f+"?q="+a.q+"&text="+a.text+"&fontsize="+a.fontsize+"&fontsPp="+a.numPerPage;e(this).attr("href",f)})},_showBackToTop:function(){this.backToTop=this.searchContent.children(".ft-back-to-top");this.backToTop.length||(this.backToTop=e('<a title="Jump to the top of the page" class="ft-back-to-top" href="#top">\u2191 Back to top</a>').appendTo(this.searchContent))}});e(document).ready(function(){var f=0!=e(".ft-font-content").length;f=!1;
var a=e(".ft-font-search"),g=a.find(".search_field");f&&g.fontSearch();if(800>e(window).width())a.find(".ft-search-field-btn").on("click",function(e){f&&(e.stopPropagation(),e.preventDefault(),a.toggleClass("active"),g.focus())})})})(jQuery);
fontCategories=[{name:"new",title:"New"},{name:"featured",title:"Featured"},{name:"popular",title:"Popular"},{name:"cool",title:"Cool"},{name:"3d",title:"3D"},{name:"celtic",title:"Celtic"},{name:"decorated",title:"Decorated"},{name:"dingbats",title:"DingBats"},{name:"display",title:"Display"},{name:"european",title:"European"},{name:"fontbats",title:"FontBats"},{name:"grunge",title:"Grunge"},{name:"handwriting",title:"Handwriting"},{name:"love",title:"Love"},{name:"monospace",title:"Monospace"},
{name:"oldenglish",title:"OldEnglish"},{name:"outline",title:"Outline"},{name:"rounded",title:"Rounded"},{name:"sans-serif",title:"Sans-serif"},{name:"script",title:"Script"},{name:"serif",title:"Serif"},{name:"standard",title:"Standard"}];
$(document).ready(function(){var e=function(e){e.hasClass("opened")?(e.html("<img src='/images/minus.png'>"+e.text()),$(e.parent().children()[1]).show()):(e.html("<img src='/images/plus.png'>"+e.text()),$(e.parent().children()[1]).hide())};$(".startGroupDiv").each(function(f,a){a=$(a);f=a.find("h3");$(f[0]).click(function(){var a=$(this);a.hasClass("opened")?(a.removeClass("opened"),a.addClass("closed")):(a.addClass("opened"),a.removeClass("closed"));e(a)});e($(f[0]))})});
(function(e){getImageCache=function(e){var a=!1,f=window.location.search.indexOf("imageCache=");if(-1!=f)return e=window.location.search.substring(f+11),a=e.indexOf("&"),-1!=a&&(e=e.substring(0,a)),"true"==e?!0:!1;f=/aurora-logo|bad-oil-logo|burnt-paper-logo|chalk-logo|chip-away-logo|chrominium-logo|colored-logo|dracula-logo|electricity-logo|feurio-logo|fire-logo|flammen-logo|flash-fire-logo|frosty-logo|gas-flame-logo|harry-potter-logo|ice-logo|ice-cube-logo|ice-fire-logo|lava-logo|liquid-water-logo|molten-logo|mosaic-logo|mud-logo|oil-spill-logo|old-photo-logo|old-stone-logo|plasma-logo|slime-logo|smokey-logo|solid-noise-logo|sound-blast-logo|star-wars-logo|starburst-logo|starscape-logo|textured-logo|warp-logo|watercolor-logo/;
e&&!e.match(f)&&(a=!0);return a};e.widget("ui.animPreset",{options:{value:"none",frameControlID:"frameControl",idPrepend:"1-frame",maxFrames:20},_create:function(){var f=this.options;this.frameControl=e("#"+f.frameControlID).frameControl();this.value=this.widget().val()||f.value;switch(this.value){case "letters":this._letters();break;case "letterSpacing":this._letterSpacing();break;case "letterRotate":this._letterRotate();break;case "shake":this._shake();break;case "shadowOpacity":this._shadowOpacity();
break;case "flashFire":this._flashFire();break;case "movingStripes":this._movingStripes();break;case "bounce":this._bounce();break;case "randomPreset":this._randomPreset();break;case "tileSizeIncrease":this._tileSizeIncrease();break;case "tileSizeDecrease":this._tileSizeDecrease();break;case "iceCube":this._iceCube();break;case "burntPaper":this._burntPaper();break;case "amazing3d":this._amazing3d()}this._initImageCache();this.frameControl.frameControl()},_initImageCache:function(){var f=e("#"+this.options.idPrepend+
"0_script").val();f=getImageCache(f);e("#1-imageCache").prop("checked",f)},_letters:function(){var f=this.options;e("#"+f.idPrepend+"0_text").paramGenerator({numFrames:"length",fn:function(a,g){a=g.val;for(var h=Math.ceil(a.length/g.frames),l=h*g.frames-a.length,k=Math.floor(g.frames/l),m=0,p=0;p<g.frames;p++){var u=h;l&&0==p%k&&(u--,l--);u=m+=u;u=u<a.length?u:a.length;e("#"+f.idPrepend+p+"_"+g.param).val(a.substring(0,u))}},maxFrames:this.options.maxFrames})},_letterSpacing:function(){var f=this.options;
e("#"+f.idPrepend+"0_letterSpacing").paramGenerator({numFrames:10,fn:function(a,g){for(a=0;a<g.frames;a++){var h=-35+5*a;e("#"+f.idPrepend+a+"_"+g.param).val(h)}},maxFrames:this.options.maxFrames})},_letterRotate:function(){var f=this.options;e("#"+f.idPrepend+"0_letterSpacing").paramGenerator({numFrames:20,fn:function(a,g){a=180/g.frames;for(var h=0;h<g.frames;h++){var l=Math.round(-80*Math.sin(Math.PI*h*a/180))+8;e("#"+f.idPrepend+h+"_"+g.param).val(l)}},maxFrames:this.options.maxFrames})},_shake:function(){},
_shadowOpacity:function(){var f=this.options;e("#"+f.idPrepend+"0_shadowOpacity").paramGenerator({numFrames:10,fn:function(a,g){a=100/g.frames;for(var h=0;h<g.frames;h++){var l=h*a;e("#"+f.idPrepend+h+"_shadowType1").trigger("click");e("#"+f.idPrepend+h+"_"+g.param).val(l)}},maxFrames:this.options.maxFrames})},_flashFire:function(){var f=this.options;e("#"+f.idPrepend+"0_spread").paramGenerator({numFrames:10,fn:function(a,g){a=9/(g.frames-1);for(var h=0;h<g.frames;h++){var l=.5+h*a;e("#"+f.idPrepend+
h+"_"+g.param).val(l)}},maxFrames:this.options.maxFrames})},_movingStripes:function(){var f=this.options,a=this;e("#"+f.idPrepend+"0_x1").paramGenerator({numFrames:4,fn:function(g,h){startX1=parseInt(e("#"+f.idPrepend+0+"_x1").val());startY1=parseInt(e("#"+f.idPrepend+0+"_y1").val());startX2=parseInt(e("#"+f.idPrepend+0+"_x2").val());startY2=parseInt(e("#"+f.idPrepend+0+"_y2").val());for(g=0;g<h.frames;g++)e("#"+f.idPrepend+g+"_gtype").val(0),e("#"+f.idPrepend+g+"_grepeat").val(2),a._setVal(h.frames,
g,"x1",startX1,2*(startX2-startX1)),a._setVal(h.frames,g,"y1",startY1,2*(startY2-startY1)),a._setVal(h.frames,g,"x2",startX2,startX2+2*(startX2-startX1)),a._setVal(h.frames,g,"y2",startY2,startY2+2*(startY2-startY1))},maxFrames:this.options.maxFrames})},_bounce:function(){},_randomPreset:function(){e("#totalFrames").val(5)},_tileSizeIncrease:function(){var f=this.options;e("#"+f.idPrepend+"0_tileSize").paramGenerator({numFrames:15,fn:function(a,g){a=Math.floor(49/g.frames);for(var h=0;h<g.frames;h++){var l=
(h+1)*a;e("#"+f.idPrepend+h+"_"+g.param).val(l);e("#"+f.idPrepend+h+"_fontsize").val(130)}},maxFrames:this.options.maxFrames})},_tileSizeDecrease:function(){var f=this.options;e("#"+f.idPrepend+"0_tileSize").paramGenerator({numFrames:15,fn:function(a,g){a=Math.floor(49/g.frames);for(var h=0;h<g.frames;h++){var l=(g.frames-h)*a;e("#"+f.idPrepend+h+"_"+g.param).val(l);e("#"+f.idPrepend+h+"_fontsize").val(130)}},maxFrames:this.options.maxFrames})},_iceCube:function(){var f=this.options;e("#"+f.idPrepend+
"0_growEffect").paramGenerator({numFrames:15,fn:function(a,g){for(a=0;12>a;a++){var h=-8+2*a;12<h&&(h=12);e("#"+f.idPrepend+a+"_"+g.param).val(h)}for(a=0;12>a;a++)h=0,6<a&&(h=a-6),e("#"+f.idPrepend+a+"_icicle").val(h);e("#"+f.idPrepend+"12_growEffect").val(2);e("#"+f.idPrepend+"12_cubeDim").val(24);e("#"+f.idPrepend+"13_growEffect").val(-3);e("#"+f.idPrepend+"13_cubeDim").val(40);e("#"+f.idPrepend+"14_growEffect").val(-9);e("#"+f.idPrepend+"14_cubeDim").val(1);for(a=0;a<g.frames;a++)e("#"+f.idPrepend+
a+"_fontsize").val(95),e("#"+f.idPrepend+a+"_fontname").val("victoriassecret").trigger("change"),11<a&&e("#"+f.idPrepend+a+"_icicle").val(5)},maxFrames:this.options.maxFrames})},_burntPaper:function(){var f=this;e("#"+this.options.idPrepend+"0_burnSize").paramGenerator({numFrames:10,fn:function(a,e){for(a=0;a<e.frames;a++)f._setVal(e.frames,a,"burnSize",0,100),f._setVal(e.frames,a,"growSelection",24,0)},maxFrames:this.options.maxFrames})},_amazing3d:function(){var f=this.options,a=this;e("#"+f.idPrepend+
"0_height").paramGenerator({numFrames:7,fn:function(g,h){for(g=0;g<h.frames;g++)a._setVal(h.frames,g,"height",60,3),a._setVal(h.frames,g,"rotation",-45,-5),a._setVal(h.frames,g,"shadowYOffset",2,20),a._setVal(h.frames,g,"colorCenterR",32,0),a._setVal(h.frames,g,"colorCenterG",65,0),a._setVal(h.frames,g,"colorCenterB",94,0),a._setVal(h.frames,g,"lineSpacing",-65,-11),e("#"+f.idPrepend+g+"_fontname_tagname").val("M").trigger("change"),e("#"+f.idPrepend+g+"_fontname").val("Mixed up").trigger("change");
e("#"+f.idPrepend+"6_msSleep").val(800)},maxFrames:this.options.maxFrames})},_setVal:function(f,a,g,h,l){var k=this.options,m=Math.floor(Math.abs(h-l)/(f-1))*a;l>h||(m=-m);val=l-m;e("#"+k.idPrepend+(f-a-1)+"_"+g).val(val).trigger("change")}});e.widget("ui.paramGenerator",{options:{param:null,numFrames:1,fn:null,values:null,totalFramesID:"totalFrames",maxFrames:20},_create:function(){this._initVars();e.isFunction(this.options.fn)&&this._trigger("fn",null,this._ui());this._populateValues()},_initVars:function(){this.param=
this.widget().attr("id").match(/_(.*)$/).pop()||this.options.param;this.totalFrames=e("#"+this.options.totalFramesID);this.value=this.widget().val();this._numFrames()},_numFrames:function(){var e=this.options.numFrames;"number"==typeof e?this.frames=e<=this.options.maxFrames?e:this.options.maxFrames:"string"==typeof e&&"length"===e&&(this.frames=this.value.length<=this.options.maxFrames?this.value.length:this.options.maxFrames);this.totalFrames.val(this.frames)},_ui:function(){return{frames:this.frames,
param:this.param,val:this.value}},_populateValues:function(){var f=this.options.values,a=this.param;null!=f&&e.isPlainObject(f)&&e.each(f,function(f,h){e("[id$="+f+"_"+a+"]").val(h)})}});e.widget("ui.animPresetController",{options:{img:'<img src="https://cdn1.ftimg.com/images/animate.png" alt="Animate" title="Animate">',animatorCgi:"/logo/animate.cgi",animPresets:{animate:{ui:"Animate",avail:!0},letters:{ui:"Type Letters",avail:!1},letterSpacing:{ui:"Moving Letters",avail:!1},letterRotate:{ui:"Rotating Letters",
avail:!1},shadowOpacity:{ui:"Shadow Opacity",avail:!1},flashFire:{ui:"Flash Fire",avail:!1},movingStripes:{ui:"Moving Stripes",avail:!1},tileSizeIncrease:{ui:"Increasing Tile Size",avail:!1},tileSizeDecrease:{ui:"Decreasing Tile Size",avail:!1},iceCube:{ui:"Ice Cube",avail:!1},burntPaper:{ui:"Burning Paper",avail:!1},amazing3d:{ui:"Turning 3D",avail:!1}},idPrefix:"1-frame0_",isPremium:!1},_create:function(){this.widget().html(e(this.options.img));this.button=this.widget().children().eq(0);this.animPresets=
this.options.animPresets;this._setContext();this._enablePresets();this._buildUI();this._handleClick()},_setContext:function(){this.context=void 0;var f=this.options.idPrefix;"_"==f.charAt(f.length-1)&&(f=f.substring(0,f.length-1));this.context=e("#"+f);this.animateMode=!0;this.context.length||(this.animateMode=!1,this.context=this.widget().closest("form"))},_buildUI:function(){this.preview=e('<div class="animPresetControllerPreview"></div>').appendTo("body");this.preview.css("left","-1000px");this.list=
e("<ul></ul>").appendTo(this.preview);var f=this,a=0;e.each(this.animPresets,function(g,h){h.avail&&(g=e('<li presetValue="'+g+'"></li>'),e('<div class="animPresetControllerTitle">'+h.ui+"</div>").appendTo(g),g.click(function(){var a=buildParams(f.context,{frame0_url:1},"frame\\d_");a=a+"animPreset="+encodeURIComponent(e(this).attr("presetValue"));"imageCache"in h&&"boolean"==typeof h.imageCache&&(a=a+"&imageCache="+(h.imageCache?"1":"0"));window.location.href=f.options.animatorCgi+"?"+a}),f.list.append(g),
a=a>g.outerWidth()?a:g.outerWidth())});this.preview.detach();this.preview.appendTo(this.widget());this.list.children().css("width",a+"px");this.preview.css("left","-"+(a-24)+"px")},_handleClick:function(){var f=!1,a=this;this.button.bind("mousedown",function(g){g.preventDefault();e(this).hasClass("down")?(e(this).removeClass("down"),a.preview.css({visibility:"hidden"})):(e(this).addClass("down"),a.preview.css({visibility:"visible"}),f=!0)}).hover(function(){f=!0}).mouseout(function(){f=!1});e(document).click(function(e){f||
(a.button.removeClass("down"),a.preview.css({visibility:"hidden"}));f=!1})},_enablePresets:function(){var f=e(":input",this.context),a=e(":hidden",this.context);this._setAvailable(this.animPresets.letters,f,"text");this._setAvailable(this.animPresets.letterSpacing,f,"letterSpacing");this._setAvailable(this.animPresets.letterRotate,f,"letterSpacing");this._setAvailable(this.animPresets.shadowOpacity,f,"shadowOpacity");this._setAvailable(this.animPresets.movingStripes,f,"x1");this.animPresets.flashFire.avail=
this._equalScript("flash-fire-logo",a);this._enablePresetRandom();this._setAvailable(this.animPresets.tileSizeIncrease,f,"tileSize");this._setAvailable(this.animPresets.tileSizeDecrease,f,"tileSize");this.animPresets.iceCube.avail=this._equalScript("ice-cube-logo",a);this.animPresets.burntPaper.avail=this._equalScript("burnt-paper-logo",a);this.animPresets.amazing3d.avail=this._equalScript("amazing-3d-logo",a)},_equalScript:function(e,a){return!(this.animateMode?a.filter("#"+this.options.idPrefix+
"script").val()!=e:a.filter("[name=script]").val()!=e)},_setAvailable:function(e,a,g){a=a.filter("#"+this.options.idPrefix+g);a.length&&(e.avail=!0,a.closest(".formEntry").hasClass("ftPremium")&&!this.options.isPremium&&(e.avail=!1))},_enablePresetRandom:function(){if("randomPreset"in this.animPresets){var f=e(":hidden",this.context);f=this.animateMode?f.filter("#"+this.options.idPrefix+"script").val():f.filter("[name=script]").val();this.animPresets.randomPreset.avail=!getImageCache(f)}}})})(jQuery);
sliderLogicFunction={toSlider:{none:function(e){return Number(e.val)},font1000:function(e){var f=parseInt(e.val),a=e.min;e=e.max;var g=Math.floor((e+a)/2);return"number"!=typeof f?(log("trouble: toSlider.val is not a number"),100):f<=a?a:f>=e?e:200>f?a+Math.round((f-a)/(400-a-a)*(e-a)):g+Math.round((f-200)/(e-200)*(e-g))},onOffSwitch:function(e){return"on"==e.val?1:0}},fromSlider:{none:function(e){return Number(e.val)},font1000:function(e){var f=parseInt(e.val),a=e.min;e=e.max;var g=Math.floor((e+
a)/2);return f<g?a+Math.round((f-a)*(400-a-a)/(e-a)):200+Math.round((f-g)/(e-g)*(e-200))},onOffSwitch:function(e){return e.val?"on":"off"}}};mapToSlider=function(e){return sliderLogicFunction.toSlider[e.logic](e)};mapFromSlider=function(e){return sliderLogicFunction.fromSlider[e.logic](e)};
(function(e){function f(a){if("string"===typeof a.data){var f=a.handler,h=a.data.toLowerCase().split(" "),l="text password number email url range date month week time datetime datetime-local search color".split(" ");a.handler=function(a){if(this===a.target||!(/textarea|select/i.test(a.target.nodeName)||-1<e.inArray(a.target.type,l))){var g="keypress"!==a.type&&e.hotkeys.specialKeys[a.which],k=String.fromCharCode(a.which).toLowerCase(),u="",B={};a.altKey&&"alt"!==g&&(u+="alt+");a.ctrlKey&&"ctrl"!==
g&&(u+="ctrl+");a.metaKey&&!a.ctrlKey&&"meta"!==g&&(u+="meta+");a.shiftKey&&"shift"!==g&&(u+="shift+");g?B[u+g]=!0:(B[u+k]=!0,B[u+e.hotkeys.shiftNums[k]]=!0,"shift+"===u&&(B[e.hotkeys.shiftNums[k]]=!0));g=0;for(k=h.length;g<k;g++)if(B[h[g]])return f.apply(this,arguments)}}}}e.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",
45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}};e.each(["keydown","keyup","keypress"],function(){e.event.special[this]=
{add:f}})})(jQuery);
(function(e,f,a,g){function h(a,e,f){return setTimeout(u(a,f),e)}function l(a,e,f){return Array.isArray(a)?(k(a,f[e],f),!0):!1}function k(a,e,f){var h;if(a)if(a.forEach)a.forEach(e,f);else if(a.length!==g)for(h=0;h<a.length;)e.call(f,a[h],h,a),h++;else for(h in a)a.hasOwnProperty(h)&&e.call(f,a[h],h,a)}function m(a,f,g){var h="DEPRECATED METHOD: "+f+"\n"+g+" AT \n";return function(){var f=Error("get-stack-trace");f=f&&f.stack?f.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,
"{anonymous}()@"):"Unknown Stack Trace";var g=e.console&&(e.console.warn||e.console.log);g&&g.call(e.console,h,f);return a.apply(this,arguments)}}function p(a,e,f){e=e.prototype;var g=a.prototype=Object.create(e);g.constructor=a;g._super=e;f&&ba(g,f)}function u(a,e){return function(){return a.apply(e,arguments)}}function B(a,e){return"function"==typeof a?a.apply(e?e[0]||g:g,e):a}function C(a,e,f){k(K(e),function(e){a.addEventListener(e,f,!1)})}function G(a,e,f){k(K(e),function(e){a.removeEventListener(e,
f,!1)})}function N(a,e){for(;a;){if(a==e)return!0;a=a.parentNode}return!1}function K(a){return a.trim().split(/\s+/g)}function O(a,e,f){if(a.indexOf&&!f)return a.indexOf(e);for(var g=0;g<a.length;){if(f&&a[g][f]==e||!f&&a[g]===e)return g;g++}return-1}function ca(a){return Array.prototype.slice.call(a,0)}function P(a,e,f){for(var g=[],h=[],w=0;w<a.length;){var k=e?a[w][e]:a[w];0>O(h,k)&&g.push(a[w]);h[w]=k;w++}f&&(g=e?g.sort(function(a,f){return a[e]>f[e]}):g.sort());return g}function W(a,e){for(var f,
h=e[0].toUpperCase()+e.slice(1),w=0;w<Ja.length;){f=(f=Ja[w])?f+h:e;if(f in a)return f;w++}return g}function oa(a){a=a.ownerDocument||a;return a.defaultView||a.parentWindow||e}function X(a,e){var f=this;this.manager=a;this.callback=e;this.element=a.element;this.target=a.options.inputTarget;this.domHandler=function(e){B(a.options.enable,[a])&&f.handler(e)};this.init()}function ka(a){var e=a.options.inputClass;return new (e?e:xa?Fa:qa?ia:Z?Q:Ba)(a,fa)}function fa(a,e,f){var h=f.pointers.length,w=f.changedPointers.length;
var k=e&1&&0===h-w;f.isFirst=!!k;f.isFinal=!!(e&12&&0===h-w);k&&(a.session={});f.eventType=e;e=a.session;h=f.pointers;w=h.length;e.firstInput||(e.firstInput=M(f));1<w&&!e.firstMultiple?e.firstMultiple=M(f):1===w&&(e.firstMultiple=!1);k=e.firstInput;var l=(w=e.firstMultiple)?w.center:k.center;var na=f.center=Ha(h);f.timeStamp=va();f.deltaTime=f.timeStamp-k.timeStamp;f.angle=Ea(l,na);f.distance=ra(l,na);k=f.center;l=e.offsetDelta||{};na=e.prevDelta||{};var ta=e.prevInput||{};if(1===f.eventType||4===
ta.eventType)na=e.prevDelta={x:ta.deltaX||0,y:ta.deltaY||0},l=e.offsetDelta={x:k.x,y:k.y};f.deltaX=na.x+(k.x-l.x);f.deltaY=na.y+(k.y-l.y);f.offsetDirection=Y(f.deltaX,f.deltaY);l=f.deltaTime;k=f.deltaX/l||0;l=f.deltaY/l||0;f.overallVelocityX=k;f.overallVelocityY=l;f.overallVelocity=ea(k)>ea(l)?k:l;w?(k=w.pointers,k=ra(h[0],h[1],H)/ra(k[0],k[1],H)):k=1;f.scale=k;w?(w=w.pointers,h=Ea(h[1],h[0],H)+Ea(w[1],w[0],H)):h=0;f.rotation=h;f.maxPointers=e.prevInput?f.pointers.length>e.prevInput.maxPointers?f.pointers.length:
e.prevInput.maxPointers:f.pointers.length;l=e.lastInterval||f;h=f.timeStamp-l.timeStamp;8!=f.eventType&&(25<h||l.velocity===g)?(k=f.deltaX-l.deltaX,l=f.deltaY-l.deltaY,na=k/h||0,ta=l/h||0,h=na,w=ta,na=ea(na)>ea(ta)?na:ta,k=Y(k,l),e.lastInterval=f):(na=l.velocity,h=l.velocityX,w=l.velocityY,k=l.direction);f.velocity=na;f.velocityX=h;f.velocityY=w;f.direction=k;e=a.element;N(f.srcEvent.target,e)&&(e=f.srcEvent.target);f.target=e;a.emit("hammer.input",f);a.recognize(f);a.session.prevInput=f}function M(a){for(var e=
[],f=0;f<a.pointers.length;)e[f]={clientX:Aa(a.pointers[f].clientX),clientY:Aa(a.pointers[f].clientY)},f++;return{timeStamp:va(),pointers:e,center:Ha(e),deltaX:a.deltaX,deltaY:a.deltaY}}function Ha(a){var e=a.length;if(1===e)return{x:Aa(a[0].clientX),y:Aa(a[0].clientY)};for(var f=0,g=0,h=0;h<e;)f+=a[h].clientX,g+=a[h].clientY,h++;return{x:Aa(f/e),y:Aa(g/e)}}function Y(a,e){return a===e?1:ea(a)>=ea(e)?0>a?2:4:0>e?8:16}function ra(a,e,f){f||(f=la);var g=e[f[0]]-a[f[0]];a=e[f[1]]-a[f[1]];return Math.sqrt(g*
g+a*a)}function Ea(a,e,f){f||(f=la);return 180*Math.atan2(e[f[1]]-a[f[1]],e[f[0]]-a[f[0]])/Math.PI}function Ba(){this.evEl=F;this.evWin=Xa;this.pressed=!1;X.apply(this,arguments)}function Fa(){this.evEl=ja;this.evWin=w;X.apply(this,arguments);this.store=this.manager.session.pointerEvents=[]}function Ia(){this.evTarget="touchstart";this.evWin="touchstart touchmove touchend touchcancel";this.started=!1;X.apply(this,arguments)}function ia(){this.evTarget=Na;this.targetIds={};X.apply(this,arguments)}
function sa(a,e){var f=ca(a.touches),g=this.targetIds;if(e&3&&1===f.length)return g[f[0].identifier]=!0,[f,f];a=ca(a.changedTouches);var h=[],w=this.target;var k=f.filter(function(a){return N(a.target,w)});if(1===e)for(f=0;f<k.length;)g[k[f].identifier]=!0,f++;for(f=0;f<a.length;)g[a[f].identifier]&&h.push(a[f]),e&12&&delete g[a[f].identifier],f++;if(h.length)return[P(k.concat(h),"identifier",!0),h]}function Q(){X.apply(this,arguments);var a=u(this.handler,this);this.touch=new ia(this.manager,a);
this.mouse=new Ba(this.manager,a);this.primaryTouch=null;this.lastTouches=[]}function T(a){a=a.changedPointers[0];if(a.identifier===this.primaryTouch){var e={x:a.clientX,y:a.clientY};this.lastTouches.push(e);var f=this.lastTouches;setTimeout(function(){var a=f.indexOf(e);-1<a&&f.splice(a,1)},2500)}}function D(a,e){this.manager=a;this.set(e)}function I(a){if(-1<a.indexOf("none"))return"none";var e=-1<a.indexOf("pan-x"),f=-1<a.indexOf("pan-y");return e&&f?"none":e||f?e?"pan-x":"pan-y":-1<a.indexOf("manipulation")?
"manipulation":"auto"}function J(a){this.options=ba({},this.defaults,a||{});this.id=wa++;this.manager=null;a=this.options.enable;this.options.enable=a===g?!0:a;this.state=1;this.simultaneous={};this.requireFail=[]}function da(a){return a&16?"cancel":a&8?"end":a&4?"move":a&2?"start":""}function Ka(a){return 16==a?"down":8==a?"up":2==a?"left":4==a?"right":""}function z(a,e){return(e=e.manager)?e.get(a):a}function R(){J.apply(this,arguments)}function pa(){R.apply(this,arguments);this.pY=this.pX=null}
function A(){R.apply(this,arguments)}function L(){J.apply(this,arguments);this._input=this._timer=null}function U(){R.apply(this,arguments)}function ha(){R.apply(this,arguments)}function y(){J.apply(this,arguments);this.pCenter=this.pTime=!1;this._input=this._timer=null;this.count=0}function S(a,e){e=e||{};var f=e.recognizers;e.recognizers=f===g?S.defaults.preset:f;return new aa(a,e)}function aa(a,e){this.options=ba({},S.defaults,e||{});this.options.inputTarget=this.options.inputTarget||a;this.handlers=
{};this.session={};this.recognizers=[];this.oldCssProps={};this.element=a;this.input=ka(this);this.touchAction=new D(this,this.options.touchAction);V(this,!0);k(this.options.recognizers,function(a){var e=this.add(new a[0](a[1]));a[2]&&e.recognizeWith(a[2]);a[3]&&e.requireFailure(a[3])},this)}function V(a,e){var f=a.element;if(f.style){var g;k(a.options.cssProps,function(h,w){g=W(f.style,w);e?(a.oldCssProps[g]=f.style[g],f.style[g]=h):f.style[g]=a.oldCssProps[g]||""});e||(a.oldCssProps={})}}function ya(a,
e){var g=f.createEvent("Event");g.initEvent(a,!0,!0);g.gesture=e;e.target.dispatchEvent(g)}var Ja=" webkit Moz MS ms o".split(" "),Oa=f.createElement("div"),Aa=Math.round,ea=Math.abs,va=Date.now;var ba="function"!==typeof Object.assign?function(a){if(a===g||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(a),f=1;f<arguments.length;f++){var h=arguments[f];if(h!==g&&null!==h)for(var w in h)h.hasOwnProperty(w)&&(e[w]=h[w])}return e}:Object.assign;var ma=m(function(a,
e,f){for(var h=Object.keys(e),w=0;w<h.length;){if(!f||f&&a[h[w]]===g)a[h[w]]=e[h[w]];w++}return a},"extend","Use `assign`."),Da=m(function(a,e){return ma(a,e,!0)},"merge","Use `assign`."),wa=1,La=/mobile|tablet|ip(ad|hone|od)|android/i,Z="ontouchstart"in e,xa=W(e,"PointerEvent")!==g,qa=Z&&La.test(navigator.userAgent),la=["x","y"],H=["clientX","clientY"];X.prototype={handler:function(){},init:function(){this.evEl&&C(this.element,this.evEl,this.domHandler);this.evTarget&&C(this.target,this.evTarget,
this.domHandler);this.evWin&&C(oa(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&G(this.element,this.evEl,this.domHandler);this.evTarget&&G(this.target,this.evTarget,this.domHandler);this.evWin&&G(oa(this.element),this.evWin,this.domHandler)}};var Ca={mousedown:1,mousemove:2,mouseup:4},F="mousedown",Xa="mousemove mouseup";p(Ba,X,{handler:function(a){var e=Ca[a.type];e&1&&0===a.button&&(this.pressed=!0);e&2&&1!==a.which&&(e=4);this.pressed&&(e&4&&(this.pressed=!1),this.callback(this.manager,
e,{pointers:[a],changedPointers:[a],pointerType:"mouse",srcEvent:a}))}});var E={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Ga={2:"touch",3:"pen",4:"mouse",5:"kinect"},ja="pointerdown",w="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(ja="MSPointerDown",w="MSPointerMove MSPointerUp MSPointerCancel");p(Fa,X,{handler:function(a){var e=this.store,f=!1,g=a.type.toLowerCase().replace("ms","");g=E[g];var h=Ga[a.pointerType]||a.pointerType,w="touch"==h,
k=O(e,a.pointerId,"pointerId");g&1&&(0===a.button||w)?0>k&&(e.push(a),k=e.length-1):g&12&&(f=!0);0>k||(e[k]=a,this.callback(this.manager,g,{pointers:e,changedPointers:[a],pointerType:h,srcEvent:a}),f&&e.splice(k,1))}});var ta={touchstart:1,touchmove:2,touchend:4,touchcancel:8};p(Ia,X,{handler:function(a){var e=ta[a.type];1===e&&(this.started=!0);if(this.started){var f=ca(a.touches);var g=ca(a.changedTouches);e&12&&(f=P(f.concat(g),"identifier",!0));f=[f,g];e&12&&0===f[0].length-f[1].length&&(this.started=
!1);this.callback(this.manager,e,{pointers:f[0],changedPointers:f[1],pointerType:"touch",srcEvent:a})}}});var $a={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Na="touchstart touchmove touchend touchcancel";p(ia,X,{handler:function(a){var e=$a[a.type],f=sa.call(this,a,e);f&&this.callback(this.manager,e,{pointers:f[0],changedPointers:f[1],pointerType:"touch",srcEvent:a})}});p(Q,X,{handler:function(a,e,f){var g="mouse"==f.pointerType;if(!(g&&f.sourceCapabilities&&f.sourceCapabilities.firesTouchEvents)){if("touch"==
f.pointerType)e&1?(this.primaryTouch=f.changedPointers[0].identifier,T.call(this,f)):e&12&&T.call(this,f);else{if(g)a:{g=f.srcEvent.clientX;for(var h=f.srcEvent.clientY,w=0;w<this.lastTouches.length;w++){var k=this.lastTouches[w],l=Math.abs(h-k.y);if(25>=Math.abs(g-k.x)&&25>=l){g=!0;break a}}g=!1}if(g)return}this.callback(a,e,f)}},destroy:function(){this.touch.destroy();this.mouse.destroy()}});var za=W(Oa.style,"touchAction"),Va=za!==g,Ra=function(){if(!Va)return!1;var a={},f=e.CSS&&e.CSS.supports;
"auto;manipulation;pan-y;pan-x;pan-x pan-y;none".split(";").forEach(function(g){a[g]=f?e.CSS.supports("touch-action",g):!0});return a}();D.prototype={set:function(a){"compute"==a&&(a=this.compute());Va&&this.manager.element.style&&Ra[a]&&(this.manager.element.style[za]=a);this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];k(this.manager.recognizers,function(e){B(e.options.enable,[e])&&(a=a.concat(e.getTouchAction()))});return I(a.join(" "))},
preventDefaults:function(a){var e=a.srcEvent,f=a.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var g=this.actions,h=-1<g.indexOf("none")&&!Ra.none,w=-1<g.indexOf("pan-y")&&!Ra["pan-y"];g=-1<g.indexOf("pan-x")&&!Ra["pan-x"];if(h){var k=2>a.distance,l=250>a.deltaTime;if(1===a.pointers.length&&k&&l)return}if(!g||!w)if(h||w&&f&6||g&&f&24)return this.preventSrc(e)}},preventSrc:function(a){this.manager.session.prevented=!0;a.preventDefault()}};J.prototype={defaults:{},set:function(a){ba(this.options,
a);this.manager&&this.manager.touchAction.update();return this},recognizeWith:function(a){if(l(a,"recognizeWith",this))return this;var e=this.simultaneous;a=z(a,this);e[a.id]||(e[a.id]=a,a.recognizeWith(this));return this},dropRecognizeWith:function(a){if(l(a,"dropRecognizeWith",this))return this;a=z(a,this);delete this.simultaneous[a.id];return this},requireFailure:function(a){if(l(a,"requireFailure",this))return this;var e=this.requireFail;a=z(a,this);-1===O(e,a)&&(e.push(a),a.requireFailure(this));
return this},dropRequireFailure:function(a){if(l(a,"dropRequireFailure",this))return this;a=z(a,this);a=O(this.requireFail,a);-1<a&&this.requireFail.splice(a,1);return this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function e(e){f.manager.emit(e,a)}var f=this,g=this.state;8>g&&e(f.options.event+da(g));e(f.options.event);a.additionalEvent&&e(a.additionalEvent);8<=g&&e(f.options.event+da(g))},tryEmit:function(a){if(this.canEmit())return this.emit(a);
this.state=32},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&33))return!1;a++}return!0},recognize:function(a){a=ba({},a);B(this.options.enable,[this,a])?(this.state&56&&(this.state=1),this.state=this.process(a),this.state&30&&this.tryEmit(a)):(this.reset(),this.state=32)},process:function(a){},getTouchAction:function(){},reset:function(){}};p(R,J,{defaults:{pointers:1},attrTest:function(a){var e=this.options.pointers;return 0===e||a.pointers.length===e},
process:function(a){var e=this.state,f=a.eventType,g=e&6;a=this.attrTest(a);return g&&(f&8||!a)?e|16:g||a?f&4?e|8:e&2?e|4:2:32}});p(pa,R,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var a=this.options.direction,e=[];a&6&&e.push("pan-y");a&24&&e.push("pan-x");return e},directionTest:function(a){var e=this.options,f=!0,g=a.distance,h=a.direction,w=a.deltaX,k=a.deltaY;h&e.direction||(e.direction&6?(h=0===w?1:0>w?2:4,f=w!=this.pX,g=Math.abs(a.deltaX)):(h=0===
k?1:0>k?8:16,f=k!=this.pY,g=Math.abs(a.deltaY)));a.direction=h;return f&&g>e.threshold&&h&e.direction},attrTest:function(a){return R.prototype.attrTest.call(this,a)&&(this.state&2||!(this.state&2)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX;this.pY=a.deltaY;var e=Ka(a.direction);e&&(a.additionalEvent=this.options.event+e);this._super.emit.call(this,a)}});p(A,R,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(a){return this._super.attrTest.call(this,
a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&2)},emit:function(a){1!==a.scale&&(a.additionalEvent=this.options.event+(1>a.scale?"in":"out"));this._super.emit.call(this,a)}});p(L,J,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(a){var e=this.options,f=a.pointers.length===e.pointers,g=a.distance<e.threshold,w=a.deltaTime>e.time;this._input=a;if(!g||!f||a.eventType&12&&!w)this.reset();else if(a.eventType&1)this.reset(),
this._timer=h(function(){this.state=8;this.tryEmit()},e.time,this);else if(a.eventType&4)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(a){8===this.state&&(a&&a.eventType&4?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=va(),this.manager.emit(this.options.event,this._input)))}});p(U,R,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>
this.options.threshold||this.state&2)}});p(ha,R,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return pa.prototype.getTouchAction.call(this)},attrTest:function(a){var e=this.options.direction;if(e&30)var f=a.overallVelocity;else e&6?f=a.overallVelocityX:e&24&&(f=a.overallVelocityY);return this._super.attrTest.call(this,a)&&e&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&ea(f)>this.options.velocity&&
a.eventType&4},emit:function(a){var e=Ka(a.offsetDirection);e&&this.manager.emit(this.options.event+e,a);this.manager.emit(this.options.event,a)}});p(y,J,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(a){var e=this.options,f=a.pointers.length===e.pointers,g=a.distance<e.threshold,w=a.deltaTime<e.time;this.reset();if(a.eventType&1&&0===this.count)return this.failTimeout();if(g&&w&&f){if(4!=
a.eventType)return this.failTimeout();f=this.pTime?a.timeStamp-this.pTime<e.interval:!0;g=!this.pCenter||ra(this.pCenter,a.center)<e.posThreshold;this.pTime=a.timeStamp;this.pCenter=a.center;this.count=g&&f?this.count+1:1;this._input=a;if(0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=h(function(){this.state=8;this.tryEmit()},e.interval,this),2):8}return 32},failTimeout:function(){this._timer=h(function(){this.state=32},this.options.interval,this);return 32},reset:function(){clearTimeout(this._timer)},
emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});S.VERSION="2.0.8";S.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[U,{enable:!1}],[A,{enable:!1},["rotate"]],[ha,{direction:6}],[pa,{direction:6},["swipe"]],[y],[y,{event:"doubletap",taps:2},["tap"]],[L]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};
aa.prototype={set:function(a){ba(this.options,a);a.touchAction&&this.touchAction.update();a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init());return this},stop:function(a){this.session.stopped=a?2:1},recognize:function(a){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(a);var f=this.recognizers,g=e.curRecognizer;if(!g||g&&g.state&8)g=e.curRecognizer=null;for(var h=0;h<f.length;){var w=f[h];2===e.stopped||g&&w!=g&&!w.canRecognizeWith(g)?w.reset():
w.recognize(a);!g&&w.state&14&&(g=e.curRecognizer=w);h++}}},get:function(a){if(a instanceof J)return a;for(var e=this.recognizers,f=0;f<e.length;f++)if(e[f].options.event==a)return e[f];return null},add:function(a){if(l(a,"add",this))return this;var e=this.get(a.options.event);e&&this.remove(e);this.recognizers.push(a);a.manager=this;this.touchAction.update();return a},remove:function(a){if(l(a,"remove",this))return this;if(a=this.get(a)){var e=this.recognizers;a=O(e,a);-1!==a&&(e.splice(a,1),this.touchAction.update())}return this},
on:function(a,e){if(a!==g&&e!==g){var f=this.handlers;k(K(a),function(a){f[a]=f[a]||[];f[a].push(e)});return this}},off:function(a,e){if(a!==g){var f=this.handlers;k(K(a),function(a){e?f[a]&&f[a].splice(O(f[a],e),1):delete f[a]});return this}},emit:function(a,e){this.options.domEvents&&ya(a,e);var f=this.handlers[a]&&this.handlers[a].slice();if(f&&f.length)for(e.type=a,e.preventDefault=function(){e.srcEvent.preventDefault()},a=0;a<f.length;)f[a](e),a++},destroy:function(){this.element&&V(this,!1);
this.handlers={};this.session={};this.input.destroy();this.element=null}};ba(S,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:aa,Input:X,TouchAction:D,TouchInput:ia,MouseInput:Ba,PointerEventInput:Fa,TouchMouseInput:Q,SingleTouchInput:Ia,
Recognizer:J,AttrRecognizer:R,Tap:y,Pan:pa,Swipe:ha,Pinch:A,Rotate:U,Press:L,on:C,off:G,each:k,merge:Da,extend:ma,assign:ba,inherit:p,bindFn:u,prefixed:W});("undefined"!==typeof e?e:"undefined"!==typeof self?self:{}).Hammer=S;"function"===typeof define&&define.amd?define(function(){return S}):"undefined"!=typeof module&&module.exports?module.exports=S:e[a]=S})(window,document,"Hammer");var org=org||{};org.vectos=org.vectos||{};org.vectos.util=org.vectos.util||{};org.vectos.math=org.vectos.math||{};
org.vectos.snapper=org.vectos.snapper||{};
(function(){org.vectos.snapper.Base=function(e){e=e||{};return $.extend({},{state:0,value:45,delta:5,snapNone:function(e){return e},snapDelta:function(e){var a=e%this.value,f=Math.abs(a);return f<=this.delta?e-a:this.value-f<=this.delta?0<a?e-f+this.value:e+f-this.value:e},snapGrid:function(e){if(0<=e)return e+=this.value/2,e-e%this.value;e-=this.value/2;return e-e%this.value}},e)};org.vectos.snapper.None=function(e){e=org.vectos.snapper.Base();e.snap=e.snapNone;return e};org.vectos.snapper.Grid=
function(e){var f=org.vectos.snapper.Base();f.value=e||10;f.snap=f.snapGrid;return f};org.vectos.snapper.Delta=function(e,f){var a=org.vectos.snapper.Base();a.value=e||45;a.delta=f||5;a.snap=a.snapDelta;return a}})();
(function(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");org.vectos.math.debugPrintMatrix=function(a){};var f=org.vectos.math.multiplyMatrix=function(e,f){return a(e.multiply(f))},a=org.vectos.math.matrixZero=function(a){1E-6>Math.abs(a.a)&&(a.a=0);1E-6>Math.abs(a.b)&&(a.b=0);1E-6>Math.abs(a.c)&&(a.c=0);1E-6>Math.abs(a.d)&&(a.d=0);1E-6>Math.abs(a.e)&&(a.e=0);1E-6>Math.abs(a.f)&&(a.f=0);return a};org.vectos.math.inBox=function(a,e,f){return a>=f.x&&a<f.x+f.width&&e>=f.y&&e<f.y+
f.height};var g=org.vectos.math.transformPoint=function(a,e,f){f||(a=1);return{x:f.a*a+f.c*e+f.e,y:f.b*a+f.d*e+f.f}};org.vectos.math.transformBox=function(a,e,f,h,l){var k=g(a,e,l),m=g(a+f,e,l);f=g(a+f,e+h,l);a=g(a,e+h,l);e=Math.min(k.x,m.x,a.x,f.x);h=Math.min(k.y,m.y,a.y,f.y);return{x:e,y:h,width:Math.max(k.x,m.x,a.x,f.x)-e,height:Math.max(k.y,m.y,a.y,f.y)-h}};var h=org.vectos.math.matrixIsScale=function(a){return 1E-5>Math.abs(a.b)&&1E-5>Math.abs(a.c)&&1E-5>Math.abs(a.e)&&1E-5>Math.abs(a.f)},l=
org.vectos.math.matrixIsTranslate=function(a){return 1E-5>Math.abs(a.a-1)&&1E-5>Math.abs(a.c)&&1E-5>Math.abs(a.d-1)&&1E-5>Math.abs(a.b)};org.vectos.math.simplifyTransformList=function(a){if(!a||0==a.numberOfItems)return null;var g=a.getItem(0).matrix,k;for(k=1;k<a.numberOfItems;k++)g=f(g,a.getItem(k).matrix);a=e.createSVGTransform();h(g)?a.setScale(g.a,g.d):l(g)?a.setTranslate(g.e,g.f):a.setMatrix(g);return a};org.vectos.math.isIdentityMatrix=function(a){return 1===a.a&&0===a.b&&0===a.c&&1===a.d&&
0===a.e&&0===a.f};org.vectos.math.transformListToMatrix=function(a){if(!a||0==a.numberOfItems)return e.createSVGMatrix();for(var g=a.getItem(0).matrix,h=1;h<a.numberOfItems;h++)g=f(g,a.getItem(h).matrix);return g};org.vectos.math.unionRect=function(a,e){var f={};f.x=Math.min(a.x,e.x);f.y=Math.min(a.y,e.y);f.width=Math.max(a.x+a.width,e.x+e.width)-f.x;f.height=Math.max(a.y+a.height,e.y+e.height)-f.y;return f}})();
(function(){org.vectos.ActionManager=function(){var e,f,a=function(a,e){var g=f.getSelectionManager().getSelection();g&&f.move(g,a,e);f.getSelectionManager().updateSelection()},g=[{id:"action-delete",name:"Delete",key:["del"],icon:"delete.png",enabled:!0,run:function(){var a=f.getSelectionManager().getSelection();a&&(f.deleteElement(a),f.fire("deleted",{target:a}))}},{id:"action-move-left1",name:"Move Left 1px",key:"left",enabled:!0,run:function(){a(-1,0)}},{id:"action-move-right1",name:"Move Right 1px",
key:"right",enabled:!0,run:function(){a(1,0)}},{id:"action-move-up1",name:"Move Up 1px",key:"up",enabled:!0,run:function(){a(0,-1)}},{id:"action-move-down1",name:"Move Down 1px",key:"down",enabled:!0,run:function(){a(0,1)}},{id:"action-move-left10",name:"Move Left 1px",key:"Shift+left",enabled:!0,run:function(){a(-10,0)}},{id:"action-move-right10",name:"Move Right 1px",key:"Shift+right",enabled:!0,run:function(){a(10,0)}},{id:"action-move-up10",name:"Move Up 1px",key:"Shift+up",enabled:!0,run:function(){a(0,
-10)}},{id:"action-move-down10",name:"Move Down 1px",key:"Shift+down",enabled:!0,run:function(){a(0,10)}}],h={},l=function(a){h[a.id]=a;if(a.key&&a.enabled){a.handler=[];var e=a.key;"string"===typeof e&&(e=[a.key]);for(var g=0;g<e.length;g++){var l=function(e){e.preventDefault();f.runActionById(a.id);return!1};a.handler.push(l);$(document).bind("keydown",e[g],l)}}return a},k=function(a){if(action=h[a]){a=action.key;"string"===typeof a&&(a=[action.key]);for(var e=0;e<a.length;e++)$(document).unbind("keydown",
action.handler[e])}return action};return{vectos:void 0,init:function(a){f=this.vectos=a;e=this.vectos.logger;this.addActions(g);return this},actions:h,addActions:function(a){$.each(a,function(a,e){l(e)})},runAction:function(a,e){return a.run(e)},runActionById:function(a,f){var g=this.getAction(a);g?g.run(f):e.error("Can't find actionId="+a)},getAction:function(a){var f=this.actions[a];null==f&&e.error("Unable to find action:"+a);return f},removeAction:k,removeActions:function(a){$.each(a,function(a,
e){k(e)})}}}})();
(function(){org.vectos.SelectionManager=function(){var e=document.createElementNS("http://www.w3.org/2000/svg","svg");return $.extend(this,{init:function(e){this.vectos=e;this.selected=null;var a=$.extend({},{type:"default",multi:!1,"delete":!1,edit:!1,border:"none"});e.options.selection&&"basic"===e.options.selection.type&&$.extend(a,{type:"basic","delete":!0,markup:!0,border:"dashed",createSelectionElement:function(a,f){return e.createRect({fill:"none",stroke:"#0000CC","stroke-dasharray":"3,2,4,2",x:0,
y:0,width:f.width,height:f.height})},createDeleteElement:function(a,f){return e.createElement("circle",{fill:"red",stroke:"black",cx:f.width,cy:0,r:10})}});a=$.extend({},a,e.options.selection);"none"!==a.border&&(a.selectionG=this.addSelectionG(e._info.vectosSvg));e._info.selectionOptions=a;$.extend(this,a)},updateSelection:function(e){var a=this.selected;e&&a&&this.setSelection(null);this.setSelection(a)},maybeUpdateSelection:function(e){this.selected===e&&this.setSelection(this.selected)},addSelectionG:function(e){e=
this.vectos.createG();this.vectos._info.vectosSvg.appendChild(e);return e},setSelection:function(f){this.selected=f;if(null!=this.selectionElement)for(this.selectionElement=null,f=this.selectionG.childNodes.length;0<=--f;)this.selectionG.removeChild(this.selectionG.lastChild);if(null!=this.selected&&this.selectionG){f=this.selectionBBox=this.vectos.canvasBBox(this.selected);f.dx=0;f.dy=0;this.selectionElement=this.createSelectionElement(this.selected,f);this.selectionG.appendChild(this.selectionElement);
if(this["delete"]){var a=this.createDeleteElement(this.selected,f);this.vectos.setAttribute(a,"vectos:control","delete");this.selectionG.appendChild(a);a.setAttribute("style","cursor:pointer;pointer-events:inherit")}this.edit&&(a=this.createEditElement(this.selected,f),this.vectos.setAttribute(a,"vectos:control","edit"),this.selectionG.appendChild(a),a.setAttribute("style","cursor:pointer;pointer-events:inherit"));this.selectionG.setAttribute("transform","translate("+f.x+","+f.y+")");this.vectos.getTransformList(this.selectionG).insertItemBefore(e.createSVGTransform(),
0)}else this.selectionBBox=null;this.vectos.fire("selected",{selection:this.selected})},getSelection:function(){return this.selected},getSelectionBBox:function(){return(b=this.selectionBBox)?{x:b.x+b.dx,y:b.y+b.dy,width:b.width,height:b.height}:null},setSelectionVisibility:function(e){var a=this.vectos._info.selectionOptions.selectionG;a&&(e?$(a).css("display",""):$(a).css("display","none"))},update:function(e){null!=this.selectionElement&&(e=e||this.selected.getBBox(),this.selectionG.setAttribute("transform",
"translate("+e.x+","+e.y+")"))},updateHack:function(f,a){if(null!=this.selectionElement){var g=this.vectos.getTransformList(this.selectionG),h=e.createSVGTransform();h.setTranslate(f,a);g.replaceItem(h,0);this.selectionBBox.dx=f;this.selectionBBox.dy=a}},selectionBBox:null})}})();
(function(){org.vectos.PageManager=function(){var e=function(e){var a=$.extend({},e);a.type=void 0;if("image"===e.type)return e=vectos.createImage(a),vectos.addElement({element:e}),e;if("text"===e.type)return e=vectos.addText(a);vectos.logger.error("unknown page element type: "+e.type)};return $.extend(this,{init:function(e){this.vectos=e;var a=$.extend({},{});a=$.extend({},a,e.options.page);e._info.pageOptions=a;$.extend(this,a)},setPageData:function(f){if(Array.isArray(f.metaElements))for(i=0;i<
f.metaElements.length;i++){var a=f.metaElements[i];e(a)}"object"===typeof f.editRect&&(a=$.extend({},f.editRect,{selectable:!1,fill:"none",stroke:"#0000CC","stroke-dasharray":"3,2,4,2"}),a=vectos.createRect(a),vectos.addElement({element:a}));if(Array.isArray(f.elements))for(i=0;i<f.elements.length;i++)a=f.elements[i],e(a)}})}})();
(function(){org.vectos.util.isSupported=function(){return document.createElementNS&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")&&!0};org.vectos.Vectos=window.Vectos=function(e){var f=org.vectos.math,a=0,g={},h,l=$.extend({debug:function(a){},info:function(a){console&&console.log&&console.log(a)},error:function(a){window.alert("Vectos error: "+a)},fatal:function(a){window.alert("Vectos fatal: "+a)}},e.logger),k=function(){return g.prefix+g.nextId++},
m=function(a,e,f){if(!isNaN(e)&&!isNaN(f)){var h=g.svg.createSVGTransform();h.setTranslate(e,f);a=A(a);a.numberOfItems?a.insertItemBefore(h,0):a.appendItem(h)}},p=function(a,e){e.url&&a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.url);var f=0,g=0;"undefined"!==typeof e.x&&(f=e.x);"undefined"!==typeof e.y&&(g=e.y);if(0!=f||0!=g)t=a.getAttribute("transform")||"",t+=" translate("+f+","+g+")",a.setAttribute("transform",t);"undefined"!==typeof e.width&&"NaN"!=""+e.width&&a.setAttribute("width",
e.width);"undefined"!==typeof e.height&&"NaN"!=""+e.height&&a.setAttribute("height",e.height);"undefined"!==typeof e.opacity&&a.setAttribute("opacity",e.opacity);"undefined"!==typeof e["clip-path"]&&a.setAttribute("clip-path",e["clip-path"]);"undefined"!==typeof e.lock&&window.alert("please update image lock -> selectable ");"undefined"!==typeof e.selectable&&ra(a,e.selectable)},u=function(a){a=A(a);a.numberOfItems&&(newTransform=f.simplifyTransformList(a),null==newTransform?a.clear():(a.clear(),
a.appendItem(newTransform)))},B=function(a,e){var h=g.svg.createSVGMatrix();if(a===g.vectosSvg||a===g.svg||1!=e&&(a=a.parentNode,a===g.vectosSvg))return h;for(;a&&a!==g.svg&&a!==g.vectosSvg;)e=a,e="svg"===e.tagName?g.svg.createSVGMatrix():f.transformListToMatrix(A(e)),h=f.multiplyMatrix(e,h),a=a.parentNode;return h},C=function(e){var f=P("image");e=$.extend({selectable:!0},e);p(f,e);var g=e.done;if("undefined"===typeof e.width||"undefined"===typeof e.height){var h=new Image;a++;xa("outstandingCalls",
{outstandingCalls:a});h.onload=function(){"undefined"===typeof e.width&&f.setAttribute("width",h.width);"undefined"===typeof e.height&&f.setAttribute("height",h.height);E.maybeUpdateSelection(f);a--;xa("outstandingCalls",{outstandingCalls:a});g&&g({target:f})};h.error=function(){a--;xa("outstandingCalls",{outstandingCalls:a})};h.src=e.url;f.setAttribute("width",20);f.setAttribute("height",20)}else g&&g({target:f});return f},G=function(a,e,f){"undefined"===typeof f?a.appendChild(e):a.childNodes.length<=
f?a.appendChild(e):a.insertBefore(e,a.childNodes[f])},N=function(a){if("undefined"===typeof a)l.error("opts.element required to addElement");else return"undefined"===a.parentNode&&l.error("element has no parent.  Can't delete it."),a.parentNode.removeChild(a),a===E.getSelection()&&E.setSelection(null),a},K=function(){return g.width},O=function(){return g.height},ca=function(a,e){for(v in e)!isNaN(e[v])||"width"!==v&&"height"!==v?null===e[v]||"undefined"===typeof e[v]?0===v.indexOf("xlink:")?a.removeAttributeNS("http://www.w3.org/1999/xlink",
v):a.removeAttribute(v):"lock"===v?window.alert("please update app lock"):"selectable"===v?ra(a,e[v]):0===v.indexOf("xlink:")?a.setAttributeNS("http://www.w3.org/1999/xlink",v,e[v]):a.setAttribute(v,e[v]):l.info("ignore attribute: "+v+":"+e[v])},P=function(a,e){a=document.createElementNS("http://www.w3.org/2000/svg",a);ca(a,e);return a},W=function(a){return P("g",a)},oa=function(a){return P("rect",a)},X=function(a,e){e.points=void 0;d="M"+a[0]+","+a[1];for(var f=2;f<a.length;f+=2)d+=" L"+a[f]+","+
a[f+1];d+="z";e.d=d;P("path",e)},ka=function(a){a=a||g.svg;var e=[];e.push("<"+a.nodeName);var f=a.attributes,h;if(f)for(h=0;h<f.length;h++){var w=f.item(h);var l=w.nodeName,k=w.nodeValue;if((w=w.namespaceURI)&&"http://www.vectos.org/xlink"===w){if("selectable"===l)continue;if("rotation"===l)continue;l="vectos:"+l}"transform"===l&&(k=(""+k).replace(/px/g,""));e.push(" "+l+'="'+k+'"')}if(a.hasChildNodes()){e.push(">");for(h=0;h<a.childNodes.length;h++)f=a.childNodes.item(h),3===f.nodeType?e.push(f.nodeValue):
e.push(ka(f));e.push("</"+a.nodeName+">")}else e.push("/>");return e.join("")},fa=function(a){if("svg"===a.tagName)return null;try{var e=a.getBBox()}catch(Na){return null}var g=A(a);g=f.transformListToMatrix(g);a=B(a);e=f.transformBox(e.x,e.y,e.width,e.height,g);e=f.transformBox(e.x,e.y,e.width,e.height,a);return 0==e.x&&0==e.y&&0==e.width&&0==e.height?null:e},M=function(a){for(var e=a.target;e&&e!==g.vectosSvg&&!Ha(e);)e=e.parentNode;if(e){if(Ha(e))return e;var h=a.pageX||a.originalEvent&&a.originalEvent.pageX||
window.event&&window.event.pageX,l=a.pageY||a.originalEvent&&a.originalEvent.pageY||window.event&&window.event.pageY;a=$(g.vectosSvg).parent().width()/K();var k=$(g.vectosSvg).parent().height()/O();a=a<k?a:k;k=g.parent.offset();h=(h-k.left)/a;l=(l-k.top)/a;for(k=0;k<Y.length;k++){a=Y[k];var w=fa(a);if(null!==w&&w&&f.inBox(h,l,w))return a}return e}return a.target},Ha=function(a){return"true"===Da(a,"vectos:selectable")},Y=[],ra=function(a,e){e=!!e;wa(a,"vectos:selectable",""+e);if(e)Y.push(a),wa(a,
"style","cursor:move;pointer-events:inherit");else{for(e=0;e<Y.length;e++)if(a==Y[e]){Y.splice(e,1);break}wa(a,"style","cursor:inherit;pointer-events:inherit")}},Ea=null,Ba=null,Fa=null,Ia=null,ia=null,sa=null,Q=null,T=1,D=0,I=function(a){a=Da(a,"vectos:control");return"delete"===a?2:"edit"===a?5:0},J=function(a){Oa(a.originalEvent.targetTouches[0]);null!==E.getSelection()&&a.preventDefault()},da=function(a){Aa(a.originalEvent.targetTouches[0]);a.preventDefault()},Ka=function(a){ea(a.originalEvent.changedTouches[0]);
a.preventDefault()},z=function(a){Oa(a);null!==E.getSelection()&&a.preventDefault()},R=function(a){Aa(a);a.preventDefault()},pa=function(a){ea(a);a.preventDefault()},A=function(a){return a.transform?a.transform.baseVal:a.gradientTransform?a.gradientTransform.baseVal:a.patternTransform?a.patternTransform.baseVal:null},L=0,U=1,ha=0,y=0,S=function(a){var e=E.getSelection();if(null!=e){if(ya&&(ea(a),e=E.getSelection(),null==e))return;a:{var f=Da(e,"vectos:rotation");if(f)try{y=parseFloat(f);break a}catch(Na){l.info("can't parse:"+
f);y=0;break a}y=0}E.setSelectionVisibility(!1);D=4;(transform=e.getAttribute("transform"))||(transform="");if(f=E.getSelectionBBox())dx=f.x+f.width/2,dy=f.y+f.height/2,transform="translate("+dx+","+dy+") scale(1) rotate(0) translate("+-dx+","+-dy+") "+transform,e.setAttribute("transform",transform),ha=L=a.rotation||0,U=a.scale||1}},aa=function(a){if(4==D||6==D)a=E.getSelection(),u(E.getSelection()),wa(a,"vectos:rotation",""+(L+y)),ja.fire("pinch",{target:a}),E.updateSelection(),E.setSelectionVisibility(!0),
D=0},V=function(a){if(6==D)l.debug("pinchRotate ignored");else if("pinchend"!=a.type)if(4!=D)l.debug("extra pinch start"),S(a);else{var f=E.getSelection();if(null!=f){f=A(f);if(e.rotate){var h=Ga.rotation.snap(a.rotation-ha+y)-y,k=Math.abs(h-L)%360;180<k&&(k=360-k);if(120<k)return;L=h;k=g.svg.createSVGTransform();k.setRotate(h,0,0);f.replaceItem(k,2)}e.zoom&&(h=g.svg.createSVGTransform(),T=a.scale/U,h.setScale(T,T),f.replaceItem(h,1))}}},ya=!1,Ja=!1,Oa=function(a){a.preventDefault&&a.preventDefault();
6==D?D=0:7==D?D=0:1==D&&(D=7);if(!(0<D)){var e=M(a),f=a.pageX||a.originalEvent&&a.originalEvent.pageX||window.event&&window.event.pageX;a=a.pageY||a.originalEvent&&a.originalEvent.pageY||window.event&&window.event.pageY;D=I(e);0<D||(Ha(e)?(ya=!1,Fa=f,Ia=a,ia=(new Date).getTime(),D=1,f=A(e),sa=a=B(e),Q=a.inverse(),f?(f.numberOfItems?f.insertItemBefore(g.svg.createSVGTransformFromMatrix(sa),0):f.appendItem(g.svg.createSVGTransformFromMatrix(sa)),f.insertItemBefore(g.svg.createSVGTransform(),0),f.insertItemBefore(g.svg.createSVGTransformFromMatrix(Q),
0)):(D=0,e=null),elementX=elementY=0,f=$(g.vectosSvg).parent().width()/K(),a=$(g.vectosSvg).parent().height()/O(),T=f<a?f:a,g.parent.offset(),Ea=Fa/T-elementX,Ba=Ia/T-elementY):(D=0,e=null),Ja=e===E.getSelection(),null!=e?E.setSelection(e):D=3,$(document.activeElement).blur())}},Aa=function(a){a.preventDefault&&a.preventDefault();if(1===D){var e=a.pageX||a.originalEvent&&a.originalEvent.pageX||window.event&&window.event.pageX,f=a.pageY||a.originalEvent&&a.originalEvent.pageY||window.event&&window.event.pageY;
if(null!==E.getSelection()){if(!ya)if((new Date).getTime()-ia>g.moveMillis||Math.abs(e-Fa)>g.moveRadius||Math.abs(f-Ia)>g.moveRadius)ya=!0;else return;ja.fire("move",{target:E.getSelection()});E.setSelectionVisibility(!1);a=e/T;f/=T;e=A(E.getSelection());a-=Ea;f-=Ba;a=Ga.move.snap(a);f=Ga.move.snap(f);var h=g.svg.createSVGTransform();h.setTranslate(a,f);e.replaceItem(h,1);E.updateHack(a,f)}}},ea=function(a){E.setSelectionVisibility(!0);3===D?(E.setSelection(null),D=0):6===D?aa(a):1===D?(D=0,a=E.getSelection(),
null!=a&&(u(E.getSelection()),Ba=Ea=ia=Ia=Fa=null,T=1,Q=sa=null,ya?(ya=!1,ja.fire("moved",{target:E.getSelection()})):Ja&&ja.fire("selectionClicked",{target:E.getSelection()}))):2===D?(a=M(a),a=I(a),a===D&&(a=E.getSelection(),N(a),xa("deleted",{target:a}),E.setSelection(null)),D=0):4===D?D=6:5===D&&(a=M(a),a=I(a),a===D&&(a=E.getSelection(),xa("edit",{target:a})),D=0)},va=new function(a){this._info={};this._info.markups=[];this.removeMarkup=function(a){var e=a.element;a=a.markupElement;for(var f=0;f<
this._info.markups.length;f++){var g=this._info.markups[f],h=!0;g&&(e&&g.element!==e&&(h=!1),a&&g.markupElement!==a&&(h=!1),h&&(this._info.markups[f]=null,g.markupElement.parentNode.removeChild(g.markupElement)))}};this.markupElement=function(a){var e=a.element,f=a.markupElement;a.markupLayer.appendChild(f);var g=fa(e);f.setAttribute("transform","translate("+g.x+","+g.y+")");this._info.markups.push({element:a.element,markupElement:f});e.addEventListener("DOMAttrModified",function(a){"transform"===
a.attrName&&(a=fa(e),f.setAttribute("transform","translate("+a.x+","+a.y+")"))})};return this}({}),ba=function(a){a=$.extend(!0,{text:"vectos"},a);var e=P("text",a);ma(e,a);return e},ma=function(a,f){e=$.extend(!0,{},f);if(f=e.text)a.textContent=f;e.text=void 0;ca(a,e);E.updateSelection();return a},Da=function(a,e){if(!a)return null;var f=e.split(":");if(1==f.length)return a.getAttribute(e);var g=f[0];return"vectos"===g?a.getAttributeNS("http://www.vectos.org/xlink",f[1]):"inkscape"===g?a.getAttributeNS("http://www.inkscape.org/namespaces/inkscape",
f[1]):"xlink"===g?a.getAttributeNS("http://www.w3.org/1999/xlink",f[1]):a.getAttribute(e)},wa=function(a,e,f){var g=e.split(":");if(1==g.length)return a.setAttribute(e,f);var h=g[0];return"vectos"===h?a.setAttributeNS("http://www.vectos.org/xlink",g[1],f):"xlink"===h?a.setAttributeNS("http://www.w3.org/1999/xlink",g[1],f):"inkscape"===h?a.setAttributeNS("http://www.inkscape.org/namespaces/inkscape",g[1],f):a.setAttribute(e,f)},La=[],Z={},xa=function(a,e){callbacks=Z[a];if("undefined"!==typeof callbacks)for(e=
e||{},e.type=a,a=0;a<callbacks.length;a++)if(callbacks[a])callbacks[a](e)},qa=e.parentId||"vectos",la=e.viewWidth||600,H=e.viewHeight||400,Ca=e.prefix||"vectos_",F=e.moveRadius||5,Xa=e.moveMillis||200;e.zoom=e.zoom||!1;e.rotate=e.rotate||!1;$.extend(g,{parentId:qa,width:la,height:H,prefix:Ca,moveRadius:F,moveMillis:Xa,nextId:1,ready:1});g.vectosSvg=function(a){var e=$("#"+a.parentId);if(0===e.length)return l.error("can't find container:"+a.parentId),null;e.css("touch-action","none");e=document.createElementNS("http://www.w3.org/2000/svg",
"svg");var f=document.createElementNS("http://www.w3.org/2000/svg","svg");a.width&&(e.setAttribute("width",a.width),f.setAttribute("width",a.width));a.height&&(e.setAttribute("height",a.height),f.setAttribute("height",a.height));a.viewBox?(e.setAttribute("viewBox",a.viewBox),f.setAttribute("viewBox",a.viewBox)):(e.setAttribute("viewBox",a.viewX+" "+a.viewY+" "+a.viewWidth+" "+a.viewHeight),f.setAttribute("viewBox",a.viewX+" "+a.viewY+" "+a.viewWidth+" "+a.viewHeight));e.setAttribute("xmlns:xlink",
"http://www.w3.org/1999/xlink");e.setAttribute("xmlns:vectos","http://www.vectos.org/xlink");e.setAttribute("xmlns:inkscape","http://www.inkscape.org/namespaces/inkscape");e.setAttribute("xmlns","http://www.w3.org/2000/svg");f.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink");f.setAttribute("xmlns:vectos","http://www.vectos.org/xlink");f.setAttribute("xmlns:inkscape","http://www.inkscape.org/namespaces/inkscape");f.setAttribute("xmlns","http://www.w3.org/2000/svg");h=P("defs");f.appendChild(h);
e.appendChild(f);window.PointerEvent&&($(e).bind("pointerdown",z),$(e).bind("pointermove",R),$(e).bind("pointerup",pa));$(e).mousedown(Oa);$(e).mousemove(Aa);$(e).mouseup(ea);a.noParentDiv?document.getElementById(a.parentId).appendChild(e):(f=$("<div></div>").append(e),document.getElementById(a.parentId).appendChild(f[0]));$(e).bind("touchstart",J);$(e).bind("touchmove",da);$(e).bind("touchend",Ka);if(a.zoom||a.rotate){f=new Hammer.Manager(e);var g="";if(a.zoom){var k=new Hammer.Pinch;f.add([k]);
g+=" pinch";f.on("pinchstart",S);f.on("pinchend",aa)}a.rotate&&(a=new Hammer.Rotate,f.add([a]),g+=" rotate");f.on(g,V)}return e}(e);g.svg=g.vectosSvg.childNodes.item(0);g.parent=$("#"+e.parentId);var E=new org.vectos.SelectionManager(e.selection);g.selectionManager=E;qa=new org.vectos.PageManager;g.pageManager=qa;Ca=org.vectos.snapper.None();Ca={rotation:org.vectos.snapper.Delta(),move:Ca,pinch:Ca};var Ga=$.extend({},Ca,e.snap),ja={_info:g,logger:l,snap:Ga,options:e};$.extend(ja,{nextId:k,getViewBoxWidth:K,
getViewBoxHeight:O,setViewBox:function(a){var e=a.x||0,f=a.y||0;g.width=a.width||g.width||600;g.height=a.height||g.height||400;a=e+" "+f+" "+g.width+" "+g.height;g.vectosSvg.setAttribute("viewBox",a);g.svg.setAttribute("viewBox",a)},createG:W,createElement:P,createElementFromString:function(a,e){eopts=$.extend({selectable:!0},e);a=(new DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg">'+a+"</svg>","text/xml").documentElement;a=document.importNode(a,!0);a=a.firstChild;ca(a,eopts);
return a},addDef:function(a){(a.defs||h).appendChild(a.element);return a.element},createClipMask:function(a){var e=P("clipPath");e.setAttribute("id",k());switch(a.type){case "rect":a.type=void 0;e.appendChild(oa(a));break;case "points":a.type=void 0,e.appendChild(X(a.points))}return e},addElement:function(a){var e=a.parent||g.svg,f=a.element;if("undefined"===typeof f)l.error("opts.element required to addElement");else return G(e,f,a.index),"undefined"!==typeof a.autoPosn&&this.autoPosn(f,a.autoPosn,
"undefined"!==typeof a.autoPosnPadding?a.autoPosnPadding:10),f},deleteElement:N,updateElement:function(a){var e=a.element;a=a.index;if("undefined"!==typeof a){var f=e.parentNode;f.removeChild(e);G(f,e,a)}E.maybeUpdateSelection(e)},createImage:C,addImage:function(a){var e=a.parent||g.svg,f=C(a);G(e,f,a.index);return f},updateImage:function(e,f){if(f.immediate)p(e,f),E.maybeUpdateSelection(e);else if(f.url){var g=f.done,h=new Image;a++;xa("outstandingCalls",{outstandingCalls:a});h.onload=function(){p(e,
f);"undefined"===typeof f.width&&e.setAttribute("width",h.width);"undefined"===typeof f.height&&e.setAttribute("height",h.height);E.maybeUpdateSelection(e);a--;xa("outstandingCalls",{outstandingCalls:a});g&&g({target:e})};h.error=function(){a--;xa("outstandingCalls",{outstandingCalls:a})};h.src=f.url}else p(e,f),E.maybeUpdateSelection(e),g&&g({target:e})},createText:ba,addText:function(a){var e=a.parent||g.svg,f=ba(a);G(e,f,a.index);return f},updateText:ma,autoPosn:function(a,e,f){var g=fa(a),h=f,
k=f;if(g)switch(e){case 0:k=h=f;break;case 1:h=(la-g.width)/2;k=f;break;case 2:h=la-g.width-f;k=f;break;case 3:h=f;k=(H-g.height)/2;break;case 4:h=(la-g.width)/2;k=(H-g.height)/2;break;case 5:h=la-g.width-f;k=(H-g.height)/2;break;case 6:h=f;k=H-g.height-f;break;case 7:h=(la-g.width)/2;k=H-g.height-f;break;case 8:h=la-g.width-f,k=H-g.height-f}else window.alert("can't bbox");this.translateElement(a,-g.x+h,-g.y+k)},createRect:oa,actionManager:(new org.vectos.ActionManager).init(ja),getActionManager:function(){return this.actionManager},
getSelectionManager:function(){return E},runAction:function(a,e){return this.actionManager.runAction(a,e)},runActionById:function(a,e){return this.actionManager.runActionById(a,e)},move:function(a,e,f){m(a,e,f);u(a);ja.fire("moved",{target:a})},size:function(a,e,f){a.setAttribute("width",e);a.setAttribute("height",f)},translateElement:m,setSelection:function(a){g.selectionManager.setSelection(a)},markupElement:function(a){va.markupElement(a)},newMarkupLayer:function(a){a=W();g.vectosSvg.appendChild(a);
return a},removeMarkup:function(a){va.removeMarkup(a)},addSimpleFont:function(a,e){a=this.createElementFromString('<style type="text/css">@font-face {font-family: "'+a+'";src: url('+e+') format("truetype");} </style>');this.addElement({element:a})},addBase64Font:function(a,e){a=this.createElementFromString('<style type="text/css">@font-face {font-family: "'+a+'";src: url("data:application/x-font-truetype;charset=utf-8;base64,'+e+'") format("truetype");} </style>');this.addElement({element:a})},bbox:function(a){return a.getBBox()},
canvasBBox:fa,toSvgString:ka,toCroppedSvgString:function(a,e){a=a||g.svg;e=e||5;if(a.hasChildNodes()){var h=a.childNodes,k=null;for(i=0;i<h.length;i++){var m=h.item(i);m=fa(m);k=k?f.unionRect(k,m):m}}k&&l.info("cropped:"+k.x+":"+k.y+":"+k.width+":"+k.height);h=a.getAttribute("viewBox");m=k.width/k.height;2!=m&&(2>m?(m=2*k.height-k.width,k.x-=m/2,k.width+=m):(m=k.width/2-k.height,k.y-=m/2,k.height+=m));k.x-=k.width*e/100;k.width+=k.width*e*2/100;k.y-=k.height*e/100;k.height+=k.height*e*2/100;a.setAttribute("viewBox",
k.x+" "+k.y+" "+k.width+" "+k.height);a.setAttribute("viewBox",k.x+" "+k.y+" "+k.width+" "+k.height);e=ka(a);a.setAttribute("viewBox",h);return e},getAttribute:Da,setAttribute:wa,getTransformList:A,ref:function(a){"String"!==typeof a&&(a=a.getAttribute("id"));return"url(#"+a+")"},deepTransformMatrix:B,getElementById:function(a){return g.vectosSvg.getElementById(a)},setSelectable:ra,ready:function(a){g.ready?a():La.push(a)},on:function(a,e){callbacks=Z[a];"undefined"===typeof callbacks&&(callbacks=
Z[a]=[]);callbacks.push(e)},off:function(a,e){if("undefined"===typeof e)Z[a]=[];else if(callbacks=Z[a],"undefined"!==typeof callbacks)for(a=0;a<callbacks.length;a++)if(callbacks[a]===e){callbacks[a]=void 0;break}},fire:xa,setPageData:function(a){g.pageManager.setPageData(a)},getOutstandingCalls:function(){return a},unsupported:{pinchStartFn:S,pinchRotateFn:V,pinchEndFn:aa}});E.init(ja);qa.init(ja);return ja}})();
AjaxManager=function(){var e;return{init:function(){e={}},newCall:function(f){null!=e[f.id]&&e[f.id].abort();e[f.id]=$.ajax({url:f.url,dataType:f.dataType?f.dataType:"json",timeout:f.timeout||3E4,cache:!1});e[f.id].didError=!1;e[f.id].isRunning=!0;e[f.id].error(f.errorFn);e[f.id].error(function(){e[f.id].didError=!0});e[f.id].done(f.doneFn);e[f.id].always(f.alwaysFn);e[f.id].always(function(){e[f.id].isRunning=!1})},abortCall:function(f){"undefined"!=typeof e[f]&&e[f].abort()},isCallNotRunning:function(f){return"undefined"===
typeof e[f]||!e[f].isRunning},isCallRunning:function(f){return"undefined"!==typeof e[f]&&e[f].isRunning},didCallError:function(f){return"undefined"!==typeof e[f]&&e[f].didError}}};var pixelRatioCookie=$.cookie("pixelRatio"),pixelRatioParam=getParameters()._pixelRatio,pixelRatio=null;null!=pixelRatioParam?pixelRatio=parseFloat(pixelRatioParam):null==pixelRatioCookie&&(pixelRatio=window.devicePixelRatio||1);
if(null!=pixelRatio){var setTo=""+pixelRatio;if(pixelRatioCookie!=setTo){$.cookie("pixelRatio",setTo,{path:"/",expires:31536E3});pixelRatioCookie=$.cookie("pixelRatio");var pixelRatioCookieVal=parseFloat(pixelRatioCookie);pixelRatioCookie==setTo&&1<pixelRatioCookieVal&&null==pixelRatioParam&&window.location.reload()}}else pixelRatio=parseFloat($.cookie("pixelRatio"));
